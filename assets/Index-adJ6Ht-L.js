var Ze=Object.defineProperty;var et=(t,e,o)=>e in t?Ze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var u=(t,e,o)=>(et(t,typeof e!="symbol"?e+"":e,o),o),_e=(t,e,o)=>{if(!e.has(t))throw TypeError("Cannot "+o)};var Q=(t,e,o)=>(_e(t,e,"read from private field"),o?o.call(t):e.get(t)),D=(t,e,o)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,o)};var j=(t,e,o)=>(_e(t,e,"access private method"),o);import{a as Se,b as Ce,d as be,j as tt,g as ot}from"./base-yyLP02RM.js";import{i as st,C as at,u as Me,E as nt}from"./el-button-V9yVIzlW.js";import{l as xe,a3 as rt,a4 as lt,E as De,a5 as it,L as ee,Y as ct,W as me,d as W,q as V,O as Y,y as dt,K as ke,f as N,o as $,c as G,h as C,P as z,a as c,t as X,w as I,Q as ut,i as te,R as F,$ as Be,k as x,B as pt,J as mt,M as ft,U as yt,S as ht,a6 as bt,z as gt,A as vt,T as ge,a7 as wt,s as St,p as Ct,F as xt,a8 as Et,a9 as _t,j as Mt}from"./index-EijTbRPw.js";import{O as kt}from"./OrbitControls-8TWoeIgH.js";import{S as Tt,M as Lt,R as At}from"./StaticGeometryGenerator-7VhuO_Ah.js";import{V as H,y as Rt,M as Dt,b3 as Te,T as Bt,b4 as Ot,b as q,f as Ee,N as It,g as Oe,S as Ie,af as $t,D as Pt,aS as Vt,K as fe,J as ye,aE as jt,b5 as zt,b6 as Yt,a as $e,h as Nt,P as Wt,W as Ut,aY as Gt,E as Ht}from"./three.module-QHcyoKWZ.js";import{d as Kt}from"./index-W38Qjy34.js";import{u as K}from"./index-zO-Sle_b.js";import{G as Xt}from"./GLTFLoader-ETY4XINV.js";import{R as Ft}from"./Reflector-M-F-U3cc.js";import{C as qt,a as Jt}from"./CSS3DRenderer-_3bmgnXt.js";import{E as Qt}from"./index-8D9whdzD.js";import{_ as Pe,d as Le,w as Zt}from"./use-form-item-ieksRtPh.js";import{b as eo,c as to,a as oo}from"./use-global-config-V7seQnXL.js";import{g as so,F as ao,c as no,E as ro}from"./focus-trap-3Q_5T989.js";import{b as ve,i as Ve,h as Ae,g as lo,a as io,r as co,u as Re}from"./style-mkdtnv4l.js";import{t as uo,U as je}from"./event-1FCdoqwy.js";import{_ as po}from"./_plugin-vue_export-helper-x3n3nnut.js";var Z=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(Z||{});const mo=(t,e,o)=>{let s={offsetX:0,offsetY:0};const a=r=>{const d=r.clientX,i=r.clientY,{offsetX:f,offsetY:g}=s,b=t.value.getBoundingClientRect(),m=b.left,h=b.top,S=b.width,_=b.height,B=document.documentElement.clientWidth,v=document.documentElement.clientHeight,M=-m+f,E=-h+g,A=B-m-S+f,y=v-h-_+g,O=L=>{const p=Math.min(Math.max(f+L.clientX-d,M),A),k=Math.min(Math.max(g+L.clientY-i,E),y);s={offsetX:p,offsetY:k},t.value.style.transform=`translate(${ve(p)}, ${ve(k)})`},w=()=>{document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",O),document.addEventListener("mouseup",w)},n=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",a)},l=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",a)};xe(()=>{rt(()=>{o.value?n():l()})}),lt(()=>{l()})},fo=(t,e={})=>{De(t)||uo("[useLockscreen]","You need to pass a ref param to this function");const o=e.ns||Se("popup"),s=it(()=>o.bm("parent","hidden"));if(!Ve||Ae(document.body,s.value))return;let a=0,n=!1,l="0";const r=()=>{setTimeout(()=>{co(document==null?void 0:document.body,s.value),n&&document&&(document.body.style.width=l)},200)};ee(t,d=>{if(!d){r();return}n=!Ae(document.body,s.value),n&&(l=document.body.style.width),a=so(o.namespace.value);const i=document.documentElement.clientHeight<document.body.scrollHeight,f=lo(document.body,"overflowY");a>0&&(i||f==="scroll")&&n&&(document.body.style.width=`calc(100% - ${a}px)`),io(document.body,s.value)}),ct(()=>r())},ze=t=>{if(!t)return{onClick:me,onMousedown:me,onMouseup:me};let e=!1,o=!1;return{onClick:l=>{e&&o&&t(l),e=o=!1},onMousedown:l=>{e=l.target===l.currentTarget},onMouseup:l=>{o=l.target===l.currentTarget}}},yo=Ce({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:be([String,Array,Object])},zIndex:{type:be([String,Number])}}),ho={click:t=>t instanceof MouseEvent},bo="overlay";var go=W({name:"ElOverlay",props:yo,emits:ho,setup(t,{slots:e,emit:o}){const s=Se(bo),a=d=>{o("click",d)},{onClick:n,onMousedown:l,onMouseup:r}=ze(t.customMaskEvent?void 0:a);return()=>t.mask?V("div",{class:[s.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:n,onMousedown:l,onMouseup:r},[Y(e,"default")],Z.STYLE|Z.CLASS|Z.PROPS,["onClick","onMouseup","onMousedown"]):dt("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Y(e,"default")])}});const vo=go,Ye=Symbol("dialogInjectionKey"),Ne=Ce({center:Boolean,alignCenter:Boolean,closeIcon:{type:st},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),wo={close:()=>!0},So=["aria-level"],Co=["aria-label"],xo=["id"],Eo=W({name:"ElDialogContent"}),_o=W({...Eo,props:Ne,emits:wo,setup(t){const e=t,{t:o}=eo(),{Close:s}=at,{dialogRef:a,headerRef:n,bodyId:l,ns:r,style:d}=ke(Ye),{focusTrapRef:i}=ke(ao),f=N(()=>[r.b(),r.is("fullscreen",e.fullscreen),r.is("draggable",e.draggable),r.is("align-center",e.alignCenter),{[r.m("center")]:e.center},e.customClass]),g=no(i,a),b=N(()=>e.draggable);return mo(a,n,b),(m,h)=>($(),G("div",{ref:c(g),class:z(c(f)),style:Be(c(d)),tabindex:"-1"},[C("header",{ref_key:"headerRef",ref:n,class:z(c(r).e("header"))},[Y(m.$slots,"header",{},()=>[C("span",{role:"heading","aria-level":m.ariaLevel,class:z(c(r).e("title"))},X(m.title),11,So)]),m.showClose?($(),G("button",{key:0,"aria-label":c(o)("el.dialog.close"),class:z(c(r).e("headerbtn")),type:"button",onClick:h[0]||(h[0]=S=>m.$emit("close"))},[V(c(Qt),{class:z(c(r).e("close"))},{default:I(()=>[($(),te(ut(m.closeIcon||c(s))))]),_:1},8,["class"])],10,Co)):F("v-if",!0)],2),C("div",{id:c(l),class:z(c(r).e("body"))},[Y(m.$slots,"default")],10,xo),m.$slots.footer?($(),G("footer",{key:0,class:z(c(r).e("footer"))},[Y(m.$slots,"footer")],2)):F("v-if",!0)],6))}});var Mo=Pe(_o,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const ko=Ce({...Ne,appendToBody:Boolean,beforeClose:{type:be(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),To={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[je]:t=>tt(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Lo=(t,e)=>{const s=mt().emit,{nextZIndex:a}=to();let n="";const l=Le(),r=Le(),d=x(!1),i=x(!1),f=x(!1),g=x(t.zIndex||a());let b,m;const h=oo("namespace",ot),S=N(()=>{const R={},U=`--${h.value}-dialog`;return t.fullscreen||(t.top&&(R[`${U}-margin-top`]=t.top),t.width&&(R[`${U}-width`]=ve(t.width))),R}),_=N(()=>t.alignCenter?{display:"flex"}:{});function B(){s("opened")}function v(){s("closed"),s(je,!1),t.destroyOnClose&&(f.value=!1)}function M(){s("close")}function E(){m==null||m(),b==null||b(),t.openDelay&&t.openDelay>0?{stop:b}=Re(()=>w(),t.openDelay):w()}function A(){b==null||b(),m==null||m(),t.closeDelay&&t.closeDelay>0?{stop:m}=Re(()=>L(),t.closeDelay):L()}function y(){function R(U){U||(i.value=!0,d.value=!1)}t.beforeClose?t.beforeClose(R):A()}function O(){t.closeOnClickModal&&y()}function w(){Ve&&(d.value=!0)}function L(){d.value=!1}function p(){s("openAutoFocus")}function k(){s("closeAutoFocus")}function P(R){var U;((U=R.detail)==null?void 0:U.focusReason)==="pointer"&&R.preventDefault()}t.lockScroll&&fo(d);function J(){t.closeOnPressEscape&&y()}return ee(()=>t.modelValue,R=>{R?(i.value=!1,E(),f.value=!0,g.value=t.zIndex?g.value++:a(),pt(()=>{s("open"),e.value&&(e.value.scrollTop=0)})):d.value&&A()}),ee(()=>t.fullscreen,R=>{e.value&&(R?(n=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=n)}),xe(()=>{t.modelValue&&(d.value=!0,f.value=!0,E())}),{afterEnter:B,afterLeave:v,beforeLeave:M,handleClose:y,onModalClick:O,close:A,doClose:L,onOpenAutoFocus:p,onCloseAutoFocus:k,onCloseRequested:J,onFocusoutPrevented:P,titleId:l,bodyId:r,closed:i,style:S,overlayDialogStyle:_,rendered:f,visible:d,zIndex:g}},Ao=["aria-label","aria-labelledby","aria-describedby"],Ro=W({name:"ElDialog",inheritAttrs:!1}),Do=W({...Ro,props:ko,emits:To,setup(t,{expose:e}){const o=t,s=ft();Me({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},N(()=>!!s.title)),Me({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},N(()=>!!o.customClass));const a=Se("dialog"),n=x(),l=x(),r=x(),{visible:d,titleId:i,bodyId:f,style:g,overlayDialogStyle:b,rendered:m,zIndex:h,afterEnter:S,afterLeave:_,beforeLeave:B,handleClose:v,onModalClick:M,onOpenAutoFocus:E,onCloseAutoFocus:A,onCloseRequested:y,onFocusoutPrevented:O}=Lo(o,n);yt(Ye,{dialogRef:n,headerRef:l,bodyId:f,ns:a,rendered:m,style:g});const w=ze(M),L=N(()=>o.draggable&&!o.fullscreen);return e({visible:d,dialogContentRef:r}),(p,k)=>($(),te(wt,{to:"body",disabled:!p.appendToBody},[V(ge,{name:"dialog-fade",onAfterEnter:c(S),onAfterLeave:c(_),onBeforeLeave:c(B),persisted:""},{default:I(()=>[vt(V(c(vo),{"custom-mask-event":"",mask:p.modal,"overlay-class":p.modalClass,"z-index":c(h)},{default:I(()=>[C("div",{role:"dialog","aria-modal":"true","aria-label":p.title||void 0,"aria-labelledby":p.title?void 0:c(i),"aria-describedby":c(f),class:z(`${c(a).namespace.value}-overlay-dialog`),style:Be(c(b)),onClick:k[0]||(k[0]=(...P)=>c(w).onClick&&c(w).onClick(...P)),onMousedown:k[1]||(k[1]=(...P)=>c(w).onMousedown&&c(w).onMousedown(...P)),onMouseup:k[2]||(k[2]=(...P)=>c(w).onMouseup&&c(w).onMouseup(...P))},[V(c(ro),{loop:"",trapped:c(d),"focus-start-el":"container",onFocusAfterTrapped:c(E),onFocusAfterReleased:c(A),onFocusoutPrevented:c(O),onReleaseRequested:c(y)},{default:I(()=>[c(m)?($(),te(Mo,ht({key:0,ref_key:"dialogContentRef",ref:r},p.$attrs,{"custom-class":p.customClass,center:p.center,"align-center":p.alignCenter,"close-icon":p.closeIcon,draggable:c(L),fullscreen:p.fullscreen,"show-close":p.showClose,title:p.title,"aria-level":p.headerAriaLevel,onClose:c(v)}),bt({header:I(()=>[p.$slots.title?Y(p.$slots,"title",{key:1}):Y(p.$slots,"header",{key:0,close:c(v),titleId:c(i),titleClass:c(a).e("title")})]),default:I(()=>[Y(p.$slots,"default")]),_:2},[p.$slots.footer?{name:"footer",fn:I(()=>[Y(p.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):F("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ao)]),_:3},8,["mask","overlay-class","z-index"]),[[gt,c(d)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Bo=Pe(Do,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Oo=Zt(Bo);var oe,se;class Io{constructor(e,o,s){u(this,"moveState",{forward:!1,backward:!1,left:!1,right:!1,playerIsOnGround:!0});u(this,"playerVelocity",new H);u(this,"player");u(this,"temp",{upVector:new H(0,1,0),tempVector:new H,tempVector2:new H,tempBox:new Rt,tempMat:new Dt,tempSegment:new Te});u(this,"params",{playerSpeed:12,gravity:-50});u(this,"controls");u(this,"camera");u(this,"capsuleInfo",{radius:1,segment:new Te(new H,new H(0,-5,0))});D(this,oe,e=>{const{moveState:o}=this;switch(e.code){case"KeyW":case"ArrowUp":o.forward=!0;break;case"KeyS":case"ArrowDown":o.backward=!0;break;case"KeyA":case"ArrowLeft":o.left=!0;break;case"KeyD":case"ArrowRight":o.right=!0;break;case"Space":o.playerIsOnGround&&(this.playerVelocity.y=20,o.playerIsOnGround=!1)}});D(this,se,e=>{const{moveState:o}=this;switch(e.code){case"KeyW":case"ArrowUp":o.forward=!1;break;case"KeyS":case"ArrowDown":o.backward=!1;break;case"KeyA":case"ArrowLeft":o.left=!1;break;case"KeyD":case"ArrowRight":o.right=!1;break}});u(this,"reset",()=>{const{playerVelocity:e,player:o,camera:s,controls:a}=this;e.set(0,0,0),o.position.set(0,5,0),s.position.sub(a.target),a.target.copy(o.position),s.position.add(o.position),a.update()});K("keydown",Q(this,oe)),K("keyup",Q(this,se)),this.player=e,this.controls=o,this.camera=s}updatePlayer(e,o){const{playerVelocity:s,player:a,params:n,controls:l,camera:r}=this,{playerIsOnGround:d,forward:i,backward:f,right:g,left:b}=this.moveState,{upVector:m,tempVector:h}=this.temp;d?s.y=e*n.gravity:s.y+=e*n.gravity,a.position.addScaledVector(s,e);const S=l.getAzimuthalAngle();i&&(h.set(0,0,-1).applyAxisAngle(m,S),a.position.addScaledVector(h,n.playerSpeed*e)),f&&(h.set(0,0,1).applyAxisAngle(m,S),a.position.addScaledVector(h,n.playerSpeed*e)),b&&(h.set(-1,0,0).applyAxisAngle(m,S),a.position.addScaledVector(h,n.playerSpeed*e)),g&&(h.set(1,0,0).applyAxisAngle(m,S),a.position.addScaledVector(h,n.playerSpeed*e)),a.updateMatrixWorld();const{tempBox:_,tempMat:B,tempSegment:v,tempVector2:M}=this.temp,E=this.capsuleInfo;_.makeEmpty(),B.copy(o.matrixWorld).invert(),v.copy(E.segment),v.start.applyMatrix4(a.matrixWorld).applyMatrix4(B),v.end.applyMatrix4(a.matrixWorld).applyMatrix4(B),_.expandByPoint(v.start),_.expandByPoint(v.end),_.min.addScalar(-E.radius),_.max.addScalar(E.radius),o.geometry.boundsTree.shapecast({intersectsBounds:w=>w.intersectsBox(_),intersectsTriangle:w=>{const L=h,p=M,k=w.closestPointToSegment(v,L,p);if(k<E.radius){const P=E.radius-k,J=p.sub(L).normalize();v.start.addScaledVector(J,P),v.end.addScaledVector(J,P)}}});const A=h;A.copy(v.start).applyMatrix4(o.matrixWorld);const y=M;y.subVectors(A,a.position),this.moveState.playerIsOnGround=y.y>Math.abs(e*s.y*.25);const O=Math.max(0,y.length()-1e-5);y.normalize().multiplyScalar(O),a.position.add(y),d?s.set(0,0,0):(y.normalize(),s.addScaledVector(y,-y.dot(s))),r.position.sub(l.target),l.target.copy(a.position),r.position.add(a.position),a.position.y<-25&&this.reset()}get isMoving(){const{forward:e,backward:o,left:s,right:a,playerIsOnGround:n}=this.moveState;return e||o||s||a||!n}}oe=new WeakMap,se=new WeakMap;const $o=[new URL("/WebglStudy/assets/1-jXR7ZUjp.png",import.meta.url).href,new URL("/WebglStudy/assets/2-8vJsU-6H.png",import.meta.url).href,new URL("/WebglStudy/assets/3-I04dhWrC.jpg",import.meta.url).href,new URL("/WebglStudy/assets/4-_S1lA-TY.jpg",import.meta.url).href,new URL("/WebglStudy/assets/5-SLAmQn81.png",import.meta.url).href,new URL("/WebglStudy/assets/6-4Lv4exkJ.png",import.meta.url).href,new URL("/WebglStudy/assets/7-bdmokHeq.png",import.meta.url).href,new URL("/WebglStudy/assets/8-eW9S7Pt9.jpg",import.meta.url).href,new URL("/WebglStudy/assets/9-QOO3Yf_E.jpg",import.meta.url).href,new URL("/WebglStudy/assets/10-oH6bPEmm.png",import.meta.url).href],he={1:{title:"《小橘贝》",author:"小雅",describe:`
		它站在画面中央，静静地凝视着观众，柔和的橘色将它的柔软毛发和灵动眼眸妩媚地勾勒出来。<br>
		小猫的小耳朵微微竖起，似乎在倾听着什么，身体略微前倾，展现出它对周围世界的好奇和敏感。<br>
		画面的背景色以淡蓝色为主，这种色彩营造了温馨轻柔的氛围，让人仿佛置身于阳光明媚的午后时光中。<br>
		整个画作细致精致、色彩明亮而温暖，带给人们一种温馨、亲切的感受。
		`},2:{title:"《微光》",author:"小雅",describe:`
		微小的星光和银河组成了一个神秘的宇宙世界，让人感到无限的遐想和想象。<br>
		当你凝视着这幅画时，你会感受到无边无际的深邃和宁静。<br>
		你仿佛置身于一个没有噪音、没有烦扰的夜空中。在这个宁静的空间里，你可以看到银河中微光闪烁的样子。<br>
		这些微光似乎是夜空中唯一的生命体，它们微弱却坚定地发出光芒，点亮着整个银河系。<br>
		这些微光是如此的纤细而又强大，仿佛在无边的黑暗中，只有它们才能给人带来希望和力量。
		`},3:{title:"《天鹅》",author:"小雅",describe:`
		湖面静谧如镜，微风拂过，泛起一圈圈细微的涟漪，仿佛为优雅的白色天鹅们铺上了一层晶莹剔透的纱帐。<br>
		其中一只白羽如雪的天鹅在水中自由自在地舞动着优美的姿态，如同一位华丽的舞者在水上翩翩起舞。<br>
		纯白色羽毛在阳光的照射下，闪烁着淡淡的光晕，如同珍珠一般璀璨夺目。
		`},4:{title:"《山中小屋》",author:"小雅",describe:`
		宁静而恬淡，远山隐现于云雾中，仿佛是一幅梦幻般的画卷。<br>
		小屋在山脚下宁静地伫立，墙体洁白，屋顶泛着淡淡的阳光，使得小屋与周围的环境相互映衬。<br>
		流露出一种自然的和谐之美。
		`},5:{title:"《太空人》",author:"小雅",describe:`
		太空人身披着黑夜在星罗棋布的宇宙中漫游。<br>
		虽说现在已经是太空时代，人类早就可以坐太空飞船去月球，<br>
		但却永远无法探索别人内心的宇宙。
		`},6:{title:"《粉色海洋》",author:"小雅",describe:`
		粉色云朵蓬松如棉花糖展开眼前，弯月微笑在缝隙间，月光柔和，清雅动人。<br>
		紫色天空如梦，星辉闪烁，默默倾听，轻轻地，微风拂面，悄悄地，生命在流动。
		`},7:{title:"《风平浪静》",author:"小雅",describe:`
		撑一条船，离开岸边一百米，风平浪静，彩霞慢慢淡下去。<br>
		撑一条船，离开岸边两百米，风平浪静，夜晚轻轻呼唤你。<br>
		撑一条船，离开岸边三百米，风平浪静，大鱼笑我傻兮兮。<br>
		撑一条船 离开岸边四百米，风平浪静，星儿闪闪笑眯眯。<br>
		撑一条船 离开岸边五百米，风平浪静，海龟向我挥手臂。
		`},8:{title:"《向日葵》",author:"小雅",describe:`
		阳光照耀，金黄的花盘。<br>
		宛如一盏明灯，指引前行。<br>
		向日葵，你是信仰，你是力量，你是光辉，你是坚毅，你是忠诚，你是爱慕，你是美丽。
		`},9:{title:"《花·虎·蝶》",author:"小雅",describe:`
		一段奇妙的相遇，是自由和勇气的结合，是一份神秘而又动人的韵味。<br>
		在这片色彩斑斓的花海之中，一只带着蝴蝶翅膀的老虎，骑着踏板车，<br>
		它像是一道闪电，划破了这片美好的天地。<br>
		翅膀轻轻地振动，仿佛随时可以飞离这片美好的天地，飞向更广阔的天空。
		`},10:{title:"《豚》",author:"小雅",describe:`
		所有的转折隐藏在密集的鸟群中，天空与海洋都无法察觉，怀着美梦却可以看见。<br>
		摸索颠倒的一瞬间，所有的怀念隐藏在相似的日子里，心里的蜘蛛模仿人类张灯结彩
		`}},T={width:window.innerWidth,height:window.innerHeight},we=x();var ae,We,ne,Ue,re,Ge,le,He,ie,Ke;class Po{constructor(e){D(this,ae);D(this,ne);D(this,re);D(this,le);D(this,ie);u(this,"loader",new Xt);u(this,"textureLoader",new Bt);u(this,"collisionScene");u(this,"textureBoards",{});u(this,"galleryBoards",{});u(this,"raycastObjects",[]);u(this,"loaded",x(!1));u(this,"scene");u(this,"loadingState",{loaded:[],total:[],progress:x(0)});this.scene=e,j(this,ie,Ke).call(this),j(this,ne,Ue).call(this);const o=[j(this,ae,We).call(this),j(this,re,Ge).call(this)];Promise.all(o).then(()=>{j(this,le,He).call(this),this.loaded.value=!0})}}ae=new WeakSet,We=function(){const{loader:e,scene:o}=this;return new Promise((s,a)=>{e.load("model/scene_collision.glb",n=>{const l=n.scene;l.updateMatrixWorld(!0),this.collisionScene=l,l.traverse(i=>{(i.name==="home001"||i.name==="PointLight")&&(i.castShadow=!0),i.name.includes("PointLight")&&i instanceof Ot&&(i.intensity*=2e3),i.name==="home002"&&(i.castShadow=!0,i.receiveShadow=!0),i instanceof q&&/gallery.*_board/.test(i.name)&&(this.galleryBoards[i.name]=i,this.raycastObjects.push(i))});const r=new Tt(this.collisionScene);r.attributes=["position"];const d=r.generate();d.boundsTree=new Lt(d),we.value=new q(d),o.add(l),s(n)},n=>{const{loaded:l,total:r,progress:d}=this.loadingState;l[0]=n.loaded,r[0]=n.total,d.value=l.reduce((i,f)=>i+f,0)/r.reduce((i,f)=>i+f,0)})})},ne=new WeakSet,Ue=function(){const{loader:e,scene:o}=this;return new Promise(s=>{e.load("model/scene_desk_obj.glb",a=>{const n=a.scene;o.add(n),s(a)},a=>{const{loaded:n,total:l,progress:r}=this.loadingState;n[1]=a.loaded,l[1]=a.total,r.value=n.reduce((d,i)=>d+i,0)/l.reduce((d,i)=>d+i,0)})})},re=new WeakSet,Ge=async function(){const{textureLoader:e,textureBoards:o}=this,s=[];function a(n){n.colorSpace=Oe;const l=n.image.width/n.image.height;let r=1,d=1;l>1?r=1/l:d=l,n.offset.set(.5-r/2,.5-d/2),n.repeat.set(r,d)}for(const[n,l]of $o.entries()){const r=new Promise(d=>{e.load(l,i=>{a(i),o[n+1]=i,d(i)})});s.push(r)}return await Promise.all(s),o},le=new WeakSet,He=function(){const{textureBoards:e,galleryBoards:o}=this;for(const s in e){const a=o[`gallery${s}_board`],n=a.material;n.map=e[s],a.userData={name:a.name,title:he[s].title,author:he[s].author,describe:he[s].describe,index:s,src:e[s].image.src,show_boards:!0},[4,5,6,7,9].includes(+s)&&(a.rotation.y=-Math.PI/2),+s==8&&(a.rotation.y=Math.PI)}},ie=new WeakSet,Ke=function(){const e=new Ft(new Ee(100,100),{textureWidth:T.width*window.devicePixelRatio,textureHeight:T.height*window.devicePixelRatio,color:16777215});e.material instanceof It&&(e.material.transparent=!0,e.material.fragmentShader=e.material.fragmentShader.replace("gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 )","gl_FragColor = vec4( blendOverlay( base.rgb, color ), 0.1 )")),e.rotation.x=-Math.PI/2,this.scene.add(e)};const Xe=x();var ce,Fe,de,qe,ue,Je;class Vo{constructor(e){D(this,ce);D(this,de);D(this,ue);u(this,"cssScene");u(this,"scene");u(this,"cssRenderer");u(this,"update",e=>{this.cssRenderer.render(this.cssScene,e)});u(this,"dispose",()=>{this.cssScene.traverse(e=>{e.material&&e.material.dispose(),e.geometry&&e.geometry.dispose(),e.dispose&&e.dispose(),e=null}),this.cssScene.clear()});this.cssScene=new Ie,this.scene=e,this.cssRenderer=new qt,j(this,ce,Fe).call(this),j(this,de,qe).call(this),j(this,ue,Je).call(this)}}ce=new WeakSet,Fe=function(){const{cssRenderer:e}=this;e.setSize(T.width,T.height),e.domElement.style.position="absolute",e.domElement.style.top="0px",document.body.appendChild(e.domElement)},de=new WeakSet,qe=function(){K("resize",()=>{this.cssRenderer.setSize(T.width,T.height)})},ue=new WeakSet,Je=function(){const e=new Ee(1.5,1.3),o=new $t({color:0,side:Pt,transparent:!0,opacity:0,blending:Vt}),s=new q(e,o);s.position.set(-15.55,5.5,36.33),s.rotation.set(0,Math.PI/2,0),this.scene.add(s);const a=document.createElement("iframe");a.src="https://www.bilibili.com/",a.style.width="730px",a.style.height="500px",a.style.boxSizing="border-box",a.style.opacity="1";const n=new Jt(a);n.position.copy(s.position),n.rotation.copy(s.rotation),n.scale.set(.002,.002,.002),Xe.value=s,this.cssScene.add(n)};const Qe=x(!1);class jo{constructor(e){u(this,"camera");u(this,"hoverPoint",new fe(0,0));u(this,"tooltipRaycaster",new ye);u(this,"raycastObjects",[]);u(this,"bindClickRayCastObj",(e=[],o)=>{let s=0,a=0;K("mousedown",r=>{s=r.screenX,a=r.screenY}),this.raycastObjects=e;const n=new ye;n.far=18,K("mouseup",r=>{const d=Math.abs(r.screenX-s),i=Math.abs(r.screenY-a);if(d>1||i>1)return;const f=new fe(r.clientX/T.width*2-1,1-r.clientY/T.height*2);n.setFromCamera(f,this.camera);const g=n.intersectObjects(e);g.length&&o(g[0].object)});const l=new ye;l.near=0,l.far=18,K("mousemove",r=>{const d=new fe(r.clientX/T.width*2-1,1-r.clientY/T.height*2);l.setFromCamera(d,this.camera);const i=l.intersectObjects([Xe.value]);Qe.value=!!i.length})});this.camera=e,this.tooltipRaycaster.far=15}updateTooltipRayCast(e,o){if(this.raycastObjects.length){this.tooltipRaycaster.setFromCamera(this.hoverPoint,this.camera);const s=this.tooltipRaycaster.intersectObjects(this.raycastObjects);s.length&&s[0].object.userData.title?e(s[0].object):o()}}}const zo={class:"tracking-wider select-none",text:"white"},Yo={class:"fixed bottom-190px left-1/2 -translate-x-1/2 leading-40px z-11 px-20px rounded bg-black/40"},No=C("footer",{class:"fixed bottom-20px left-1/2 -translate-x-1/2 leading-40px z-11 rounded bg-black/40 w-50vw text-center"},"Tips：点击此画可查看详情",-1),Wo=W({__name:"Tip",props:{title:{}},setup(t){return(e,o)=>($(),G("div",zo,[C("header",Yo,X(e.title),1),No]))}}),Uo={class:"flex justify-between gap-x-40px tracking-wider leading-32px",text:"16px white"},Go={class:"font-bold",text:"20px"},Ho=["innerHTML"],Ko=["src"],Xo=W({__name:"Detail",props:{data:{}},setup(t){return(e,o)=>($(),G("div",Uo,[C("aside",null,[C("header",Go,X(e.data.title),1),C("p",null,"作者："+X(e.data.author),1),C("footer",{class:"text-justify leading-40px",innerHTML:e.data.describe},null,8,Ho)]),C("img",{src:e.data.src,alt:"",class:"w-670px h-500px"},null,8,Ko)]))}});var pe;class Fo{constructor(e,o){u(this,"scene");u(this,"camera");u(this,"sound");D(this,pe,()=>{const e=new jt;this.camera.add(e);const o=new zt(e);this.sound=o,new Yt().load("虔心悲切遥呼上师祈请文.mp3",n=>{o.setBuffer(n),o.setRefDistance(20),o.setDirectionalCone(180,230,.5),o.setLoop(!0)});const a=new q(new Ee(1,1),new $e({color:16711680}));a.position.set(-15.9,4.49,36.42),a.visible=!1,this.scene.add(a),a.add(o)});u(this,"play",()=>{this.sound.play()});u(this,"pause",()=>{this.sound.pause()});this.scene=e,this.camera=o,Q(this,pe).call(this)}}pe=new WeakMap;const qo=t=>(Et("data-v-12426ef2"),t=t(),_t(),t),Jo={class:"fixed left-20px top-20px z-11"},Qo={key:0,class:"loading-text fixed z-11 inset-0 grid place-items-center",text:"120px"},Zo=qo(()=>C("div",{class:"fixed right-20px top-20px px-20px leading-50px z-1 bg-white rounded"},[C("span",null,"学习来源："),C("a",{href:"https://github.com/Steve245270533/gallery",target:"_blank",class:"text-blue"},"gallery")],-1)),es=W({__name:"Index",setup(t){const e=new Ie;e.background=new Nt(15658734);const o=new Wt(55,T.width/T.height,.1,1e3);o.position.set(0,0,3);const s=new Ut({antialias:!0,logarithmicDepthBuffer:!0});s.setSize(T.width,T.height),s.setPixelRatio(window.devicePixelRatio),s.shadowMap.enabled=!0,s.outputColorSpace=Oe,s.toneMapping=Gt;const a=St();xe(()=>{a.value.appendChild(s.domElement)});const n=new Vo(e),l=new kt(o,s.domElement);l.minDistance=1e-4,l.maxDistance=1e-4;const r=new Po(e),d=new jo(o);ee(r.loaded,y=>{y&&d.bindClickRayCastObj(r.raycastObjects,A)});const i=new q(new At(.5,2.5,.5,10,1),new $e({color:255}));i.geometry.translate(0,-.25,0),e.add(i);const f=new Io(i,l,o);f.reset();const g=new Fo(e,o),b=x(!1);function m(){b.value=!b.value,b.value?g.play():g.pause()}const h=new Ht;s.setAnimationLoop(()=>{s.render(e,o),l.update();const y=Math.min(h.getDelta(),.05);we.value&&f.updatePlayer(y,we.value),f.isMoving&&d.updateTooltipRayCast(_,B),n.update(o)});const S=x();function _(y){S.value=y.userData.title}function B(){S.value=null}const v=N(()=>r.loadingState.progress.value<1),M=x(!1),E=x();function A(y){E.value=y.userData,M.value=!M.value}return Ct(()=>{Kt(e,s),n.dispose()}),(y,O)=>{const w=nt,L=Oo;return $(),G(xt,null,[C("div",{id:"webgl",ref_key:"containerRef",ref:a,class:z(["relative z-1",{"pointer-events-none":c(Qe)}])},null,2),C("div",Jo,[V(w,{type:"primary",onClick:m},{default:I(()=>[Mt(X(c(b)?"暂停音乐":"播放音乐"),1)]),_:1})]),V(ge,{appear:"",name:"fade"},{default:I(()=>[c(v)?($(),G("div",Qo,X(Math.floor(c(r).loadingState.progress.value*100))+"% ",1)):F("",!0)]),_:1}),V(ge,{appear:"",name:"fade"},{default:I(()=>[c(S)?($(),te(Wo,{key:0,title:c(S)},null,8,["title"])):F("",!0)]),_:1}),V(L,{modelValue:c(M),"onUpdate:modelValue":O[0]||(O[0]=p=>De(M)?M.value=p:null),width:"70vw",class:"!bg-black !rounded-20px"},{default:I(()=>[V(Xo,{data:c(E)},null,8,["data"])]),_:1},8,["modelValue"]),Zo],64)}}}),ws=po(es,[["__scopeId","data-v-12426ef2"]]);export{ws as default};
