var Qe=Object.defineProperty;var et=(t,e,o)=>e in t?Qe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var u=(t,e,o)=>(et(t,typeof e!="symbol"?e+"":e,o),o),Ee=(t,e,o)=>{if(!e.has(t))throw TypeError("Cannot "+o)};var J=(t,e,o)=>(Ee(t,e,"read from private field"),o?o.call(t):e.get(t)),D=(t,e,o)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,o)};var z=(t,e,o)=>(Ee(t,e,"access private method"),o);import{a as Se,b as Ce,d as ge,j as tt,g as ot}from"./base-832129ad.js";import{i as st,C as at,u as Me,E as nt}from"./el-button-500755b8.js";import{l as _e,a3 as rt,a4 as lt,E as De,a5 as it,M as ee,Z as ct,X as fe,d as W,q as P,P as N,y as dt,L as ke,f as Y,o as V,c as G,h as C,Q as j,a as c,t as X,w as O,i as te,R as ut,S as F,H as Be,k as _,B as pt,K as ft,N as mt,V as yt,z as ht,U as gt,a6 as bt,A as vt,T as be,a7 as wt,s as St,p as Ct,F as _t,a8 as xt,a9 as Et,j as Mt}from"./index-7a5ad68f.js";import{O as kt}from"./OrbitControls-7fec1fea.js";import{S as Tt,M as Lt,R as Rt}from"./StaticGeometryGenerator-51fdb10b.js";import{V as K,y as At,M as Dt,aV as Te,T as Bt,aW as It,b as q,f as xe,$ as Ot,g as Ie,S as Oe,a9 as Vt,D as $t,Y as Pt,K as me,J as ye,aX as zt,aY as jt,aZ as Nt,a as Ve,h as Yt,P as Wt,W as Ut,a6 as Gt,E as Kt}from"./three.module-98ca892a.js";import{d as Ht}from"./index-1a26f821.js";import{u as H}from"./index-0720c8d7.js";import{G as Xt}from"./GLTFLoader-e2ef6592.js";import{R as Ft}from"./Reflector-026e6156.js";import{C as qt,a as Zt}from"./CSS3DRenderer-b11574ec.js";import{E as Jt}from"./index-27f14d7d.js";import{_ as $e,d as Le,w as Qt}from"./use-form-item-a2e94290.js";import{b as eo,c as to,a as oo}from"./use-global-config-6f86aac5.js";import{g as so,F as ao,c as no,E as ro}from"./focus-trap-f80f67d5.js";import{b as ve,i as Pe,h as Re,g as lo,a as io,r as co,u as Ae}from"./style-b9baf7eb.js";import{t as uo,U as ze}from"./event-e06a23af.js";import{_ as po}from"./_plugin-vue_export-helper-c27b6911.js";var Q=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(Q||{});const fo=(t,e,o)=>{let s={offsetX:0,offsetY:0};const a=r=>{const d=r.clientX,i=r.clientY,{offsetX:m,offsetY:b}=s,g=t.value.getBoundingClientRect(),f=g.left,h=g.top,S=g.width,E=g.height,B=document.documentElement.clientWidth,v=document.documentElement.clientHeight,M=-f+m,x=-h+b,R=B-f-S+m,y=v-h-E+b,I=L=>{const p=Math.min(Math.max(m+L.clientX-d,M),R),k=Math.min(Math.max(b+L.clientY-i,x),y);s={offsetX:p,offsetY:k},t.value.style.transform=`translate(${ve(p)}, ${ve(k)})`},w=()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",I),document.addEventListener("mouseup",w)},n=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",a)},l=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",a)};_e(()=>{rt(()=>{o.value?n():l()})}),lt(()=>{l()})},mo=(t,e={})=>{De(t)||uo("[useLockscreen]","You need to pass a ref param to this function");const o=e.ns||Se("popup"),s=it(()=>o.bm("parent","hidden"));if(!Pe||Re(document.body,s.value))return;let a=0,n=!1,l="0";const r=()=>{setTimeout(()=>{co(document==null?void 0:document.body,s.value),n&&document&&(document.body.style.width=l)},200)};ee(t,d=>{if(!d){r();return}n=!Re(document.body,s.value),n&&(l=document.body.style.width),a=so(o.namespace.value);const i=document.documentElement.clientHeight<document.body.scrollHeight,m=lo(document.body,"overflowY");a>0&&(i||m==="scroll")&&n&&(document.body.style.width=`calc(100% - ${a}px)`),io(document.body,s.value)}),ct(()=>r())},je=t=>{if(!t)return{onClick:fe,onMousedown:fe,onMouseup:fe};let e=!1,o=!1;return{onClick:l=>{e&&o&&t(l),e=o=!1},onMousedown:l=>{e=l.target===l.currentTarget},onMouseup:l=>{o=l.target===l.currentTarget}}},yo=Ce({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:ge([String,Array,Object])},zIndex:{type:ge([String,Number])}}),ho={click:t=>t instanceof MouseEvent},go="overlay";var bo=W({name:"ElOverlay",props:yo,emits:ho,setup(t,{slots:e,emit:o}){const s=Se(go),a=d=>{o("click",d)},{onClick:n,onMousedown:l,onMouseup:r}=je(t.customMaskEvent?void 0:a);return()=>t.mask?P("div",{class:[s.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:n,onMousedown:l,onMouseup:r},[N(e,"default")],Q.STYLE|Q.CLASS|Q.PROPS,["onClick","onMouseup","onMousedown"]):dt("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[N(e,"default")])}});const vo=bo,Ne=Symbol("dialogInjectionKey"),Ye=Ce({center:Boolean,alignCenter:Boolean,closeIcon:{type:st},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),wo={close:()=>!0},So=["aria-level"],Co=["aria-label"],_o=["id"],xo=W({name:"ElDialogContent"}),Eo=W({...xo,props:Ye,emits:wo,setup(t){const e=t,{t:o}=eo(),{Close:s}=at,{dialogRef:a,headerRef:n,bodyId:l,ns:r,style:d}=ke(Ne),{focusTrapRef:i}=ke(ao),m=Y(()=>[r.b(),r.is("fullscreen",e.fullscreen),r.is("draggable",e.draggable),r.is("align-center",e.alignCenter),{[r.m("center")]:e.center},e.customClass]),b=no(i,a),g=Y(()=>e.draggable);return fo(a,n,g),(f,h)=>(V(),G("div",{ref:c(b),class:j(c(m)),style:Be(c(d)),tabindex:"-1"},[C("header",{ref_key:"headerRef",ref:n,class:j(c(r).e("header"))},[N(f.$slots,"header",{},()=>[C("span",{role:"heading","aria-level":f.ariaLevel,class:j(c(r).e("title"))},X(f.title),11,So)]),f.showClose?(V(),G("button",{key:0,"aria-label":c(o)("el.dialog.close"),class:j(c(r).e("headerbtn")),type:"button",onClick:h[0]||(h[0]=S=>f.$emit("close"))},[P(c(Jt),{class:j(c(r).e("close"))},{default:O(()=>[(V(),te(ut(f.closeIcon||c(s))))]),_:1},8,["class"])],10,Co)):F("v-if",!0)],2),C("div",{id:c(l),class:j(c(r).e("body"))},[N(f.$slots,"default")],10,_o),f.$slots.footer?(V(),G("footer",{key:0,class:j(c(r).e("footer"))},[N(f.$slots,"footer")],2)):F("v-if",!0)],6))}});var Mo=$e(Eo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const ko=Ce({...Ye,appendToBody:Boolean,beforeClose:{type:ge(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),To={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ze]:t=>tt(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Lo=(t,e)=>{const s=ft().emit,{nextZIndex:a}=to();let n="";const l=Le(),r=Le(),d=_(!1),i=_(!1),m=_(!1),b=_(t.zIndex||a());let g,f;const h=oo("namespace",ot),S=Y(()=>{const A={},U=`--${h.value}-dialog`;return t.fullscreen||(t.top&&(A[`${U}-margin-top`]=t.top),t.width&&(A[`${U}-width`]=ve(t.width))),A}),E=Y(()=>t.alignCenter?{display:"flex"}:{});function B(){s("opened")}function v(){s("closed"),s(ze,!1),t.destroyOnClose&&(m.value=!1)}function M(){s("close")}function x(){f==null||f(),g==null||g(),t.openDelay&&t.openDelay>0?{stop:g}=Ae(()=>w(),t.openDelay):w()}function R(){g==null||g(),f==null||f(),t.closeDelay&&t.closeDelay>0?{stop:f}=Ae(()=>L(),t.closeDelay):L()}function y(){function A(U){U||(i.value=!0,d.value=!1)}t.beforeClose?t.beforeClose(A):R()}function I(){t.closeOnClickModal&&y()}function w(){Pe&&(d.value=!0)}function L(){d.value=!1}function p(){s("openAutoFocus")}function k(){s("closeAutoFocus")}function $(A){var U;((U=A.detail)==null?void 0:U.focusReason)==="pointer"&&A.preventDefault()}t.lockScroll&&mo(d);function Z(){t.closeOnPressEscape&&y()}return ee(()=>t.modelValue,A=>{A?(i.value=!1,x(),m.value=!0,b.value=t.zIndex?b.value++:a(),pt(()=>{s("open"),e.value&&(e.value.scrollTop=0)})):d.value&&R()}),ee(()=>t.fullscreen,A=>{e.value&&(A?(n=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=n)}),_e(()=>{t.modelValue&&(d.value=!0,m.value=!0,x())}),{afterEnter:B,afterLeave:v,beforeLeave:M,handleClose:y,onModalClick:I,close:R,doClose:L,onOpenAutoFocus:p,onCloseAutoFocus:k,onCloseRequested:Z,onFocusoutPrevented:$,titleId:l,bodyId:r,closed:i,style:S,overlayDialogStyle:E,rendered:m,visible:d,zIndex:b}},Ro=["aria-label","aria-labelledby","aria-describedby"],Ao=W({name:"ElDialog",inheritAttrs:!1}),Do=W({...Ao,props:ko,emits:To,setup(t,{expose:e}){const o=t,s=mt();Me({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},Y(()=>!!s.title)),Me({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},Y(()=>!!o.customClass));const a=Se("dialog"),n=_(),l=_(),r=_(),{visible:d,titleId:i,bodyId:m,style:b,overlayDialogStyle:g,rendered:f,zIndex:h,afterEnter:S,afterLeave:E,beforeLeave:B,handleClose:v,onModalClick:M,onOpenAutoFocus:x,onCloseAutoFocus:R,onCloseRequested:y,onFocusoutPrevented:I}=Lo(o,n);yt(Ne,{dialogRef:n,headerRef:l,bodyId:m,ns:a,rendered:f,style:b});const w=je(M),L=Y(()=>o.draggable&&!o.fullscreen);return e({visible:d,dialogContentRef:r}),(p,k)=>(V(),te(wt,{to:"body",disabled:!p.appendToBody},[P(be,{name:"dialog-fade",onAfterEnter:c(S),onAfterLeave:c(E),onBeforeLeave:c(B),persisted:""},{default:O(()=>[ht(P(c(vo),{"custom-mask-event":"",mask:p.modal,"overlay-class":p.modalClass,"z-index":c(h)},{default:O(()=>[C("div",{role:"dialog","aria-modal":"true","aria-label":p.title||void 0,"aria-labelledby":p.title?void 0:c(i),"aria-describedby":c(m),class:j(`${c(a).namespace.value}-overlay-dialog`),style:Be(c(g)),onClick:k[0]||(k[0]=(...$)=>c(w).onClick&&c(w).onClick(...$)),onMousedown:k[1]||(k[1]=(...$)=>c(w).onMousedown&&c(w).onMousedown(...$)),onMouseup:k[2]||(k[2]=(...$)=>c(w).onMouseup&&c(w).onMouseup(...$))},[P(c(ro),{loop:"",trapped:c(d),"focus-start-el":"container",onFocusAfterTrapped:c(x),onFocusAfterReleased:c(R),onFocusoutPrevented:c(I),onReleaseRequested:c(y)},{default:O(()=>[c(f)?(V(),te(Mo,gt({key:0,ref_key:"dialogContentRef",ref:r},p.$attrs,{"custom-class":p.customClass,center:p.center,"align-center":p.alignCenter,"close-icon":p.closeIcon,draggable:c(L),fullscreen:p.fullscreen,"show-close":p.showClose,title:p.title,"aria-level":p.headerAriaLevel,onClose:c(v)}),bt({header:O(()=>[p.$slots.title?N(p.$slots,"title",{key:1}):N(p.$slots,"header",{key:0,close:c(v),titleId:c(i),titleClass:c(a).e("title")})]),default:O(()=>[N(p.$slots,"default")]),_:2},[p.$slots.footer?{name:"footer",fn:O(()=>[N(p.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):F("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ro)]),_:3},8,["mask","overlay-class","z-index"]),[[vt,c(d)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Bo=$e(Do,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Io=Qt(Bo);var oe,se;class Oo{constructor(e,o,s){u(this,"moveState",{forward:!1,backward:!1,left:!1,right:!1,playerIsOnGround:!0});u(this,"playerVelocity",new K);u(this,"player");u(this,"temp",{upVector:new K(0,1,0),tempVector:new K,tempVector2:new K,tempBox:new At,tempMat:new Dt,tempSegment:new Te});u(this,"params",{playerSpeed:12,gravity:-50});u(this,"controls");u(this,"camera");u(this,"capsuleInfo",{radius:1,segment:new Te(new K,new K(0,-5,0))});D(this,oe,e=>{const{moveState:o}=this;switch(e.code){case"KeyW":case"ArrowUp":o.forward=!0;break;case"KeyS":case"ArrowDown":o.backward=!0;break;case"KeyA":case"ArrowLeft":o.left=!0;break;case"KeyD":case"ArrowRight":o.right=!0;break;case"Space":o.playerIsOnGround&&(this.playerVelocity.y=20,o.playerIsOnGround=!1)}});D(this,se,e=>{const{moveState:o}=this;switch(e.code){case"KeyW":case"ArrowUp":o.forward=!1;break;case"KeyS":case"ArrowDown":o.backward=!1;break;case"KeyA":case"ArrowLeft":o.left=!1;break;case"KeyD":case"ArrowRight":o.right=!1;break}});u(this,"reset",()=>{const{playerVelocity:e,player:o,camera:s,controls:a}=this;e.set(0,0,0),o.position.set(0,5,0),s.position.sub(a.target),a.target.copy(o.position),s.position.add(o.position),a.update()});H("keydown",J(this,oe)),H("keyup",J(this,se)),this.player=e,this.controls=o,this.camera=s}updatePlayer(e,o){const{playerVelocity:s,player:a,params:n,controls:l,camera:r}=this,{playerIsOnGround:d,forward:i,backward:m,right:b,left:g}=this.moveState,{upVector:f,tempVector:h}=this.temp;d?s.y=e*n.gravity:s.y+=e*n.gravity,a.position.addScaledVector(s,e);const S=l.getAzimuthalAngle();i&&(h.set(0,0,-1).applyAxisAngle(f,S),a.position.addScaledVector(h,n.playerSpeed*e)),m&&(h.set(0,0,1).applyAxisAngle(f,S),a.position.addScaledVector(h,n.playerSpeed*e)),g&&(h.set(-1,0,0).applyAxisAngle(f,S),a.position.addScaledVector(h,n.playerSpeed*e)),b&&(h.set(1,0,0).applyAxisAngle(f,S),a.position.addScaledVector(h,n.playerSpeed*e)),a.updateMatrixWorld();const{tempBox:E,tempMat:B,tempSegment:v,tempVector2:M}=this.temp,x=this.capsuleInfo;E.makeEmpty(),B.copy(o.matrixWorld).invert(),v.copy(x.segment),v.start.applyMatrix4(a.matrixWorld).applyMatrix4(B),v.end.applyMatrix4(a.matrixWorld).applyMatrix4(B),E.expandByPoint(v.start),E.expandByPoint(v.end),E.min.addScalar(-x.radius),E.max.addScalar(x.radius),o.geometry.boundsTree.shapecast({intersectsBounds:w=>w.intersectsBox(E),intersectsTriangle:w=>{const L=h,p=M,k=w.closestPointToSegment(v,L,p);if(k<x.radius){const $=x.radius-k,Z=p.sub(L).normalize();v.start.addScaledVector(Z,$),v.end.addScaledVector(Z,$)}}});const R=h;R.copy(v.start).applyMatrix4(o.matrixWorld);const y=M;y.subVectors(R,a.position),this.moveState.playerIsOnGround=y.y>Math.abs(e*s.y*.25);const I=Math.max(0,y.length()-1e-5);y.normalize().multiplyScalar(I),a.position.add(y),d?s.set(0,0,0):(y.normalize(),s.addScaledVector(y,-y.dot(s))),r.position.sub(l.target),l.target.copy(a.position),r.position.add(a.position),a.position.y<-25&&this.reset()}get isMoving(){const{forward:e,backward:o,left:s,right:a,playerIsOnGround:n}=this.moveState;return e||o||s||a||!n}}oe=new WeakMap,se=new WeakMap;const Vo=[new URL("/WebglStudy/assets/1-91d1fd28.png",self.location).href,new URL("/WebglStudy/assets/2-577e2981.png",self.location).href,new URL("/WebglStudy/assets/3-e96f4416.jpg",self.location).href,new URL("/WebglStudy/assets/4-2c59a331.jpg",self.location).href,new URL("/WebglStudy/assets/5-c8aed110.png",self.location).href,new URL("/WebglStudy/assets/6-9d09d2dc.png",self.location).href,new URL("/WebglStudy/assets/7-68ca4bc6.png",self.location).href,new URL("/WebglStudy/assets/8-74f5f15e.jpg",self.location).href,new URL("/WebglStudy/assets/9-44142f78.jpg",self.location).href,new URL("/WebglStudy/assets/10-1cde4a43.png",self.location).href],he={1:{title:"《小橘贝》",author:"小雅",describe:`
		它站在画面中央，静静地凝视着观众，柔和的橘色将它的柔软毛发和灵动眼眸妩媚地勾勒出来。<br>
		小猫的小耳朵微微竖起，似乎在倾听着什么，身体略微前倾，展现出它对周围世界的好奇和敏感。<br>
		画面的背景色以淡蓝色为主，这种色彩营造了温馨轻柔的氛围，让人仿佛置身于阳光明媚的午后时光中。<br>
		整个画作细致精致、色彩明亮而温暖，带给人们一种温馨、亲切的感受。
		`},2:{title:"《微光》",author:"小雅",describe:`
		微小的星光和银河组成了一个神秘的宇宙世界，让人感到无限的遐想和想象。<br>
		当你凝视着这幅画时，你会感受到无边无际的深邃和宁静。<br>
		你仿佛置身于一个没有噪音、没有烦扰的夜空中。在这个宁静的空间里，你可以看到银河中微光闪烁的样子。<br>
		这些微光似乎是夜空中唯一的生命体，它们微弱却坚定地发出光芒，点亮着整个银河系。<br>
		这些微光是如此的纤细而又强大，仿佛在无边的黑暗中，只有它们才能给人带来希望和力量。
		`},3:{title:"《天鹅》",author:"小雅",describe:`
		湖面静谧如镜，微风拂过，泛起一圈圈细微的涟漪，仿佛为优雅的白色天鹅们铺上了一层晶莹剔透的纱帐。<br>
		其中一只白羽如雪的天鹅在水中自由自在地舞动着优美的姿态，如同一位华丽的舞者在水上翩翩起舞。<br>
		纯白色羽毛在阳光的照射下，闪烁着淡淡的光晕，如同珍珠一般璀璨夺目。
		`},4:{title:"《山中小屋》",author:"小雅",describe:`
		宁静而恬淡，远山隐现于云雾中，仿佛是一幅梦幻般的画卷。<br>
		小屋在山脚下宁静地伫立，墙体洁白，屋顶泛着淡淡的阳光，使得小屋与周围的环境相互映衬。<br>
		流露出一种自然的和谐之美。
		`},5:{title:"《太空人》",author:"小雅",describe:`
		太空人身披着黑夜在星罗棋布的宇宙中漫游。<br>
		虽说现在已经是太空时代，人类早就可以坐太空飞船去月球，<br>
		但却永远无法探索别人内心的宇宙。
		`},6:{title:"《粉色海洋》",author:"小雅",describe:`
		粉色云朵蓬松如棉花糖展开眼前，弯月微笑在缝隙间，月光柔和，清雅动人。<br>
		紫色天空如梦，星辉闪烁，默默倾听，轻轻地，微风拂面，悄悄地，生命在流动。
		`},7:{title:"《风平浪静》",author:"小雅",describe:`
		撑一条船，离开岸边一百米，风平浪静，彩霞慢慢淡下去。<br>
		撑一条船，离开岸边两百米，风平浪静，夜晚轻轻呼唤你。<br>
		撑一条船，离开岸边三百米，风平浪静，大鱼笑我傻兮兮。<br>
		撑一条船 离开岸边四百米，风平浪静，星儿闪闪笑眯眯。<br>
		撑一条船 离开岸边五百米，风平浪静，海龟向我挥手臂。
		`},8:{title:"《向日葵》",author:"小雅",describe:`
		阳光照耀，金黄的花盘。<br>
		宛如一盏明灯，指引前行。<br>
		向日葵，你是信仰，你是力量，你是光辉，你是坚毅，你是忠诚，你是爱慕，你是美丽。
		`},9:{title:"《花·虎·蝶》",author:"小雅",describe:`
		一段奇妙的相遇，是自由和勇气的结合，是一份神秘而又动人的韵味。<br>
		在这片色彩斑斓的花海之中，一只带着蝴蝶翅膀的老虎，骑着踏板车，<br>
		它像是一道闪电，划破了这片美好的天地。<br>
		翅膀轻轻地振动，仿佛随时可以飞离这片美好的天地，飞向更广阔的天空。
		`},10:{title:"《豚》",author:"小雅",describe:`
		所有的转折隐藏在密集的鸟群中，天空与海洋都无法察觉，怀着美梦却可以看见。<br>
		摸索颠倒的一瞬间，所有的怀念隐藏在相似的日子里，心里的蜘蛛模仿人类张灯结彩
		`}},T={width:window.innerWidth,height:window.innerHeight},we=_();var ae,We,ne,Ue,re,Ge,le,Ke,ie,He;class $o{constructor(e){D(this,ae);D(this,ne);D(this,re);D(this,le);D(this,ie);u(this,"loader",new Xt);u(this,"textureLoader",new Bt);u(this,"collisionScene");u(this,"textureBoards",{});u(this,"galleryBoards",{});u(this,"raycastObjects",[]);u(this,"loaded",_(!1));u(this,"scene");u(this,"loadingState",{loaded:[],total:[],progress:_(0)});this.scene=e,z(this,ie,He).call(this),z(this,ne,Ue).call(this);const o=[z(this,ae,We).call(this),z(this,re,Ge).call(this)];Promise.all(o).then(()=>{z(this,le,Ke).call(this),this.loaded.value=!0})}}ae=new WeakSet,We=function(){const{loader:e,scene:o}=this;return new Promise((s,a)=>{e.load("model/scene_collision.glb",n=>{const l=n.scene;l.updateMatrixWorld(!0),this.collisionScene=l,l.traverse(i=>{(i.name==="home001"||i.name==="PointLight")&&(i.castShadow=!0),i.name.includes("PointLight")&&i instanceof It&&(i.intensity*=2e3),i.name==="home002"&&(i.castShadow=!0,i.receiveShadow=!0),i instanceof q&&/gallery.*_board/.test(i.name)&&(this.galleryBoards[i.name]=i,this.raycastObjects.push(i))});const r=new Tt(this.collisionScene);r.attributes=["position"];const d=r.generate();d.boundsTree=new Lt(d),we.value=new q(d),o.add(l),s(n)},n=>{const{loaded:l,total:r,progress:d}=this.loadingState;l[0]=n.loaded,r[0]=n.total,d.value=l.reduce((i,m)=>i+m,0)/r.reduce((i,m)=>i+m,0)})})},ne=new WeakSet,Ue=function(){const{loader:e,scene:o}=this;return new Promise(s=>{e.load("model/scene_desk_obj.glb",a=>{const n=a.scene;o.add(n),s(a)},a=>{const{loaded:n,total:l,progress:r}=this.loadingState;n[1]=a.loaded,l[1]=a.total,r.value=n.reduce((d,i)=>d+i,0)/l.reduce((d,i)=>d+i,0)})})},re=new WeakSet,Ge=async function(){const{textureLoader:e,textureBoards:o}=this,s=[];function a(n){n.colorSpace=Ie;const l=n.image.width/n.image.height;let r=1,d=1;l>1?r=1/l:d=l,n.offset.set(.5-r/2,.5-d/2),n.repeat.set(r,d)}for(const[n,l]of Vo.entries()){const r=new Promise(d=>{e.load(l,i=>{a(i),o[n+1]=i,d(i)})});s.push(r)}return await Promise.all(s),o},le=new WeakSet,Ke=function(){const{textureBoards:e,galleryBoards:o}=this;for(const s in e){const a=o[`gallery${s}_board`],n=a.material;n.map=e[s],a.userData={name:a.name,title:he[s].title,author:he[s].author,describe:he[s].describe,index:s,src:e[s].image.src,show_boards:!0},[4,5,6,7,9].includes(+s)&&(a.rotation.y=-Math.PI/2),+s==8&&(a.rotation.y=Math.PI)}},ie=new WeakSet,He=function(){const e=new Ft(new xe(100,100),{textureWidth:T.width*window.devicePixelRatio,textureHeight:T.height*window.devicePixelRatio,color:16777215});e.material instanceof Ot&&(e.material.transparent=!0,e.material.fragmentShader=e.material.fragmentShader.replace("gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 )","gl_FragColor = vec4( blendOverlay( base.rgb, color ), 0.1 )")),e.rotation.x=-Math.PI/2,this.scene.add(e)};const Xe=_();var ce,Fe,de,qe,ue,Ze;class Po{constructor(e){D(this,ce);D(this,de);D(this,ue);u(this,"cssScene");u(this,"scene");u(this,"cssRenderer");u(this,"update",e=>{this.cssRenderer.render(this.cssScene,e)});u(this,"dispose",()=>{this.cssScene.traverse(e=>{e.material&&e.material.dispose(),e.geometry&&e.geometry.dispose(),e.dispose&&e.dispose(),e=null}),this.cssScene.clear()});this.cssScene=new Oe,this.scene=e,this.cssRenderer=new qt,z(this,ce,Fe).call(this),z(this,de,qe).call(this),z(this,ue,Ze).call(this)}}ce=new WeakSet,Fe=function(){const{cssRenderer:e}=this;e.setSize(T.width,T.height),e.domElement.style.position="absolute",e.domElement.style.top="0px",document.body.appendChild(e.domElement)},de=new WeakSet,qe=function(){H("resize",()=>{this.cssRenderer.setSize(T.width,T.height)})},ue=new WeakSet,Ze=function(){const e=new xe(1.5,1.3),o=new Vt({color:0,side:$t,transparent:!0,opacity:0,blending:Pt}),s=new q(e,o);s.position.set(-15.55,5.5,36.33),s.rotation.set(0,Math.PI/2,0),this.scene.add(s);const a=document.createElement("iframe");a.src="https://www.bilibili.com/",a.style.width="730px",a.style.height="500px",a.style.boxSizing="border-box",a.style.opacity="1";const n=new Zt(a);n.position.copy(s.position),n.rotation.copy(s.rotation),n.scale.set(.002,.002,.002),Xe.value=s,this.cssScene.add(n)};const Je=_(!1);class zo{constructor(e){u(this,"camera");u(this,"hoverPoint",new me(0,0));u(this,"tooltipRaycaster",new ye);u(this,"raycastObjects",[]);u(this,"bindClickRayCastObj",(e=[],o)=>{let s=0,a=0;H("mousedown",r=>{s=r.screenX,a=r.screenY}),this.raycastObjects=e;const n=new ye;n.far=18,H("mouseup",r=>{const d=Math.abs(r.screenX-s),i=Math.abs(r.screenY-a);if(d>1||i>1)return;const m=new me(r.clientX/T.width*2-1,1-r.clientY/T.height*2);n.setFromCamera(m,this.camera);const b=n.intersectObjects(e);b.length&&o(b[0].object)});const l=new ye;l.near=0,l.far=18,H("mousemove",r=>{const d=new me(r.clientX/T.width*2-1,1-r.clientY/T.height*2);l.setFromCamera(d,this.camera);const i=l.intersectObjects([Xe.value]);Je.value=!!i.length})});this.camera=e,this.tooltipRaycaster.far=15}updateTooltipRayCast(e,o){if(this.raycastObjects.length){this.tooltipRaycaster.setFromCamera(this.hoverPoint,this.camera);const s=this.tooltipRaycaster.intersectObjects(this.raycastObjects);s.length&&s[0].object.userData.title?e(s[0].object):o()}}}const jo={class:"tracking-wider select-none",text:"white"},No={class:"fixed bottom-190px left-1/2 -translate-x-1/2 leading-40px z-11 px-20px rounded bg-black/40"},Yo=C("footer",{class:"fixed bottom-20px left-1/2 -translate-x-1/2 leading-40px z-11 rounded bg-black/40 w-50vw text-center"},"Tips：点击此画可查看详情",-1),Wo=W({__name:"Tip",props:{title:{}},setup(t){return(e,o)=>(V(),G("div",jo,[C("header",No,X(e.title),1),Yo]))}}),Uo={class:"flex justify-between gap-x-40px tracking-wider leading-32px",text:"16px white"},Go={class:"font-bold",text:"20px"},Ko=["innerHTML"],Ho=["src"],Xo=W({__name:"Detail",props:{data:{}},setup(t){return(e,o)=>(V(),G("div",Uo,[C("aside",null,[C("header",Go,X(e.data.title),1),C("p",null,"作者："+X(e.data.author),1),C("footer",{class:"text-justify leading-40px",innerHTML:e.data.describe},null,8,Ko)]),C("img",{src:e.data.src,alt:"",class:"w-670px h-500px"},null,8,Ho)]))}});var pe;class Fo{constructor(e,o){u(this,"scene");u(this,"camera");u(this,"sound");D(this,pe,()=>{const e=new zt;this.camera.add(e);const o=new jt(e);this.sound=o,new Nt().load("虔心悲切遥呼上师祈请文.mp3",n=>{o.setBuffer(n),o.setRefDistance(20),o.setDirectionalCone(180,230,.5),o.setLoop(!0)});const a=new q(new xe(1,1),new Ve({color:16711680}));a.position.set(-15.9,4.49,36.42),a.visible=!1,this.scene.add(a),a.add(o)});u(this,"play",()=>{this.sound.play()});u(this,"pause",()=>{this.sound.pause()});this.scene=e,this.camera=o,J(this,pe).call(this)}}pe=new WeakMap;const qo=t=>(xt("data-v-12426ef2"),t=t(),Et(),t),Zo={class:"fixed left-20px top-20px z-11"},Jo={key:0,class:"loading-text fixed z-11 inset-0 grid place-items-center",text:"120px"},Qo=qo(()=>C("div",{class:"fixed right-20px top-20px px-20px leading-50px z-1 bg-white rounded"},[C("span",null,"学习来源："),C("a",{href:"https://github.com/Steve245270533/gallery",target:"_blank",class:"text-blue"},"gallery")],-1)),es=W({__name:"Index",setup(t){const e=new Oe;e.background=new Yt(15658734);const o=new Wt(55,T.width/T.height,.1,1e3);o.position.set(0,0,3);const s=new Ut({antialias:!0,logarithmicDepthBuffer:!0});s.setSize(T.width,T.height),s.setPixelRatio(window.devicePixelRatio),s.shadowMap.enabled=!0,s.outputColorSpace=Ie,s.toneMapping=Gt;const a=St();_e(()=>{a.value.appendChild(s.domElement)});const n=new Po(e),l=new kt(o,s.domElement);l.minDistance=1e-4,l.maxDistance=1e-4;const r=new $o(e),d=new zo(o);ee(r.loaded,y=>{y&&d.bindClickRayCastObj(r.raycastObjects,R)});const i=new q(new Rt(.5,2.5,.5,10,1),new Ve({color:255}));i.geometry.translate(0,-.25,0),e.add(i);const m=new Oo(i,l,o);m.reset();const b=new Fo(e,o),g=_(!1);function f(){g.value=!g.value,g.value?b.play():b.pause()}const h=new Kt;s.setAnimationLoop(()=>{s.render(e,o),l.update();const y=Math.min(h.getDelta(),.05);we.value&&m.updatePlayer(y,we.value),m.isMoving&&d.updateTooltipRayCast(E,B),n.update(o)});const S=_();function E(y){S.value=y.userData.title}function B(){S.value=null}const v=Y(()=>r.loadingState.progress.value<1),M=_(!1),x=_();function R(y){x.value=y.userData,M.value=!M.value}return Ct(()=>{Ht(e,s),n.dispose()}),(y,I)=>{const w=nt,L=Io;return V(),G(_t,null,[C("div",{id:"webgl",ref_key:"containerRef",ref:a,class:j(["relative z-1",{"pointer-events-none":c(Je)}])},null,2),C("div",Zo,[P(w,{type:"primary",onClick:f},{default:O(()=>[Mt(X(c(g)?"暂停音乐":"播放音乐"),1)]),_:1})]),P(be,{appear:"",name:"fade"},{default:O(()=>[c(v)?(V(),G("div",Jo,X(Math.floor(c(r).loadingState.progress.value*100))+"% ",1)):F("",!0)]),_:1}),P(be,{appear:"",name:"fade"},{default:O(()=>[c(S)?(V(),te(Wo,{key:0,title:c(S)},null,8,["title"])):F("",!0)]),_:1}),P(L,{modelValue:c(M),"onUpdate:modelValue":I[0]||(I[0]=p=>De(M)?M.value=p:null),width:"70vw",class:"!bg-black !rounded-20px"},{default:O(()=>[P(Xo,{data:c(x)},null,8,["data"])]),_:1},8,["modelValue"]),Qo],64)}}});const ws=po(es,[["__scopeId","data-v-12426ef2"]]);export{ws as default};
