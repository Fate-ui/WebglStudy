import{A as y,T as G,d as M,q as f,s as O,t as R,u as k,v as w,S,P as F,W as P,G as B,b0 as z,j as E,E as T}from"./three.module-d7a93e67.js";import{O as U}from"./OrbitControls-5d4ea699.js";import{a as v}from"./index-674d1bac.js";import{D as W}from"./DRACOLoader-3fcd64f3.js";import{G as D}from"./GLTFLoader-06287125.js";import{g as V}from"./index-4db78ffb.js";import{d as Q}from"./index-1a26f821.js";import{d as b,o as x,c as L,s as g,l as H,p as N,h as I,q as X,a as Y,F as Z}from"./index-433c33e9.js";const i={width:window.innerWidth,height:window.innerHeight},J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAAASFBMVEX////////////////////////////////////////////////////////////////////////////////////////////////OfZ3oAAAAGHRSTlMCCSZLGRQOazsw6bzWzbOimZGBc17eiVLsmOFWAAAAk0lEQVQY04WRWQ7DIAxEGxtiwOyQ5P43rVWhVm1kdT6fR+Pt8UfbS79wt9YYa/ftGxoA7wGMFD7UgHcoch7Mmwt1OGkMmuiEL7MFd1FvtbZOlwO7LbNHOktmzuUk9GJf5tkLpxgTlz6XXTBSy+kI4Ui5ES4sGaNyDKLIdUiKgrUQpaUyoL7OfXnlVOph72/Qn6brCeCNCf0cc6BdAAAAAElFTkSuQmCC",K={class:"flex items-center h-74px bg-white/80 w-screen"},l=100,q=b({__name:"ControlPanel",props:{scene:{}},setup(u,{expose:s}){const{scene:c}=u;c.add(new y(100));const a=new G,t=[];function h(e,d){const A=new M;for(let o=0;o<1500;o++){const n=w.randFloatSpread(i.width/l),_=Math.random()*(i.height/l),C=w.randFloat(-500/l,500/l);t.push(n,_,C)}A.setAttribute("position",new f(t,3));const r=new O(A,new R({size:.1,depthTest:!0,map:a.load(d),transparent:!0,blending:k,opacity:.8,sizeAttenuation:!0}));return r.rotation.set(Math.random()*.2-.15,Math.random()*.2-.15,Math.random()*.2-.15),r.position.set(0,0,e),c.add(r),r}const m=h(0,J);function p(){for(let e=1;e<t.length;e+=3)t[e]-=.01,t[e]<0&&(t[e]=i.height/l);m.geometry.setAttribute("position",new f(t,3))}return s({update:p}),(e,d)=>(x(),L("div",K,"test"))}}),re=b({__name:"Index",setup(u){const s=new S,c=new F(75,i.width/i.height,.1,1e3);c.position.set(3,3,3);const a=new P({antialias:!0});a.setSize(i.width,i.height),a.setPixelRatio(window.devicePixelRatio);const t=g();H(()=>{t.value.appendChild(a.domElement)}),s.add(new B(10));const h=new U(c,a.domElement),m=new W;m.setDecoderPath("/draco/");const p=new D;p.setDRACOLoader(m);let e;p.load("/model/LittlestTokyo.glb",o=>{const n=o.scene;n.position.set(1,2,0),n.scale.set(.01,.01,.01),s.add(n),e=new z(n),e.clipAction(o.animations[0]).play(),o.scene});const d=new E(6710886,3);s.add(d),V.to(d,{intensity:60,duration:10,yoyo:!0,repeat:-1});const A=new T,r=g();return v(()=>{var n;h.update();const o=A.getDelta();e==null||e.update(o),(n=r.value)==null||n.update(),a.render(s,c)}),N(()=>{Q(s,a)}),(o,n)=>(x(),L(Z,null,[I("div",{ref_key:"containerRef",ref:t},null,512),X(q,{ref_key:"controlPanelRef",ref:r,class:"fixed top-0 left-0",scene:Y(s)},null,8,["scene"])],64))}});export{re as default};
