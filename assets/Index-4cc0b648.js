import"./base-c41f6dc2.js";import{v as K}from"./el-loading-18d38897.js";import{L as G,w as E,d as H,V as U,q as L,x as q,b as V,v as _,O as $,y as J,z as j,T as Q,U as X,g as Y,S as Z,P as N,W as ee,j as te,m as se,n as ie,E as ne}from"./three.module-34ff84d8.js";import{G as ae}from"./GLTFLoader-85f5323f.js";import{O as oe}from"./OrbitControls-88168f55.js";import{u as z}from"./index-54a5feab.js";import{D as re}from"./DRACOLoader-9fc5e59e.js";import{G as he}from"./dat.gui.module-5ea4ba08.js";import{d as me,s as ce,l as de,k as le,p as pe,v as ue,o as fe,c as we}from"./index-6274213e.js";import"./style-c410ef6c.js";import"./use-global-config-186efb24.js";const ge=[[-.525731,0,.850651],[-.442863,.238856,.864188],[-.295242,0,.955423],[-.309017,.5,.809017],[-.16246,.262866,.951056],[0,0,1],[0,.850651,.525731],[-.147621,.716567,.681718],[.147621,.716567,.681718],[0,.525731,.850651],[.309017,.5,.809017],[.525731,0,.850651],[.295242,0,.955423],[.442863,.238856,.864188],[.16246,.262866,.951056],[-.681718,.147621,.716567],[-.809017,.309017,.5],[-.587785,.425325,.688191],[-.850651,.525731,0],[-.864188,.442863,.238856],[-.716567,.681718,.147621],[-.688191,.587785,.425325],[-.5,.809017,.309017],[-.238856,.864188,.442863],[-.425325,.688191,.587785],[-.716567,.681718,-.147621],[-.5,.809017,-.309017],[-.525731,.850651,0],[0,.850651,-.525731],[-.238856,.864188,-.442863],[0,.955423,-.295242],[-.262866,.951056,-.16246],[0,1,0],[0,.955423,.295242],[-.262866,.951056,.16246],[.238856,.864188,.442863],[.262866,.951056,.16246],[.5,.809017,.309017],[.238856,.864188,-.442863],[.262866,.951056,-.16246],[.5,.809017,-.309017],[.850651,.525731,0],[.716567,.681718,.147621],[.716567,.681718,-.147621],[.525731,.850651,0],[.425325,.688191,.587785],[.864188,.442863,.238856],[.688191,.587785,.425325],[.809017,.309017,.5],[.681718,.147621,.716567],[.587785,.425325,.688191],[.955423,.295242,0],[1,0,0],[.951056,.16246,.262866],[.850651,-.525731,0],[.955423,-.295242,0],[.864188,-.442863,.238856],[.951056,-.16246,.262866],[.809017,-.309017,.5],[.681718,-.147621,.716567],[.850651,0,.525731],[.864188,.442863,-.238856],[.809017,.309017,-.5],[.951056,.16246,-.262866],[.525731,0,-.850651],[.681718,.147621,-.716567],[.681718,-.147621,-.716567],[.850651,0,-.525731],[.809017,-.309017,-.5],[.864188,-.442863,-.238856],[.951056,-.16246,-.262866],[.147621,.716567,-.681718],[.309017,.5,-.809017],[.425325,.688191,-.587785],[.442863,.238856,-.864188],[.587785,.425325,-.688191],[.688191,.587785,-.425325],[-.147621,.716567,-.681718],[-.309017,.5,-.809017],[0,.525731,-.850651],[-.525731,0,-.850651],[-.442863,.238856,-.864188],[-.295242,0,-.955423],[-.16246,.262866,-.951056],[0,0,-1],[.295242,0,-.955423],[.16246,.262866,-.951056],[-.442863,-.238856,-.864188],[-.309017,-.5,-.809017],[-.16246,-.262866,-.951056],[0,-.850651,-.525731],[-.147621,-.716567,-.681718],[.147621,-.716567,-.681718],[0,-.525731,-.850651],[.309017,-.5,-.809017],[.442863,-.238856,-.864188],[.16246,-.262866,-.951056],[.238856,-.864188,-.442863],[.5,-.809017,-.309017],[.425325,-.688191,-.587785],[.716567,-.681718,-.147621],[.688191,-.587785,-.425325],[.587785,-.425325,-.688191],[0,-.955423,-.295242],[0,-1,0],[.262866,-.951056,-.16246],[0,-.850651,.525731],[0,-.955423,.295242],[.238856,-.864188,.442863],[.262866,-.951056,.16246],[.5,-.809017,.309017],[.716567,-.681718,.147621],[.525731,-.850651,0],[-.238856,-.864188,-.442863],[-.5,-.809017,-.309017],[-.262866,-.951056,-.16246],[-.850651,-.525731,0],[-.716567,-.681718,-.147621],[-.716567,-.681718,.147621],[-.525731,-.850651,0],[-.5,-.809017,.309017],[-.238856,-.864188,.442863],[-.262866,-.951056,.16246],[-.864188,-.442863,.238856],[-.809017,-.309017,.5],[-.688191,-.587785,.425325],[-.681718,-.147621,.716567],[-.442863,-.238856,.864188],[-.587785,-.425325,.688191],[-.309017,-.5,.809017],[-.147621,-.716567,.681718],[-.425325,-.688191,.587785],[-.16246,-.262866,.951056],[.442863,-.238856,.864188],[.16246,-.262866,.951056],[.309017,-.5,.809017],[.147621,-.716567,.681718],[0,-.525731,.850651],[.425325,-.688191,.587785],[.587785,-.425325,.688191],[.688191,-.587785,.425325],[-.955423,.295242,0],[-.951056,.16246,.262866],[-1,0,0],[-.850651,0,.525731],[-.955423,-.295242,0],[-.951056,-.16246,.262866],[-.864188,.442863,-.238856],[-.951056,.16246,-.262866],[-.809017,.309017,-.5],[-.864188,-.442863,-.238856],[-.951056,-.16246,-.262866],[-.809017,-.309017,-.5],[-.681718,.147621,-.716567],[-.681718,-.147621,-.716567],[-.850651,0,-.525731],[-.688191,.587785,-.425325],[-.587785,.425325,-.688191],[-.425325,.688191,-.587785],[-.425325,-.688191,-.587785],[-.587785,-.425325,-.688191],[-.688191,-.587785,-.425325]];class ve extends G{constructor(t){super(t)}load(t,e,s,i){const n=this,r=new E(n.manager);r.setPath(n.path),r.setResponseType("arraybuffer"),r.setRequestHeader(n.requestHeader),r.setWithCredentials(n.withCredentials),r.load(t,function(a){try{e(n.parse(a))}catch(o){i?i(o):console.error(o),n.manager.itemError(t)}},s,i)}parse(t){const e=new DataView(t),s={},i=["ident","version","skinwidth","skinheight","framesize","num_skins","num_vertices","num_st","num_tris","num_glcmds","num_frames","offset_skins","offset_st","offset_tris","offset_frames","offset_glcmds","offset_end"];for(let m=0;m<i.length;m++)s[i[m]]=e.getInt32(m*4,!0);if(s.ident!==844121161||s.version!==8){console.error("Not a valid MD2 file");return}if(s.offset_end!==e.byteLength){console.error("Corrupted MD2 file");return}const n=new H,r=[];let a=s.offset_st;for(let m=0,y=s.num_st;m<y;m++){const g=e.getInt16(a+0,!0),u=e.getInt16(a+2,!0);r.push(g/s.skinwidth,1-u/s.skinheight),a+=4}a=s.offset_tris;const o=[],h=[];for(let m=0,y=s.num_tris;m<y;m++)o.push(e.getUint16(a+0,!0),e.getUint16(a+2,!0),e.getUint16(a+4,!0)),h.push(e.getUint16(a+6,!0),e.getUint16(a+8,!0),e.getUint16(a+10,!0)),a+=12;const f=new U,c=new U,l=[];a=s.offset_frames;for(let m=0,y=s.num_frames;m<y;m++){c.set(e.getFloat32(a+0,!0),e.getFloat32(a+4,!0),e.getFloat32(a+8,!0)),f.set(e.getFloat32(a+12,!0),e.getFloat32(a+16,!0),e.getFloat32(a+20,!0)),a+=24;const g=[];for(let v=0;v<16;v++){const A=e.getUint8(a+v);if(A===0)break;g[v]=A}const u={name:String.fromCharCode.apply(null,g),vertices:[],normals:[]};a+=16;for(let v=0;v<s.num_vertices;v++){let A=e.getUint8(a++),k=e.getUint8(a++),B=e.getUint8(a++);const x=ge[e.getUint8(a++)];A=A*c.x+f.x,k=k*c.y+f.y,B=B*c.z+f.z,u.vertices.push(A,B,k),u.normals.push(x[0],x[2],x[1])}l.push(u)}const p=[],R=[],I=[],C=l[0].vertices,W=l[0].normals;for(let m=0,y=o.length;m<y;m++){let u=o[m]*3;const v=C[u],A=C[u+1],k=C[u+2];p.push(v,A,k);const B=W[u],x=W[u+1],S=W[u+2];R.push(B,x,S),u=h[m]*2;const D=r[u],M=r[u+1];I.push(D,M)}n.setAttribute("position",new L(p,3)),n.setAttribute("normal",new L(R,3)),n.setAttribute("uv",new L(I,2));const T=[],w=[];for(let m=0,y=l.length;m<y;m++){const g=l[m],u=g.name;if(g.vertices.length>0){const v=[];for(let k=0,B=o.length;k<B;k++){const S=o[k]*3,P=g.vertices[S],D=g.vertices[S+1],M=g.vertices[S+2];v.push(P,D,M)}const A=new L(v,3);A.name=u,T.push(A)}if(g.normals.length>0){const v=[];for(let k=0,B=o.length;k<B;k++){const S=o[k]*3,P=g.normals[S],D=g.normals[S+1],M=g.normals[S+2];v.push(P,D,M)}const A=new L(v,3);A.name=u,w.push(A)}}return n.morphAttributes.position=T,n.morphAttributes.normal=w,n.morphTargetsRelative=!1,n.animations=q.CreateClipsFromMorphTargetSequences(l,10),n}}class ye extends V{constructor(t,e){super(t,e),this.animationsMap={},this.animationsList=[];const s=Object.keys(this.morphTargetDictionary).length,i="__default",n=0,r=s-1,a=s/1;this.createAnimation(i,n,r,a),this.setAnimationWeight(i,1)}createAnimation(t,e,s,i){const n={start:e,end:s,length:s-e+1,fps:i,duration:(s-e)/i,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=n,this.animationsList.push(n)}autoCreateAnimations(t){const e=/([a-z]+)_?(\d+)/i;let s;const i={};let n=0;for(const r in this.morphTargetDictionary){const a=r.match(e);if(a&&a.length>1){const o=a[1];i[o]||(i[o]={start:1/0,end:-1/0});const h=i[o];n<h.start&&(h.start=n),n>h.end&&(h.end=n),s||(s=o)}n++}for(const r in i){const a=i[r];this.createAnimation(r,a.start,a.end,t)}this.firstAnimation=s}setAnimationDirectionForward(t){const e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)}setAnimationDirectionBackward(t){const e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)}setAnimationFPS(t,e){const s=this.animationsMap[t];s&&(s.fps=e,s.duration=(s.end-s.start)/s.fps)}setAnimationDuration(t,e){const s=this.animationsMap[t];s&&(s.duration=e,s.fps=(s.end-s.start)/s.duration)}setAnimationWeight(t,e){const s=this.animationsMap[t];s&&(s.weight=e)}setAnimationTime(t,e){const s=this.animationsMap[t];s&&(s.time=e)}getAnimationTime(t){let e=0;const s=this.animationsMap[t];return s&&(e=s.time),e}getAnimationDuration(t){let e=-1;const s=this.animationsMap[t];return s&&(e=s.duration),e}playAnimation(t){const e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")}stopAnimation(t){const e=this.animationsMap[t];e&&(e.active=!1)}update(t){for(let e=0,s=this.animationsList.length;e<s;e++){const i=this.animationsList[e];if(!i.active)continue;const n=i.duration/i.length;i.time+=i.direction*t,i.mirroredLoop?(i.time>i.duration||i.time<0)&&(i.direction*=-1,i.time>i.duration&&(i.time=i.duration,i.directionBackwards=!0),i.time<0&&(i.time=0,i.directionBackwards=!1)):(i.time=i.time%i.duration,i.time<0&&(i.time+=i.duration));const r=i.start+_.clamp(Math.floor(i.time/n),0,i.length-1),a=i.weight;r!==i.currentFrame&&(this.morphTargetInfluences[i.lastFrame]=0,this.morphTargetInfluences[i.currentFrame]=1*a,this.morphTargetInfluences[r]=0,i.lastFrame=i.currentFrame,i.currentFrame=r);let o=i.time%n/n;i.directionBackwards&&(o=1-o),i.currentFrame!==i.lastFrame?(this.morphTargetInfluences[i.currentFrame]=o*a,this.morphTargetInfluences[i.lastFrame]=(1-o)*a):this.morphTargetInfluences[i.currentFrame]=a}}}class Ae{constructor(){this.scale=1,this.animationFPS=6,this.transitionFrames=15,this.maxSpeed=275,this.maxReverseSpeed=-275,this.frontAcceleration=600,this.backAcceleration=600,this.frontDecceleration=600,this.angularSpeed=2.5,this.root=new $,this.meshBody=null,this.meshWeapon=null,this.controls=null,this.skinsBody=[],this.skinsWeapon=[],this.weapons=[],this.currentSkin=void 0,this.onLoadComplete=function(){},this.meshes=[],this.animations={},this.loadCounter=0,this.speed=0,this.bodyOrientation=0,this.walkSpeed=this.maxSpeed,this.crouchSpeed=this.maxSpeed*.5,this.activeAnimation=null,this.oldAnimation=null}enableShadows(t){for(let e=0;e<this.meshes.length;e++)this.meshes[e].castShadow=t,this.meshes[e].receiveShadow=t}setVisible(t){for(let e=0;e<this.meshes.length;e++)this.meshes[e].visible=t,this.meshes[e].visible=t}shareParts(t){this.animations=t.animations,this.walkSpeed=t.walkSpeed,this.crouchSpeed=t.crouchSpeed,this.skinsBody=t.skinsBody,this.skinsWeapon=t.skinsWeapon;const e=this._createPart(t.meshBody.geometry,this.skinsBody[0]);e.scale.set(this.scale,this.scale,this.scale),this.root.position.y=t.root.position.y,this.root.add(e),this.meshBody=e,this.meshes.push(e);for(let s=0;s<t.weapons.length;s++){const i=this._createPart(t.weapons[s].geometry,this.skinsWeapon[s]);i.scale.set(this.scale,this.scale,this.scale),i.visible=!1,i.name=t.weapons[s].name,this.root.add(i),this.weapons[s]=i,this.meshWeapon=i,this.meshes.push(i)}}loadParts(t){const e=this;function s(o,h){const f=new Q,c=[];for(let l=0;l<h.length;l++)c[l]=f.load(o+h[l],i),c[l].mapping=X,c[l].name=h[l],c[l].colorSpace=Y;return c}function i(){e.loadCounter-=1,e.loadCounter===0&&e.onLoadComplete()}this.animations=t.animations,this.walkSpeed=t.walkSpeed,this.crouchSpeed=t.crouchSpeed,this.loadCounter=t.weapons.length*2+t.skins.length+1;const n=[];for(let o=0;o<t.weapons.length;o++)n[o]=t.weapons[o][1];this.skinsBody=s(t.baseUrl+"skins/",t.skins),this.skinsWeapon=s(t.baseUrl+"skins/",n);const r=new ve;r.load(t.baseUrl+t.body,function(o){const h=new J;h.setFromBufferAttribute(o.attributes.position),e.root.position.y=-e.scale*h.min.y;const f=e._createPart(o,e.skinsBody[0]);f.scale.set(e.scale,e.scale,e.scale),e.root.add(f),e.meshBody=f,e.meshes.push(f),i()});const a=function(o,h){return function(f){const c=e._createPart(f,e.skinsWeapon[o]);c.scale.set(e.scale,e.scale,e.scale),c.visible=!1,c.name=h,e.root.add(c),e.weapons[o]=c,e.meshWeapon=c,e.meshes.push(c),i()}};for(let o=0;o<t.weapons.length;o++)r.load(t.baseUrl+t.weapons[o][0],a(o,t.weapons[o][0]))}setPlaybackRate(t){this.meshBody&&(this.meshBody.duration=this.meshBody.baseDuration/t),this.meshWeapon&&(this.meshWeapon.duration=this.meshWeapon.baseDuration/t)}setWireframe(t){t?(this.meshBody&&(this.meshBody.material=this.meshBody.materialWireframe),this.meshWeapon&&(this.meshWeapon.material=this.meshWeapon.materialWireframe)):(this.meshBody&&(this.meshBody.material=this.meshBody.materialTexture),this.meshWeapon&&(this.meshWeapon.material=this.meshWeapon.materialTexture))}setSkin(t){this.meshBody&&this.meshBody.material.wireframe===!1&&(this.meshBody.material.map=this.skinsBody[t],this.currentSkin=t)}setWeapon(t){for(let s=0;s<this.weapons.length;s++)this.weapons[s].visible=!1;const e=this.weapons[t];e&&(e.visible=!0,this.meshWeapon=e,this.activeAnimation&&(e.playAnimation(this.activeAnimation),this.meshWeapon.setAnimationTime(this.activeAnimation,this.meshBody.getAnimationTime(this.activeAnimation))))}setAnimation(t){t===this.activeAnimation||!t||(this.meshBody&&(this.meshBody.setAnimationWeight(t,0),this.meshBody.playAnimation(t),this.oldAnimation=this.activeAnimation,this.activeAnimation=t,this.blendCounter=this.transitionFrames),this.meshWeapon&&(this.meshWeapon.setAnimationWeight(t,0),this.meshWeapon.playAnimation(t)))}update(t){this.controls&&this.updateMovementModel(t),this.animations&&(this.updateBehaviors(),this.updateAnimations(t))}updateAnimations(t){let e=1;this.blendCounter>0&&(e=(this.transitionFrames-this.blendCounter)/this.transitionFrames,this.blendCounter-=1),this.meshBody&&(this.meshBody.update(t),this.meshBody.setAnimationWeight(this.activeAnimation,e),this.meshBody.setAnimationWeight(this.oldAnimation,1-e)),this.meshWeapon&&(this.meshWeapon.update(t),this.meshWeapon.setAnimationWeight(this.activeAnimation,e),this.meshWeapon.setAnimationWeight(this.oldAnimation,1-e))}updateBehaviors(){const t=this.controls,e=this.animations;let s,i;t.crouch?(s=e.crouchMove,i=e.crouchIdle):(s=e.move,i=e.idle),t.jump&&(s=e.jump,i=e.jump),t.attack&&(t.crouch?(s=e.crouchAttack,i=e.crouchAttack):(s=e.attack,i=e.attack)),(t.moveForward||t.moveBackward||t.moveLeft||t.moveRight)&&this.activeAnimation!==s&&this.setAnimation(s),Math.abs(this.speed)<.2*this.maxSpeed&&!(t.moveLeft||t.moveRight||t.moveForward||t.moveBackward)&&this.activeAnimation!==i&&this.setAnimation(i),t.moveForward&&(this.meshBody&&(this.meshBody.setAnimationDirectionForward(this.activeAnimation),this.meshBody.setAnimationDirectionForward(this.oldAnimation)),this.meshWeapon&&(this.meshWeapon.setAnimationDirectionForward(this.activeAnimation),this.meshWeapon.setAnimationDirectionForward(this.oldAnimation))),t.moveBackward&&(this.meshBody&&(this.meshBody.setAnimationDirectionBackward(this.activeAnimation),this.meshBody.setAnimationDirectionBackward(this.oldAnimation)),this.meshWeapon&&(this.meshWeapon.setAnimationDirectionBackward(this.activeAnimation),this.meshWeapon.setAnimationDirectionBackward(this.oldAnimation)))}updateMovementModel(t){function e(r){return r===1?1:-Math.pow(2,-10*r)+1}const s=this.controls;s.crouch?this.maxSpeed=this.crouchSpeed:this.maxSpeed=this.walkSpeed,this.maxReverseSpeed=-this.maxSpeed,s.moveForward&&(this.speed=_.clamp(this.speed+t*this.frontAcceleration,this.maxReverseSpeed,this.maxSpeed)),s.moveBackward&&(this.speed=_.clamp(this.speed-t*this.backAcceleration,this.maxReverseSpeed,this.maxSpeed));const i=1;if(s.moveLeft&&(this.bodyOrientation+=t*this.angularSpeed,this.speed=_.clamp(this.speed+i*t*this.frontAcceleration,this.maxReverseSpeed,this.maxSpeed)),s.moveRight&&(this.bodyOrientation-=t*this.angularSpeed,this.speed=_.clamp(this.speed+i*t*this.frontAcceleration,this.maxReverseSpeed,this.maxSpeed)),!(s.moveForward||s.moveBackward))if(this.speed>0){const r=e(this.speed/this.maxSpeed);this.speed=_.clamp(this.speed-r*t*this.frontDecceleration,0,this.maxSpeed)}else{const r=e(this.speed/this.maxReverseSpeed);this.speed=_.clamp(this.speed+r*t*this.backAcceleration,this.maxReverseSpeed,0)}const n=this.speed*t;this.root.position.x+=Math.sin(this.bodyOrientation)*n,this.root.position.z+=Math.cos(this.bodyOrientation)*n,this.root.rotation.y=this.bodyOrientation}_createPart(t,e){const s=new j({color:16755200,wireframe:!0}),i=new j({color:16777215,wireframe:!1,map:e}),n=new ye(t,i);return n.rotation.y=-Math.PI/2,n.materialTexture=i,n.materialWireframe=s,n.autoCreateAnimations(this.animationFPS),n}}const F=new he,b={speed:1,wireframe:!1};function ke(d){return F.add(b,"speed",0,2).onChange(()=>{d.setPlaybackRate(b.speed)}),F.add(b,"wireframe",!1).onChange(()=>{d.setWireframe(b.wireframe)}),F}function O(d){const t=d.split(".");return t.length>1?(t.length-=1,t.join(".")):d}function be(d){const t=F.addFolder("武器"),e=function(s){return function(){d.setWeapon(s),d.setWireframe(b.wireframe)}};for(let s=0;s<d.weapons.length;s++){const i=d.weapons[s].name;b[i]=e(s),t.add(b,i).name(O(i))}}function Be(d){const t=F.addFolder("皮肤"),e=function(s){return function(){d.setSkin(s)}};for(let s=0;s<d.skinsBody.length;s++){const i=d.skinsBody[s].name;b[i]=e(s),t.add(b,i).name(O(i))}}function Se(d){const t=F.addFolder("动画"),e=function(i){return function(){d.setAnimation(i.name)}},s=d.meshBody.geometry.animations;for(const[i,n]of s.entries())b[n.name]=e(n),t.add(b,n.name,n.name)}const Pe=me({__name:"Index",setup(d){const t={width:window.innerWidth,height:window.innerHeight},e=new Z,s=new N(45,t.width/t.height,.1,1e4),i=new ee({antialias:!0});i.setSize(t.width,t.height),i.setPixelRatio(window.devicePixelRatio),i.shadowMap.enabled=!0;const n=ce();de(()=>{n.value.appendChild(i.domElement)});const r=new re;r.setDecoderPath("draco/");const a=le(!0),o=new ae;o.setDRACOLoader(r),o.load("model/woodenHouseDraco.glb",w=>{a.value=!1;const m=w.scene;m.position.set(15,-47.8,10),e.add(m),m.children.forEach(y=>{y.receiveShadow=!0,y.castShadow=!0}),r.dispose()});const h=new Ae;h.scale=.03,h.onLoadComplete=()=>{Be(h),be(h),Se(h);const w=h.meshBody.position.clone(),m=w.add(new U(5,3,3)).toArray();s.lookAt(w),s.position.set(...m),h.meshBody.geometry.animations,h.setAnimation(h.meshBody.geometry.animations[1].name),l.update()};function f(){if(!p.moveForward&&!p.moveBackward)return;const w=h.root.position,m=w.clone().add(new U(5,3,3)).toArray();s.position.set(...m),l.target.set(...w.toArray()),l.update()}h.loadParts({baseUrl:"model/ratamahatta/",body:"ratamahatta.md2",skins:["ratamahatta.png","ctf_b.png","ctf_r.png","dead.png","gearwhore.png"],weapons:[["weapon.md2","weapon.png"],["w_bfg.md2","w_bfg.png"],["w_blaster.md2","w_blaster.png"],["w_chaingun.md2","w_chaingun.png"],["w_glauncher.md2","w_glauncher.png"],["w_hyperblaster.md2","w_hyperblaster.png"],["w_machinegun.md2","w_machinegun.png"],["w_railgun.md2","w_railgun.png"],["w_rlauncher.md2","w_rlauncher.png"],["w_shotgun.md2","w_shotgun.png"],["w_sshotgun.md2","w_sshotgun.png"]],animations:{move:"run",idle:"stand",jump:"jump",attack:"attack",crouchMove:"cwalk",crouchIdle:"cstand",crouchAttach:"crattack"},walkSpeed:3,crouchSpeed:175}),e.add(h.root),e.add(new te(16777215,1));const c=new se(16777215,3);c.castShadow=!0,c.position.set(0,20,20),e.add(c),e.add(new ie(c,3));const l=new oe(s,i.domElement),p={moveForward:!1,moveBackward:!1,moveLeft:!1,moveRight:!1,crouch:!1,jump:!1};h.controls=p;function R(w){switch(w.code){case"ArrowUp":case"KeyW":p.moveForward=!0;break;case"ArrowDown":case"KeyS":p.moveBackward=!0;break;case"ArrowLeft":case"KeyA":p.moveLeft=!0;break;case"ArrowRight":case"KeyD":p.moveRight=!0;break;case"KeyC":p.crouch=!0;break;case"Space":p.jump=!0;break}}function I(w){switch(w.code){case"ArrowUp":case"KeyW":p.moveForward=!1;break;case"ArrowDown":case"KeyS":p.moveBackward=!1;break;case"ArrowLeft":case"KeyA":p.moveLeft=!1;break;case"ArrowRight":case"KeyD":p.moveRight=!1;break;case"KeyC":p.crouch=!1;break;case"Space":p.jump=!1;break}}z("keydown",R),z("keyup",I);const C=new ne;function W(){i.render(e,s),h.update(C.getDelta()),f(),requestAnimationFrame(W)}W();const T=ke(h);return pe(()=>{T.destroy()}),(w,m)=>{const y=K;return ue((fe(),we("div",{ref_key:"containerRef",ref:n},null,512)),[[y,a.value]])}}});export{Pe as default};
