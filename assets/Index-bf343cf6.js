var st=Object.defineProperty;var nt=(t,e,o)=>e in t?st(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var h=(t,e,o)=>(nt(t,typeof e!="symbol"?e+"":e,o),o),ke=(t,e,o)=>{if(!e.has(t))throw TypeError("Cannot "+o)};var Q=(t,e,o)=>(ke(t,e,"read from private field"),o?o.call(t):e.get(t)),B=(t,e,o)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,o)};var N=(t,e,o)=>(ke(t,e,"access private method"),o);import{a as Ce,b as xe,d as ge,j as at,g as lt}from"./base-20b443e2.js";import{i as rt,C as it,u as Ae,E as ct}from"./el-button-558c5637.js";import{l as _e,a3 as dt,a4 as ut,E as $e,a5 as pt,M as te,Z as ft,X as me,d as G,q as P,P as Y,y as mt,L as Re,f as j,o as $,c as K,h as D,Q as z,a as f,t as F,w as I,i as oe,R as ht,S as q,H as Ve,k,B as yt,K as vt,N as gt,V as bt,z as wt,U as St,a6 as Ct,A as xt,T as be,a7 as _t,s as Et,p as Mt,F as kt,j as At}from"./index-96b5ffda.js";import{O as Rt}from"./OrbitControls-44e46930.js";import{S as Tt,M as Lt,R as Dt}from"./StaticGeometryGenerator-3f224977.js";import{V as U,y as Ot,M as Ee,aU as Te,T as Bt,aV as It,b as Z,f as Me,$ as $t,g as We,O as Vt,a3 as Wt,S as Pe,a9 as Pt,D as Nt,Y as zt,K as he,J as ye,aW as Yt,aX as Ut,aY as jt,a as Ne,h as Gt,P as Ht,W as Kt,a6 as Xt,E as Ft}from"./three.module-a9580ee8.js";import{d as qt}from"./index-1a26f821.js";import{u as X}from"./index-6062c1c1.js";import{G as Zt}from"./GLTFLoader-f79a8b9f.js";import{R as Jt}from"./Reflector-54c26062.js";import{E as Qt}from"./index-0d1682b6.js";import{_ as ze,d as Le,w as eo}from"./use-form-item-29f0e850.js";import{b as to,c as oo,a as so}from"./use-global-config-2231f9f5.js";import{g as no,F as ao,c as lo,E as ro}from"./focus-trap-b35c9c08.js";import{b as we,i as Ye,h as De,g as io,a as co,r as uo,u as Oe}from"./style-826501df.js";import{t as po,U as Ue}from"./event-e06a23af.js";import{_ as fo}from"./_plugin-vue_export-helper-c27b6911.js";var ee=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(ee||{});const mo=(t,e,o)=>{let n={offsetX:0,offsetY:0};const a=r=>{const u=r.clientX,i=r.clientY,{offsetX:m,offsetY:d}=n,S=t.value.getBoundingClientRect(),v=S.left,w=S.top,p=S.width,s=S.height,C=document.documentElement.clientWidth,_=document.documentElement.clientHeight,x=-v+m,b=-w+d,M=C-v-p+m,y=_-w-s+d,T=L=>{const g=Math.min(Math.max(m+L.clientX-u,x),M),A=Math.min(Math.max(d+L.clientY-i,b),y);n={offsetX:g,offsetY:A},t.value.style.transform=`translate(${we(g)}, ${we(A)})`},E=()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",E)};document.addEventListener("mousemove",T),document.addEventListener("mouseup",E)},l=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",a)},c=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",a)};_e(()=>{dt(()=>{o.value?l():c()})}),ut(()=>{c()})},ho=(t,e={})=>{$e(t)||po("[useLockscreen]","You need to pass a ref param to this function");const o=e.ns||Ce("popup"),n=pt(()=>o.bm("parent","hidden"));if(!Ye||De(document.body,n.value))return;let a=0,l=!1,c="0";const r=()=>{setTimeout(()=>{uo(document==null?void 0:document.body,n.value),l&&document&&(document.body.style.width=c)},200)};te(t,u=>{if(!u){r();return}l=!De(document.body,n.value),l&&(c=document.body.style.width),a=no(o.namespace.value);const i=document.documentElement.clientHeight<document.body.scrollHeight,m=io(document.body,"overflowY");a>0&&(i||m==="scroll")&&l&&(document.body.style.width=`calc(100% - ${a}px)`),co(document.body,n.value)}),ft(()=>r())},je=t=>{if(!t)return{onClick:me,onMousedown:me,onMouseup:me};let e=!1,o=!1;return{onClick:c=>{e&&o&&t(c),e=o=!1},onMousedown:c=>{e=c.target===c.currentTarget},onMouseup:c=>{o=c.target===c.currentTarget}}},yo=xe({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:ge([String,Array,Object])},zIndex:{type:ge([String,Number])}}),vo={click:t=>t instanceof MouseEvent},go="overlay";var bo=G({name:"ElOverlay",props:yo,emits:vo,setup(t,{slots:e,emit:o}){const n=Ce(go),a=u=>{o("click",u)},{onClick:l,onMousedown:c,onMouseup:r}=je(t.customMaskEvent?void 0:a);return()=>t.mask?P("div",{class:[n.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:l,onMousedown:c,onMouseup:r},[Y(e,"default")],ee.STYLE|ee.CLASS|ee.PROPS,["onClick","onMouseup","onMousedown"]):mt("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Y(e,"default")])}});const wo=bo,Ge=Symbol("dialogInjectionKey"),He=xe({center:Boolean,alignCenter:Boolean,closeIcon:{type:rt},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),So={close:()=>!0},Co=["aria-level"],xo=["aria-label"],_o=["id"],Eo=G({name:"ElDialogContent"}),Mo=G({...Eo,props:He,emits:So,setup(t){const e=t,{t:o}=to(),{Close:n}=it,{dialogRef:a,headerRef:l,bodyId:c,ns:r,style:u}=Re(Ge),{focusTrapRef:i}=Re(ao),m=j(()=>[r.b(),r.is("fullscreen",e.fullscreen),r.is("draggable",e.draggable),r.is("align-center",e.alignCenter),{[r.m("center")]:e.center},e.customClass]),d=lo(i,a),S=j(()=>e.draggable);return mo(a,l,S),(v,w)=>($(),K("div",{ref:f(d),class:z(f(m)),style:Ve(f(u)),tabindex:"-1"},[D("header",{ref_key:"headerRef",ref:l,class:z(f(r).e("header"))},[Y(v.$slots,"header",{},()=>[D("span",{role:"heading","aria-level":v.ariaLevel,class:z(f(r).e("title"))},F(v.title),11,Co)]),v.showClose?($(),K("button",{key:0,"aria-label":f(o)("el.dialog.close"),class:z(f(r).e("headerbtn")),type:"button",onClick:w[0]||(w[0]=p=>v.$emit("close"))},[P(f(Qt),{class:z(f(r).e("close"))},{default:I(()=>[($(),oe(ht(v.closeIcon||f(n))))]),_:1},8,["class"])],10,xo)):q("v-if",!0)],2),D("div",{id:f(c),class:z(f(r).e("body"))},[Y(v.$slots,"default")],10,_o),v.$slots.footer?($(),K("footer",{key:0,class:z(f(r).e("footer"))},[Y(v.$slots,"footer")],2)):q("v-if",!0)],6))}});var ko=ze(Mo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Ao=xe({...He,appendToBody:Boolean,beforeClose:{type:ge(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),Ro={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Ue]:t=>at(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},To=(t,e)=>{const n=vt().emit,{nextZIndex:a}=oo();let l="";const c=Le(),r=Le(),u=k(!1),i=k(!1),m=k(!1),d=k(t.zIndex||a());let S,v;const w=so("namespace",lt),p=j(()=>{const O={},H=`--${w.value}-dialog`;return t.fullscreen||(t.top&&(O[`${H}-margin-top`]=t.top),t.width&&(O[`${H}-width`]=we(t.width))),O}),s=j(()=>t.alignCenter?{display:"flex"}:{});function C(){n("opened")}function _(){n("closed"),n(Ue,!1),t.destroyOnClose&&(m.value=!1)}function x(){n("close")}function b(){v==null||v(),S==null||S(),t.openDelay&&t.openDelay>0?{stop:S}=Oe(()=>E(),t.openDelay):E()}function M(){S==null||S(),v==null||v(),t.closeDelay&&t.closeDelay>0?{stop:v}=Oe(()=>L(),t.closeDelay):L()}function y(){function O(H){H||(i.value=!0,u.value=!1)}t.beforeClose?t.beforeClose(O):M()}function T(){t.closeOnClickModal&&y()}function E(){Ye&&(u.value=!0)}function L(){u.value=!1}function g(){n("openAutoFocus")}function A(){n("closeAutoFocus")}function V(O){var H;((H=O.detail)==null?void 0:H.focusReason)==="pointer"&&O.preventDefault()}t.lockScroll&&ho(u);function J(){t.closeOnPressEscape&&y()}return te(()=>t.modelValue,O=>{O?(i.value=!1,b(),m.value=!0,d.value=t.zIndex?d.value++:a(),yt(()=>{n("open"),e.value&&(e.value.scrollTop=0)})):u.value&&M()}),te(()=>t.fullscreen,O=>{e.value&&(O?(l=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=l)}),_e(()=>{t.modelValue&&(u.value=!0,m.value=!0,b())}),{afterEnter:C,afterLeave:_,beforeLeave:x,handleClose:y,onModalClick:T,close:M,doClose:L,onOpenAutoFocus:g,onCloseAutoFocus:A,onCloseRequested:J,onFocusoutPrevented:V,titleId:c,bodyId:r,closed:i,style:p,overlayDialogStyle:s,rendered:m,visible:u,zIndex:d}},Lo=["aria-label","aria-labelledby","aria-describedby"],Do=G({name:"ElDialog",inheritAttrs:!1}),Oo=G({...Do,props:Ao,emits:Ro,setup(t,{expose:e}){const o=t,n=gt();Ae({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},j(()=>!!n.title)),Ae({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},j(()=>!!o.customClass));const a=Ce("dialog"),l=k(),c=k(),r=k(),{visible:u,titleId:i,bodyId:m,style:d,overlayDialogStyle:S,rendered:v,zIndex:w,afterEnter:p,afterLeave:s,beforeLeave:C,handleClose:_,onModalClick:x,onOpenAutoFocus:b,onCloseAutoFocus:M,onCloseRequested:y,onFocusoutPrevented:T}=To(o,l);bt(Ge,{dialogRef:l,headerRef:c,bodyId:m,ns:a,rendered:v,style:d});const E=je(x),L=j(()=>o.draggable&&!o.fullscreen);return e({visible:u,dialogContentRef:r}),(g,A)=>($(),oe(_t,{to:"body",disabled:!g.appendToBody},[P(be,{name:"dialog-fade",onAfterEnter:f(p),onAfterLeave:f(s),onBeforeLeave:f(C),persisted:""},{default:I(()=>[wt(P(f(wo),{"custom-mask-event":"",mask:g.modal,"overlay-class":g.modalClass,"z-index":f(w)},{default:I(()=>[D("div",{role:"dialog","aria-modal":"true","aria-label":g.title||void 0,"aria-labelledby":g.title?void 0:f(i),"aria-describedby":f(m),class:z(`${f(a).namespace.value}-overlay-dialog`),style:Ve(f(S)),onClick:A[0]||(A[0]=(...V)=>f(E).onClick&&f(E).onClick(...V)),onMousedown:A[1]||(A[1]=(...V)=>f(E).onMousedown&&f(E).onMousedown(...V)),onMouseup:A[2]||(A[2]=(...V)=>f(E).onMouseup&&f(E).onMouseup(...V))},[P(f(ro),{loop:"",trapped:f(u),"focus-start-el":"container",onFocusAfterTrapped:f(b),onFocusAfterReleased:f(M),onFocusoutPrevented:f(T),onReleaseRequested:f(y)},{default:I(()=>[f(v)?($(),oe(ko,St({key:0,ref_key:"dialogContentRef",ref:r},g.$attrs,{"custom-class":g.customClass,center:g.center,"align-center":g.alignCenter,"close-icon":g.closeIcon,draggable:f(L),fullscreen:g.fullscreen,"show-close":g.showClose,title:g.title,"aria-level":g.headerAriaLevel,onClose:f(_)}),Ct({header:I(()=>[g.$slots.title?Y(g.$slots,"title",{key:1}):Y(g.$slots,"header",{key:0,close:f(_),titleId:f(i),titleClass:f(a).e("title")})]),default:I(()=>[Y(g.$slots,"default")]),_:2},[g.$slots.footer?{name:"footer",fn:I(()=>[Y(g.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):q("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Lo)]),_:3},8,["mask","overlay-class","z-index"]),[[xt,f(u)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Bo=ze(Oo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Io=eo(Bo);var se,ne;class $o{constructor(e,o,n){h(this,"moveState",{forward:!1,backward:!1,left:!1,right:!1,playerIsOnGround:!0});h(this,"playerVelocity",new U);h(this,"player");h(this,"temp",{upVector:new U(0,1,0),tempVector:new U,tempVector2:new U,tempBox:new Ot,tempMat:new Ee,tempSegment:new Te});h(this,"params",{playerSpeed:12,gravity:-50});h(this,"controls");h(this,"camera");h(this,"capsuleInfo",{radius:1,segment:new Te(new U,new U(0,-5,0))});B(this,se,e=>{const{moveState:o}=this;switch(e.code){case"KeyW":case"ArrowUp":o.forward=!0;break;case"KeyS":case"ArrowDown":o.backward=!0;break;case"KeyA":case"ArrowLeft":o.left=!0;break;case"KeyD":case"ArrowRight":o.right=!0;break;case"Space":o.playerIsOnGround&&(this.playerVelocity.y=20,o.playerIsOnGround=!1)}});B(this,ne,e=>{const{moveState:o}=this;switch(e.code){case"KeyW":case"ArrowUp":o.forward=!1;break;case"KeyS":case"ArrowDown":o.backward=!1;break;case"KeyA":case"ArrowLeft":o.left=!1;break;case"KeyD":case"ArrowRight":o.right=!1;break}});h(this,"reset",()=>{const{playerVelocity:e,player:o,camera:n,controls:a}=this;e.set(0,0,0),o.position.set(0,5,0),n.position.sub(a.target),a.target.copy(o.position),n.position.add(o.position),a.update()});X("keydown",Q(this,se)),X("keyup",Q(this,ne)),this.player=e,this.controls=o,this.camera=n}updatePlayer(e,o){const{playerVelocity:n,player:a,params:l,controls:c,camera:r}=this,{playerIsOnGround:u,forward:i,backward:m,right:d,left:S}=this.moveState,{upVector:v,tempVector:w}=this.temp;u?n.y=e*l.gravity:n.y+=e*l.gravity,a.position.addScaledVector(n,e);const p=c.getAzimuthalAngle();i&&(w.set(0,0,-1).applyAxisAngle(v,p),a.position.addScaledVector(w,l.playerSpeed*e)),m&&(w.set(0,0,1).applyAxisAngle(v,p),a.position.addScaledVector(w,l.playerSpeed*e)),S&&(w.set(-1,0,0).applyAxisAngle(v,p),a.position.addScaledVector(w,l.playerSpeed*e)),d&&(w.set(1,0,0).applyAxisAngle(v,p),a.position.addScaledVector(w,l.playerSpeed*e)),a.updateMatrixWorld();const{tempBox:s,tempMat:C,tempSegment:_,tempVector2:x}=this.temp,b=this.capsuleInfo;s.makeEmpty(),C.copy(o.matrixWorld).invert(),_.copy(b.segment),_.start.applyMatrix4(a.matrixWorld).applyMatrix4(C),_.end.applyMatrix4(a.matrixWorld).applyMatrix4(C),s.expandByPoint(_.start),s.expandByPoint(_.end),s.min.addScalar(-b.radius),s.max.addScalar(b.radius),o.geometry.boundsTree.shapecast({intersectsBounds:E=>E.intersectsBox(s),intersectsTriangle:E=>{const L=w,g=x,A=E.closestPointToSegment(_,L,g);if(A<b.radius){const V=b.radius-A,J=g.sub(L).normalize();_.start.addScaledVector(J,V),_.end.addScaledVector(J,V)}}});const M=w;M.copy(_.start).applyMatrix4(o.matrixWorld);const y=x;y.subVectors(M,a.position),this.moveState.playerIsOnGround=y.y>Math.abs(e*n.y*.25);const T=Math.max(0,y.length()-1e-5);y.normalize().multiplyScalar(T),a.position.add(y),u?n.set(0,0,0):(y.normalize(),n.addScaledVector(y,-y.dot(n))),r.position.sub(c.target),c.target.copy(a.position),r.position.add(a.position),a.position.y<-25&&this.reset()}get isMoving(){const{forward:e,backward:o,left:n,right:a,playerIsOnGround:l}=this.moveState;return e||o||n||a||!l}}se=new WeakMap,ne=new WeakMap;const Vo=[new URL("/WebglStudy/assets/1-91d1fd28.png",self.location).href,new URL("/WebglStudy/assets/2-577e2981.png",self.location).href,new URL("/WebglStudy/assets/3-e96f4416.jpg",self.location).href,new URL("/WebglStudy/assets/4-2c59a331.jpg",self.location).href,new URL("/WebglStudy/assets/5-c8aed110.png",self.location).href,new URL("/WebglStudy/assets/6-9d09d2dc.png",self.location).href,new URL("/WebglStudy/assets/7-68ca4bc6.png",self.location).href,new URL("/WebglStudy/assets/8-74f5f15e.jpg",self.location).href,new URL("/WebglStudy/assets/9-44142f78.jpg",self.location).href,new URL("/WebglStudy/assets/10-1cde4a43.png",self.location).href],ve={1:{title:"《小橘贝》",author:"小雅",describe:`
		它站在画面中央，静静地凝视着观众，柔和的橘色将它的柔软毛发和灵动眼眸妩媚地勾勒出来。<br>
		小猫的小耳朵微微竖起，似乎在倾听着什么，身体略微前倾，展现出它对周围世界的好奇和敏感。<br>
		画面的背景色以淡蓝色为主，这种色彩营造了温馨轻柔的氛围，让人仿佛置身于阳光明媚的午后时光中。<br>
		整个画作细致精致、色彩明亮而温暖，带给人们一种温馨、亲切的感受。
		`},2:{title:"《微光》",author:"小雅",describe:`
		微小的星光和银河组成了一个神秘的宇宙世界，让人感到无限的遐想和想象。<br>
		当你凝视着这幅画时，你会感受到无边无际的深邃和宁静。<br>
		你仿佛置身于一个没有噪音、没有烦扰的夜空中。在这个宁静的空间里，你可以看到银河中微光闪烁的样子。<br>
		这些微光似乎是夜空中唯一的生命体，它们微弱却坚定地发出光芒，点亮着整个银河系。<br>
		这些微光是如此的纤细而又强大，仿佛在无边的黑暗中，只有它们才能给人带来希望和力量。
		`},3:{title:"《天鹅》",author:"小雅",describe:`
		湖面静谧如镜，微风拂过，泛起一圈圈细微的涟漪，仿佛为优雅的白色天鹅们铺上了一层晶莹剔透的纱帐。<br>
		其中一只白羽如雪的天鹅在水中自由自在地舞动着优美的姿态，如同一位华丽的舞者在水上翩翩起舞。<br>
		纯白色羽毛在阳光的照射下，闪烁着淡淡的光晕，如同珍珠一般璀璨夺目。
		`},4:{title:"《山中小屋》",author:"小雅",describe:`
		宁静而恬淡，远山隐现于云雾中，仿佛是一幅梦幻般的画卷。<br>
		小屋在山脚下宁静地伫立，墙体洁白，屋顶泛着淡淡的阳光，使得小屋与周围的环境相互映衬。<br>
		流露出一种自然的和谐之美。
		`},5:{title:"《太空人》",author:"小雅",describe:`
		太空人身披着黑夜在星罗棋布的宇宙中漫游。<br>
		虽说现在已经是太空时代，人类早就可以坐太空飞船去月球，<br>
		但却永远无法探索别人内心的宇宙。
		`},6:{title:"《粉色海洋》",author:"小雅",describe:`
		粉色云朵蓬松如棉花糖展开眼前，弯月微笑在缝隙间，月光柔和，清雅动人。<br>
		紫色天空如梦，星辉闪烁，默默倾听，轻轻地，微风拂面，悄悄地，生命在流动。
		`},7:{title:"《风平浪静》",author:"小雅",describe:`
		撑一条船，离开岸边一百米，风平浪静，彩霞慢慢淡下去。<br>
		撑一条船，离开岸边两百米，风平浪静，夜晚轻轻呼唤你。<br>
		撑一条船，离开岸边三百米，风平浪静，大鱼笑我傻兮兮。<br>
		撑一条船 离开岸边四百米，风平浪静，星儿闪闪笑眯眯。<br>
		撑一条船 离开岸边五百米，风平浪静，海龟向我挥手臂。
		`},8:{title:"《向日葵》",author:"小雅",describe:`
		阳光照耀，金黄的花盘。<br>
		宛如一盏明灯，指引前行。<br>
		向日葵，你是信仰，你是力量，你是光辉，你是坚毅，你是忠诚，你是爱慕，你是美丽。
		`},9:{title:"《花·虎·蝶》",author:"小雅",describe:`
		一段奇妙的相遇，是自由和勇气的结合，是一份神秘而又动人的韵味。<br>
		在这片色彩斑斓的花海之中，一只带着蝴蝶翅膀的老虎，骑着踏板车，<br>
		它像是一道闪电，划破了这片美好的天地。<br>
		翅膀轻轻地振动，仿佛随时可以飞离这片美好的天地，飞向更广阔的天空。
		`},10:{title:"《豚》",author:"小雅",describe:`
		所有的转折隐藏在密集的鸟群中，天空与海洋都无法察觉，怀着美梦却可以看见。<br>
		摸索颠倒的一瞬间，所有的怀念隐藏在相似的日子里，心里的蜘蛛模仿人类张灯结彩
		`}},R={width:window.innerWidth,height:window.innerHeight},Se=k();var ae,Ke,le,Xe,re,Fe,ie,qe,ce,Ze;class Wo{constructor(e){B(this,ae);B(this,le);B(this,re);B(this,ie);B(this,ce);h(this,"loader",new Zt);h(this,"textureLoader",new Bt);h(this,"collisionScene");h(this,"textureBoards",{});h(this,"galleryBoards",{});h(this,"raycastObjects",[]);h(this,"loaded",k(!1));h(this,"scene");h(this,"loadingState",{loaded:[],total:[],progress:k(0)});this.scene=e,N(this,ce,Ze).call(this),N(this,le,Xe).call(this);const o=[N(this,ae,Ke).call(this),N(this,re,Fe).call(this)];Promise.all(o).then(()=>{N(this,ie,qe).call(this),this.loaded.value=!0})}}ae=new WeakSet,Ke=function(){const{loader:e,scene:o}=this;return new Promise((n,a)=>{e.load("model/scene_collision.glb",l=>{const c=l.scene;c.updateMatrixWorld(!0),this.collisionScene=c,c.traverse(i=>{(i.name==="home001"||i.name==="PointLight")&&(i.castShadow=!0),i.name.includes("PointLight")&&i instanceof It&&(i.intensity*=2e3),i.name==="home002"&&(i.castShadow=!0,i.receiveShadow=!0),i instanceof Z&&/gallery.*_board/.test(i.name)&&(this.galleryBoards[i.name]=i,this.raycastObjects.push(i))});const r=new Tt(this.collisionScene);r.attributes=["position"];const u=r.generate();u.boundsTree=new Lt(u),Se.value=new Z(u),o.add(c),n(l)},l=>{const{loaded:c,total:r,progress:u}=this.loadingState;c[0]=l.loaded,r[0]=l.total,u.value=c.reduce((i,m)=>i+m,0)/r.reduce((i,m)=>i+m,0)})})},le=new WeakSet,Xe=function(){const{loader:e,scene:o}=this;return new Promise(n=>{e.load("model/scene_desk_obj.glb",a=>{const l=a.scene;o.add(l),n(a)},a=>{const{loaded:l,total:c,progress:r}=this.loadingState;l[1]=a.loaded,c[1]=a.total,r.value=l.reduce((u,i)=>u+i,0)/c.reduce((u,i)=>u+i,0)})})},re=new WeakSet,Fe=async function(){const{textureLoader:e,textureBoards:o}=this,n=[];function a(l){l.colorSpace=We;const c=l.image.width/l.image.height;let r=1,u=1;c>1?r=1/c:u=c,l.offset.set(.5-r/2,.5-u/2),l.repeat.set(r,u)}for(const[l,c]of Vo.entries()){const r=new Promise(u=>{e.load(c,i=>{a(i),o[l+1]=i,u(i)})});n.push(r)}return await Promise.all(n),o},ie=new WeakSet,qe=function(){const{textureBoards:e,galleryBoards:o}=this;for(const n in e){const a=o[`gallery${n}_board`],l=a.material;l.map=e[n],a.userData={name:a.name,title:ve[n].title,author:ve[n].author,describe:ve[n].describe,index:n,src:e[n].image.src,show_boards:!0},[4,5,6,7,9].includes(+n)&&(a.rotation.y=-Math.PI/2),+n==8&&(a.rotation.y=Math.PI)}},ce=new WeakSet,Ze=function(){const e=new Jt(new Me(100,100),{textureWidth:R.width*window.devicePixelRatio,textureHeight:R.height*window.devicePixelRatio,color:16777215});e.material instanceof $t&&(e.material.transparent=!0,e.material.fragmentShader=e.material.fragmentShader.replace("gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 )","gl_FragColor = vec4( blendOverlay( base.rgb, color ), 0.1 )")),e.rotation.x=-Math.PI/2,this.scene.add(e)};const Be=new U,Po=new Wt,Ie=new U;class No extends Vt{constructor(e=document.createElement("div")){super(),this.isCSS3DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(o){o.element instanceof Element&&o.element.parentNode!==null&&o.element.parentNode.removeChild(o.element)})})}copy(e,o){return super.copy(e,o),this.element=e.element.cloneNode(!0),this}}const W=new Ee,zo=new Ee;class Yo{constructor(e={}){const o=this;let n,a,l,c;const r={camera:{fov:0,style:""},objects:new WeakMap},u=e.element!==void 0?e.element:document.createElement("div");u.style.overflow="hidden",this.domElement=u;const i=document.createElement("div");i.style.transformOrigin="0 0",i.style.pointerEvents="none",u.appendChild(i);const m=document.createElement("div");m.style.transformStyle="preserve-3d",i.appendChild(m),this.getSize=function(){return{width:n,height:a}},this.render=function(p,s){const C=s.projectionMatrix.elements[5]*c;r.camera.fov!==C&&(i.style.perspective=s.isPerspectiveCamera?C+"px":"",r.camera.fov=C),s.view&&s.view.enabled?(i.style.transform=`translate( ${-s.view.offsetX*(n/s.view.width)}px, ${-s.view.offsetY*(a/s.view.height)}px )`,i.style.transform+=`scale( ${s.view.fullWidth/s.view.width}, ${s.view.fullHeight/s.view.height} )`):i.style.transform="",p.matrixWorldAutoUpdate===!0&&p.updateMatrixWorld(),s.parent===null&&s.matrixWorldAutoUpdate===!0&&s.updateMatrixWorld();let _,x;s.isOrthographicCamera&&(_=-(s.right+s.left)/2,x=(s.top+s.bottom)/2);const b=s.view&&s.view.enabled?s.view.height/s.view.fullHeight:1,y=(s.isOrthographicCamera?`scale( ${b} )scale(`+C+")translate("+d(_)+"px,"+d(x)+"px)"+S(s.matrixWorldInverse):`scale( ${b} )translateZ(`+C+"px)"+S(s.matrixWorldInverse))+"translate("+l+"px,"+c+"px)";r.camera.style!==y&&(m.style.transform=y,r.camera.style=y),w(p,p,s)},this.setSize=function(p,s){n=p,a=s,l=n/2,c=a/2,u.style.width=p+"px",u.style.height=s+"px",i.style.width=p+"px",i.style.height=s+"px",m.style.width=p+"px",m.style.height=s+"px"};function d(p){return Math.abs(p)<1e-10?0:p}function S(p){const s=p.elements;return"matrix3d("+d(s[0])+","+d(-s[1])+","+d(s[2])+","+d(s[3])+","+d(s[4])+","+d(-s[5])+","+d(s[6])+","+d(s[7])+","+d(s[8])+","+d(-s[9])+","+d(s[10])+","+d(s[11])+","+d(s[12])+","+d(-s[13])+","+d(s[14])+","+d(s[15])+")"}function v(p){const s=p.elements;return"translate(-50%,-50%)"+("matrix3d("+d(s[0])+","+d(s[1])+","+d(s[2])+","+d(s[3])+","+d(-s[4])+","+d(-s[5])+","+d(-s[6])+","+d(-s[7])+","+d(s[8])+","+d(s[9])+","+d(s[10])+","+d(s[11])+","+d(s[12])+","+d(s[13])+","+d(s[14])+","+d(s[15])+")")}function w(p,s,C,_){if(p.isCSS3DObject){const x=p.visible===!0&&p.layers.test(C.layers)===!0;if(p.element.style.display=x===!0?"":"none",x===!0){p.onBeforeRender(o,s,C);let b;p.isCSS3DSprite?(W.copy(C.matrixWorldInverse),W.transpose(),p.rotation2D!==0&&W.multiply(zo.makeRotationZ(p.rotation2D)),p.matrixWorld.decompose(Be,Po,Ie),W.setPosition(Be),W.scale(Ie),W.elements[3]=0,W.elements[7]=0,W.elements[11]=0,W.elements[15]=1,b=v(W)):b=v(p.matrixWorld);const M=p.element,y=r.objects.get(p);if(y===void 0||y.style!==b){M.style.transform=b;const T={style:b};r.objects.set(p,T)}M.parentNode!==m&&m.appendChild(M),p.onAfterRender(o,s,C)}}for(let x=0,b=p.children.length;x<b;x++)w(p.children[x],s,C)}}}const Je=k();var de,Qe,ue,et,pe,tt;class Uo{constructor(e){B(this,de);B(this,ue);B(this,pe);h(this,"cssScene");h(this,"scene");h(this,"cssRenderer");h(this,"update",e=>{this.cssRenderer.render(this.cssScene,e)});h(this,"dispose",()=>{this.cssScene.traverse(e=>{e.material&&e.material.dispose(),e.geometry&&e.geometry.dispose(),e.dispose&&e.dispose(),e=null}),this.cssScene.clear()});this.cssScene=new Pe,this.scene=e,this.cssRenderer=new Yo,N(this,de,Qe).call(this),N(this,ue,et).call(this),N(this,pe,tt).call(this)}}de=new WeakSet,Qe=function(){const{cssRenderer:e}=this;e.setSize(R.width,R.height),e.domElement.style.position="absolute",e.domElement.style.top="0px",document.body.appendChild(e.domElement)},ue=new WeakSet,et=function(){X("resize",()=>{this.cssRenderer.setSize(R.width,R.height)})},pe=new WeakSet,tt=function(){const e=new Me(1.5,1.3),o=new Pt({color:0,side:Nt,transparent:!0,opacity:0,blending:zt}),n=new Z(e,o);n.position.set(-15.55,5.5,36.33),n.rotation.set(0,Math.PI/2,0),this.scene.add(n);const a=document.createElement("iframe");a.src="https://www.bilibili.com/",a.style.width="730px",a.style.height="500px",a.style.boxSizing="border-box",a.style.opacity="1";const l=new No(a);l.position.copy(n.position),l.rotation.copy(n.rotation),l.scale.set(.002,.002,.002),Je.value=n,this.cssScene.add(l)};const ot=k(!1);class jo{constructor(e){h(this,"camera");h(this,"hoverPoint",new he(0,0));h(this,"tooltipRaycaster",new ye);h(this,"raycastObjects",[]);h(this,"bindClickRayCastObj",(e=[],o)=>{let n=0,a=0;X("mousedown",r=>{n=r.screenX,a=r.screenY}),this.raycastObjects=e;const l=new ye;l.far=18,X("mouseup",r=>{const u=Math.abs(r.screenX-n),i=Math.abs(r.screenY-a);if(u>1||i>1)return;const m=new he(r.clientX/R.width*2-1,1-r.clientY/R.height*2);l.setFromCamera(m,this.camera);const d=l.intersectObjects(e);d.length&&o(d[0].object)});const c=new ye;c.near=0,c.far=18,X("mousemove",r=>{const u=new he(r.clientX/R.width*2-1,1-r.clientY/R.height*2);c.setFromCamera(u,this.camera);const i=c.intersectObjects([Je.value]);ot.value=!!i.length})});this.camera=e,this.tooltipRaycaster.far=15}updateTooltipRayCast(e,o){if(this.raycastObjects.length){this.tooltipRaycaster.setFromCamera(this.hoverPoint,this.camera);const n=this.tooltipRaycaster.intersectObjects(this.raycastObjects);n.length&&n[0].object.userData.title?e(n[0].object):o()}}}const Go={class:"tracking-wider select-none",text:"white"},Ho={class:"fixed bottom-190px left-1/2 -translate-x-1/2 leading-40px z-11 px-20px rounded bg-black/40"},Ko=D("footer",{class:"fixed bottom-20px left-1/2 -translate-x-1/2 leading-40px z-11 rounded bg-black/40 w-50vw text-center"},"Tips：点击此画可查看详情",-1),Xo=G({__name:"Tip",props:{title:{}},setup(t){return(e,o)=>($(),K("div",Go,[D("header",Ho,F(e.title),1),Ko]))}}),Fo={class:"flex justify-between gap-x-40px tracking-wider leading-32px",text:"16px white"},qo={class:"font-bold",text:"20px"},Zo=["innerHTML"],Jo=["src"],Qo=G({__name:"Detail",props:{data:{}},setup(t){return(e,o)=>($(),K("div",Fo,[D("aside",null,[D("header",qo,F(e.data.title),1),D("p",null,"作者："+F(e.data.author),1),D("footer",{class:"text-justify leading-40px",innerHTML:e.data.describe},null,8,Zo)]),D("img",{src:e.data.src,alt:"",class:"w-670px h-500px"},null,8,Jo)]))}});var fe;class es{constructor(e,o){h(this,"scene");h(this,"camera");h(this,"sound");B(this,fe,()=>{const e=new Yt;this.camera.add(e);const o=new Ut(e);this.sound=o,new jt().load("虔心悲切遥呼上师祈请文.mp3",l=>{o.setBuffer(l),o.setRefDistance(20),o.setDirectionalCone(180,230,.5),o.setLoop(!0)});const a=new Z(new Me(1,1),new Ne({color:16711680}));a.position.set(-15.9,4.49,36.42),a.visible=!1,this.scene.add(a),a.add(o)});h(this,"play",()=>{this.sound.play()});h(this,"pause",()=>{this.sound.pause()});this.scene=e,this.camera=o,Q(this,fe).call(this)}}fe=new WeakMap;const ts={class:"fixed left-20px top-20px z-11"},os={key:0,class:"loading-text fixed z-11 inset-0 grid place-items-center",text:"120px"},ss=G({__name:"Index",setup(t){const e=new Pe;e.background=new Gt(15658734);const o=new Ht(55,R.width/R.height,.1,1e3);o.position.set(0,0,3);const n=new Kt({antialias:!0,logarithmicDepthBuffer:!0});n.setSize(R.width,R.height),n.setPixelRatio(window.devicePixelRatio),n.shadowMap.enabled=!0,n.outputColorSpace=We,n.toneMapping=Xt;const a=Et();_e(()=>{a.value.appendChild(n.domElement)});const l=new Uo(e),c=new Rt(o,n.domElement);c.minDistance=1e-4,c.maxDistance=1e-4;const r=new Wo(e),u=new jo(o);te(r.loaded,y=>{y&&u.bindClickRayCastObj(r.raycastObjects,M)});const i=new Z(new Dt(.5,2.5,.5,10,1),new Ne({color:255}));i.geometry.translate(0,-.25,0),e.add(i);const m=new $o(i,c,o);m.reset();const d=new es(e,o),S=k(!1);function v(){S.value=!S.value,S.value?d.play():d.pause()}const w=new Ft;n.setAnimationLoop(()=>{n.render(e,o),c.update();const y=Math.min(w.getDelta(),.05);Se.value&&m.updatePlayer(y,Se.value),m.isMoving&&u.updateTooltipRayCast(s,C),l.update(o)});const p=k();function s(y){p.value=y.userData.title}function C(){p.value=null}const _=j(()=>r.loadingState.progress.value<1),x=k(!1),b=k();function M(y){b.value=y.userData,x.value=!x.value}return Mt(()=>{qt(e,n),l.dispose()}),(y,T)=>{const E=ct,L=Io;return $(),K(kt,null,[D("div",{id:"webgl",ref_key:"containerRef",ref:a,class:z(["relative z-1",{"pointer-events-none":f(ot)}])},null,2),D("div",ts,[P(E,{type:"primary",onClick:v},{default:I(()=>[At(F(f(S)?"暂停音乐":"播放音乐"),1)]),_:1})]),P(be,{appear:"",name:"fade"},{default:I(()=>[f(_)?($(),K("div",os,F(Math.floor(f(r).loadingState.progress.value*100))+"% ",1)):q("",!0)]),_:1}),P(be,{appear:"",name:"fade"},{default:I(()=>[f(p)?($(),oe(Xo,{key:0,title:f(p)},null,8,["title"])):q("",!0)]),_:1}),P(L,{modelValue:f(x),"onUpdate:modelValue":T[0]||(T[0]=g=>$e(x)?x.value=g:null),width:"70vw",class:"!bg-black !rounded-20px"},{default:I(()=>[P(Qo,{data:f(b)},null,8,["data"])]),_:1},8,["modelValue"])],64)}}});const Cs=fo(ss,[["__scopeId","data-v-c75df4f3"]]);export{Cs as default};
