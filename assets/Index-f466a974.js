var Qe=Object.defineProperty;var et=(t,e,o)=>e in t?Qe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var u=(t,e,o)=>(et(t,typeof e!="symbol"?e+"":e,o),o),xe=(t,e,o)=>{if(!e.has(t))throw TypeError("Cannot "+o)};var J=(t,e,o)=>(xe(t,e,"read from private field"),o?o.call(t):e.get(t)),D=(t,e,o)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,o)};var j=(t,e,o)=>(xe(t,e,"access private method"),o);import{a as Se,b as Ce,d as be,j as tt,g as ot}from"./base-04e3e5d2.js";import{i as st,C as at,u as Me,E as nt}from"./el-button-86edc6d5.js";import{l as _e,a3 as rt,a4 as lt,E as De,a5 as it,M as ee,Z as ct,X as fe,d as W,q as P,P as N,y as dt,L as ke,f as Y,o as V,c as G,h as L,Q as z,a as c,t as X,w as I,i as te,R as ut,S as F,H as Be,k as C,B as pt,K as ft,N as mt,V as yt,z as ht,U as bt,a6 as gt,A as vt,T as ge,a7 as wt,s as St,p as Ct,F as _t,j as Et}from"./index-76c78296.js";import{O as xt}from"./OrbitControls-27c6eec7.js";import{S as Mt,M as kt,R as Tt}from"./StaticGeometryGenerator-ab95e94c.js";import{V as K,y as Lt,M as Rt,aV as Te,T as At,aW as Dt,b as q,f as Ee,$ as Bt,g as Oe,S as Ie,a9 as Ot,D as It,Y as Vt,K as me,J as ye,aX as $t,aY as Pt,aZ as jt,a as Ve,h as zt,P as Nt,W as Yt,a6 as Wt,E as Ut}from"./three.module-2f5a30fe.js";import{d as Gt}from"./index-1a26f821.js";import{u as H}from"./index-6e4d2cdc.js";import{G as Kt}from"./GLTFLoader-4fb01c99.js";import{R as Ht}from"./Reflector-2172a48a.js";import{C as Xt,a as Ft}from"./CSS3DRenderer-e7e8c5fe.js";import{E as qt}from"./index-ee6dff44.js";import{_ as $e,d as Le,w as Zt}from"./use-form-item-c93ca55a.js";import{b as Jt,c as Qt,a as eo}from"./use-global-config-ba5d19c2.js";import{g as to,F as oo,c as so,E as ao}from"./focus-trap-f96a9e75.js";import{b as ve,i as Pe,h as Re,g as no,a as ro,r as lo,u as Ae}from"./style-ffa2b783.js";import{t as io,U as je}from"./event-e06a23af.js";import{_ as co}from"./_plugin-vue_export-helper-c27b6911.js";var Q=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(Q||{});const uo=(t,e,o)=>{let s={offsetX:0,offsetY:0};const a=r=>{const d=r.clientX,i=r.clientY,{offsetX:m,offsetY:g}=s,b=t.value.getBoundingClientRect(),f=b.left,h=b.top,S=b.width,E=b.height,B=document.documentElement.clientWidth,v=document.documentElement.clientHeight,x=-f+m,_=-h+g,R=B-f-S+m,y=v-h-E+g,O=T=>{const p=Math.min(Math.max(m+T.clientX-d,x),R),M=Math.min(Math.max(g+T.clientY-i,_),y);s={offsetX:p,offsetY:M},t.value.style.transform=`translate(${ve(p)}, ${ve(M)})`},w=()=>{document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",O),document.addEventListener("mouseup",w)},n=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",a)},l=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",a)};_e(()=>{rt(()=>{o.value?n():l()})}),lt(()=>{l()})},po=(t,e={})=>{De(t)||io("[useLockscreen]","You need to pass a ref param to this function");const o=e.ns||Se("popup"),s=it(()=>o.bm("parent","hidden"));if(!Pe||Re(document.body,s.value))return;let a=0,n=!1,l="0";const r=()=>{setTimeout(()=>{lo(document==null?void 0:document.body,s.value),n&&document&&(document.body.style.width=l)},200)};ee(t,d=>{if(!d){r();return}n=!Re(document.body,s.value),n&&(l=document.body.style.width),a=to(o.namespace.value);const i=document.documentElement.clientHeight<document.body.scrollHeight,m=no(document.body,"overflowY");a>0&&(i||m==="scroll")&&n&&(document.body.style.width=`calc(100% - ${a}px)`),ro(document.body,s.value)}),ct(()=>r())},ze=t=>{if(!t)return{onClick:fe,onMousedown:fe,onMouseup:fe};let e=!1,o=!1;return{onClick:l=>{e&&o&&t(l),e=o=!1},onMousedown:l=>{e=l.target===l.currentTarget},onMouseup:l=>{o=l.target===l.currentTarget}}},fo=Ce({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:be([String,Array,Object])},zIndex:{type:be([String,Number])}}),mo={click:t=>t instanceof MouseEvent},yo="overlay";var ho=W({name:"ElOverlay",props:fo,emits:mo,setup(t,{slots:e,emit:o}){const s=Se(yo),a=d=>{o("click",d)},{onClick:n,onMousedown:l,onMouseup:r}=ze(t.customMaskEvent?void 0:a);return()=>t.mask?P("div",{class:[s.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:n,onMousedown:l,onMouseup:r},[N(e,"default")],Q.STYLE|Q.CLASS|Q.PROPS,["onClick","onMouseup","onMousedown"]):dt("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[N(e,"default")])}});const bo=ho,Ne=Symbol("dialogInjectionKey"),Ye=Ce({center:Boolean,alignCenter:Boolean,closeIcon:{type:st},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),go={close:()=>!0},vo=["aria-level"],wo=["aria-label"],So=["id"],Co=W({name:"ElDialogContent"}),_o=W({...Co,props:Ye,emits:go,setup(t){const e=t,{t:o}=Jt(),{Close:s}=at,{dialogRef:a,headerRef:n,bodyId:l,ns:r,style:d}=ke(Ne),{focusTrapRef:i}=ke(oo),m=Y(()=>[r.b(),r.is("fullscreen",e.fullscreen),r.is("draggable",e.draggable),r.is("align-center",e.alignCenter),{[r.m("center")]:e.center},e.customClass]),g=so(i,a),b=Y(()=>e.draggable);return uo(a,n,b),(f,h)=>(V(),G("div",{ref:c(g),class:z(c(m)),style:Be(c(d)),tabindex:"-1"},[L("header",{ref_key:"headerRef",ref:n,class:z(c(r).e("header"))},[N(f.$slots,"header",{},()=>[L("span",{role:"heading","aria-level":f.ariaLevel,class:z(c(r).e("title"))},X(f.title),11,vo)]),f.showClose?(V(),G("button",{key:0,"aria-label":c(o)("el.dialog.close"),class:z(c(r).e("headerbtn")),type:"button",onClick:h[0]||(h[0]=S=>f.$emit("close"))},[P(c(qt),{class:z(c(r).e("close"))},{default:I(()=>[(V(),te(ut(f.closeIcon||c(s))))]),_:1},8,["class"])],10,wo)):F("v-if",!0)],2),L("div",{id:c(l),class:z(c(r).e("body"))},[N(f.$slots,"default")],10,So),f.$slots.footer?(V(),G("footer",{key:0,class:z(c(r).e("footer"))},[N(f.$slots,"footer")],2)):F("v-if",!0)],6))}});var Eo=$e(_o,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const xo=Ce({...Ye,appendToBody:Boolean,beforeClose:{type:be(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),Mo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[je]:t=>tt(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ko=(t,e)=>{const s=ft().emit,{nextZIndex:a}=Qt();let n="";const l=Le(),r=Le(),d=C(!1),i=C(!1),m=C(!1),g=C(t.zIndex||a());let b,f;const h=eo("namespace",ot),S=Y(()=>{const A={},U=`--${h.value}-dialog`;return t.fullscreen||(t.top&&(A[`${U}-margin-top`]=t.top),t.width&&(A[`${U}-width`]=ve(t.width))),A}),E=Y(()=>t.alignCenter?{display:"flex"}:{});function B(){s("opened")}function v(){s("closed"),s(je,!1),t.destroyOnClose&&(m.value=!1)}function x(){s("close")}function _(){f==null||f(),b==null||b(),t.openDelay&&t.openDelay>0?{stop:b}=Ae(()=>w(),t.openDelay):w()}function R(){b==null||b(),f==null||f(),t.closeDelay&&t.closeDelay>0?{stop:f}=Ae(()=>T(),t.closeDelay):T()}function y(){function A(U){U||(i.value=!0,d.value=!1)}t.beforeClose?t.beforeClose(A):R()}function O(){t.closeOnClickModal&&y()}function w(){Pe&&(d.value=!0)}function T(){d.value=!1}function p(){s("openAutoFocus")}function M(){s("closeAutoFocus")}function $(A){var U;((U=A.detail)==null?void 0:U.focusReason)==="pointer"&&A.preventDefault()}t.lockScroll&&po(d);function Z(){t.closeOnPressEscape&&y()}return ee(()=>t.modelValue,A=>{A?(i.value=!1,_(),m.value=!0,g.value=t.zIndex?g.value++:a(),pt(()=>{s("open"),e.value&&(e.value.scrollTop=0)})):d.value&&R()}),ee(()=>t.fullscreen,A=>{e.value&&(A?(n=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=n)}),_e(()=>{t.modelValue&&(d.value=!0,m.value=!0,_())}),{afterEnter:B,afterLeave:v,beforeLeave:x,handleClose:y,onModalClick:O,close:R,doClose:T,onOpenAutoFocus:p,onCloseAutoFocus:M,onCloseRequested:Z,onFocusoutPrevented:$,titleId:l,bodyId:r,closed:i,style:S,overlayDialogStyle:E,rendered:m,visible:d,zIndex:g}},To=["aria-label","aria-labelledby","aria-describedby"],Lo=W({name:"ElDialog",inheritAttrs:!1}),Ro=W({...Lo,props:xo,emits:Mo,setup(t,{expose:e}){const o=t,s=mt();Me({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},Y(()=>!!s.title)),Me({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},Y(()=>!!o.customClass));const a=Se("dialog"),n=C(),l=C(),r=C(),{visible:d,titleId:i,bodyId:m,style:g,overlayDialogStyle:b,rendered:f,zIndex:h,afterEnter:S,afterLeave:E,beforeLeave:B,handleClose:v,onModalClick:x,onOpenAutoFocus:_,onCloseAutoFocus:R,onCloseRequested:y,onFocusoutPrevented:O}=ko(o,n);yt(Ne,{dialogRef:n,headerRef:l,bodyId:m,ns:a,rendered:f,style:g});const w=ze(x),T=Y(()=>o.draggable&&!o.fullscreen);return e({visible:d,dialogContentRef:r}),(p,M)=>(V(),te(wt,{to:"body",disabled:!p.appendToBody},[P(ge,{name:"dialog-fade",onAfterEnter:c(S),onAfterLeave:c(E),onBeforeLeave:c(B),persisted:""},{default:I(()=>[ht(P(c(bo),{"custom-mask-event":"",mask:p.modal,"overlay-class":p.modalClass,"z-index":c(h)},{default:I(()=>[L("div",{role:"dialog","aria-modal":"true","aria-label":p.title||void 0,"aria-labelledby":p.title?void 0:c(i),"aria-describedby":c(m),class:z(`${c(a).namespace.value}-overlay-dialog`),style:Be(c(b)),onClick:M[0]||(M[0]=(...$)=>c(w).onClick&&c(w).onClick(...$)),onMousedown:M[1]||(M[1]=(...$)=>c(w).onMousedown&&c(w).onMousedown(...$)),onMouseup:M[2]||(M[2]=(...$)=>c(w).onMouseup&&c(w).onMouseup(...$))},[P(c(ao),{loop:"",trapped:c(d),"focus-start-el":"container",onFocusAfterTrapped:c(_),onFocusAfterReleased:c(R),onFocusoutPrevented:c(O),onReleaseRequested:c(y)},{default:I(()=>[c(f)?(V(),te(Eo,bt({key:0,ref_key:"dialogContentRef",ref:r},p.$attrs,{"custom-class":p.customClass,center:p.center,"align-center":p.alignCenter,"close-icon":p.closeIcon,draggable:c(T),fullscreen:p.fullscreen,"show-close":p.showClose,title:p.title,"aria-level":p.headerAriaLevel,onClose:c(v)}),gt({header:I(()=>[p.$slots.title?N(p.$slots,"title",{key:1}):N(p.$slots,"header",{key:0,close:c(v),titleId:c(i),titleClass:c(a).e("title")})]),default:I(()=>[N(p.$slots,"default")]),_:2},[p.$slots.footer?{name:"footer",fn:I(()=>[N(p.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):F("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,To)]),_:3},8,["mask","overlay-class","z-index"]),[[vt,c(d)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Ao=$e(Ro,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Do=Zt(Ao);var oe,se;class Bo{constructor(e,o,s){u(this,"moveState",{forward:!1,backward:!1,left:!1,right:!1,playerIsOnGround:!0});u(this,"playerVelocity",new K);u(this,"player");u(this,"temp",{upVector:new K(0,1,0),tempVector:new K,tempVector2:new K,tempBox:new Lt,tempMat:new Rt,tempSegment:new Te});u(this,"params",{playerSpeed:12,gravity:-50});u(this,"controls");u(this,"camera");u(this,"capsuleInfo",{radius:1,segment:new Te(new K,new K(0,-5,0))});D(this,oe,e=>{const{moveState:o}=this;switch(e.code){case"KeyW":case"ArrowUp":o.forward=!0;break;case"KeyS":case"ArrowDown":o.backward=!0;break;case"KeyA":case"ArrowLeft":o.left=!0;break;case"KeyD":case"ArrowRight":o.right=!0;break;case"Space":o.playerIsOnGround&&(this.playerVelocity.y=20,o.playerIsOnGround=!1)}});D(this,se,e=>{const{moveState:o}=this;switch(e.code){case"KeyW":case"ArrowUp":o.forward=!1;break;case"KeyS":case"ArrowDown":o.backward=!1;break;case"KeyA":case"ArrowLeft":o.left=!1;break;case"KeyD":case"ArrowRight":o.right=!1;break}});u(this,"reset",()=>{const{playerVelocity:e,player:o,camera:s,controls:a}=this;e.set(0,0,0),o.position.set(0,5,0),s.position.sub(a.target),a.target.copy(o.position),s.position.add(o.position),a.update()});H("keydown",J(this,oe)),H("keyup",J(this,se)),this.player=e,this.controls=o,this.camera=s}updatePlayer(e,o){const{playerVelocity:s,player:a,params:n,controls:l,camera:r}=this,{playerIsOnGround:d,forward:i,backward:m,right:g,left:b}=this.moveState,{upVector:f,tempVector:h}=this.temp;d?s.y=e*n.gravity:s.y+=e*n.gravity,a.position.addScaledVector(s,e);const S=l.getAzimuthalAngle();i&&(h.set(0,0,-1).applyAxisAngle(f,S),a.position.addScaledVector(h,n.playerSpeed*e)),m&&(h.set(0,0,1).applyAxisAngle(f,S),a.position.addScaledVector(h,n.playerSpeed*e)),b&&(h.set(-1,0,0).applyAxisAngle(f,S),a.position.addScaledVector(h,n.playerSpeed*e)),g&&(h.set(1,0,0).applyAxisAngle(f,S),a.position.addScaledVector(h,n.playerSpeed*e)),a.updateMatrixWorld();const{tempBox:E,tempMat:B,tempSegment:v,tempVector2:x}=this.temp,_=this.capsuleInfo;E.makeEmpty(),B.copy(o.matrixWorld).invert(),v.copy(_.segment),v.start.applyMatrix4(a.matrixWorld).applyMatrix4(B),v.end.applyMatrix4(a.matrixWorld).applyMatrix4(B),E.expandByPoint(v.start),E.expandByPoint(v.end),E.min.addScalar(-_.radius),E.max.addScalar(_.radius),o.geometry.boundsTree.shapecast({intersectsBounds:w=>w.intersectsBox(E),intersectsTriangle:w=>{const T=h,p=x,M=w.closestPointToSegment(v,T,p);if(M<_.radius){const $=_.radius-M,Z=p.sub(T).normalize();v.start.addScaledVector(Z,$),v.end.addScaledVector(Z,$)}}});const R=h;R.copy(v.start).applyMatrix4(o.matrixWorld);const y=x;y.subVectors(R,a.position),this.moveState.playerIsOnGround=y.y>Math.abs(e*s.y*.25);const O=Math.max(0,y.length()-1e-5);y.normalize().multiplyScalar(O),a.position.add(y),d?s.set(0,0,0):(y.normalize(),s.addScaledVector(y,-y.dot(s))),r.position.sub(l.target),l.target.copy(a.position),r.position.add(a.position),a.position.y<-25&&this.reset()}get isMoving(){const{forward:e,backward:o,left:s,right:a,playerIsOnGround:n}=this.moveState;return e||o||s||a||!n}}oe=new WeakMap,se=new WeakMap;const Oo=[new URL("/WebglStudy/assets/1-91d1fd28.png",self.location).href,new URL("/WebglStudy/assets/2-577e2981.png",self.location).href,new URL("/WebglStudy/assets/3-e96f4416.jpg",self.location).href,new URL("/WebglStudy/assets/4-2c59a331.jpg",self.location).href,new URL("/WebglStudy/assets/5-c8aed110.png",self.location).href,new URL("/WebglStudy/assets/6-9d09d2dc.png",self.location).href,new URL("/WebglStudy/assets/7-68ca4bc6.png",self.location).href,new URL("/WebglStudy/assets/8-74f5f15e.jpg",self.location).href,new URL("/WebglStudy/assets/9-44142f78.jpg",self.location).href,new URL("/WebglStudy/assets/10-1cde4a43.png",self.location).href],he={1:{title:"《小橘贝》",author:"小雅",describe:`
		它站在画面中央，静静地凝视着观众，柔和的橘色将它的柔软毛发和灵动眼眸妩媚地勾勒出来。<br>
		小猫的小耳朵微微竖起，似乎在倾听着什么，身体略微前倾，展现出它对周围世界的好奇和敏感。<br>
		画面的背景色以淡蓝色为主，这种色彩营造了温馨轻柔的氛围，让人仿佛置身于阳光明媚的午后时光中。<br>
		整个画作细致精致、色彩明亮而温暖，带给人们一种温馨、亲切的感受。
		`},2:{title:"《微光》",author:"小雅",describe:`
		微小的星光和银河组成了一个神秘的宇宙世界，让人感到无限的遐想和想象。<br>
		当你凝视着这幅画时，你会感受到无边无际的深邃和宁静。<br>
		你仿佛置身于一个没有噪音、没有烦扰的夜空中。在这个宁静的空间里，你可以看到银河中微光闪烁的样子。<br>
		这些微光似乎是夜空中唯一的生命体，它们微弱却坚定地发出光芒，点亮着整个银河系。<br>
		这些微光是如此的纤细而又强大，仿佛在无边的黑暗中，只有它们才能给人带来希望和力量。
		`},3:{title:"《天鹅》",author:"小雅",describe:`
		湖面静谧如镜，微风拂过，泛起一圈圈细微的涟漪，仿佛为优雅的白色天鹅们铺上了一层晶莹剔透的纱帐。<br>
		其中一只白羽如雪的天鹅在水中自由自在地舞动着优美的姿态，如同一位华丽的舞者在水上翩翩起舞。<br>
		纯白色羽毛在阳光的照射下，闪烁着淡淡的光晕，如同珍珠一般璀璨夺目。
		`},4:{title:"《山中小屋》",author:"小雅",describe:`
		宁静而恬淡，远山隐现于云雾中，仿佛是一幅梦幻般的画卷。<br>
		小屋在山脚下宁静地伫立，墙体洁白，屋顶泛着淡淡的阳光，使得小屋与周围的环境相互映衬。<br>
		流露出一种自然的和谐之美。
		`},5:{title:"《太空人》",author:"小雅",describe:`
		太空人身披着黑夜在星罗棋布的宇宙中漫游。<br>
		虽说现在已经是太空时代，人类早就可以坐太空飞船去月球，<br>
		但却永远无法探索别人内心的宇宙。
		`},6:{title:"《粉色海洋》",author:"小雅",describe:`
		粉色云朵蓬松如棉花糖展开眼前，弯月微笑在缝隙间，月光柔和，清雅动人。<br>
		紫色天空如梦，星辉闪烁，默默倾听，轻轻地，微风拂面，悄悄地，生命在流动。
		`},7:{title:"《风平浪静》",author:"小雅",describe:`
		撑一条船，离开岸边一百米，风平浪静，彩霞慢慢淡下去。<br>
		撑一条船，离开岸边两百米，风平浪静，夜晚轻轻呼唤你。<br>
		撑一条船，离开岸边三百米，风平浪静，大鱼笑我傻兮兮。<br>
		撑一条船 离开岸边四百米，风平浪静，星儿闪闪笑眯眯。<br>
		撑一条船 离开岸边五百米，风平浪静，海龟向我挥手臂。
		`},8:{title:"《向日葵》",author:"小雅",describe:`
		阳光照耀，金黄的花盘。<br>
		宛如一盏明灯，指引前行。<br>
		向日葵，你是信仰，你是力量，你是光辉，你是坚毅，你是忠诚，你是爱慕，你是美丽。
		`},9:{title:"《花·虎·蝶》",author:"小雅",describe:`
		一段奇妙的相遇，是自由和勇气的结合，是一份神秘而又动人的韵味。<br>
		在这片色彩斑斓的花海之中，一只带着蝴蝶翅膀的老虎，骑着踏板车，<br>
		它像是一道闪电，划破了这片美好的天地。<br>
		翅膀轻轻地振动，仿佛随时可以飞离这片美好的天地，飞向更广阔的天空。
		`},10:{title:"《豚》",author:"小雅",describe:`
		所有的转折隐藏在密集的鸟群中，天空与海洋都无法察觉，怀着美梦却可以看见。<br>
		摸索颠倒的一瞬间，所有的怀念隐藏在相似的日子里，心里的蜘蛛模仿人类张灯结彩
		`}},k={width:window.innerWidth,height:window.innerHeight},we=C();var ae,We,ne,Ue,re,Ge,le,Ke,ie,He;class Io{constructor(e){D(this,ae);D(this,ne);D(this,re);D(this,le);D(this,ie);u(this,"loader",new Kt);u(this,"textureLoader",new At);u(this,"collisionScene");u(this,"textureBoards",{});u(this,"galleryBoards",{});u(this,"raycastObjects",[]);u(this,"loaded",C(!1));u(this,"scene");u(this,"loadingState",{loaded:[],total:[],progress:C(0)});this.scene=e,j(this,ie,He).call(this),j(this,ne,Ue).call(this);const o=[j(this,ae,We).call(this),j(this,re,Ge).call(this)];Promise.all(o).then(()=>{j(this,le,Ke).call(this),this.loaded.value=!0})}}ae=new WeakSet,We=function(){const{loader:e,scene:o}=this;return new Promise((s,a)=>{e.load("model/scene_collision.glb",n=>{const l=n.scene;l.updateMatrixWorld(!0),this.collisionScene=l,l.traverse(i=>{(i.name==="home001"||i.name==="PointLight")&&(i.castShadow=!0),i.name.includes("PointLight")&&i instanceof Dt&&(i.intensity*=2e3),i.name==="home002"&&(i.castShadow=!0,i.receiveShadow=!0),i instanceof q&&/gallery.*_board/.test(i.name)&&(this.galleryBoards[i.name]=i,this.raycastObjects.push(i))});const r=new Mt(this.collisionScene);r.attributes=["position"];const d=r.generate();d.boundsTree=new kt(d),we.value=new q(d),o.add(l),s(n)},n=>{const{loaded:l,total:r,progress:d}=this.loadingState;l[0]=n.loaded,r[0]=n.total,d.value=l.reduce((i,m)=>i+m,0)/r.reduce((i,m)=>i+m,0)})})},ne=new WeakSet,Ue=function(){const{loader:e,scene:o}=this;return new Promise(s=>{e.load("model/scene_desk_obj.glb",a=>{const n=a.scene;o.add(n),s(a)},a=>{const{loaded:n,total:l,progress:r}=this.loadingState;n[1]=a.loaded,l[1]=a.total,r.value=n.reduce((d,i)=>d+i,0)/l.reduce((d,i)=>d+i,0)})})},re=new WeakSet,Ge=async function(){const{textureLoader:e,textureBoards:o}=this,s=[];function a(n){n.colorSpace=Oe;const l=n.image.width/n.image.height;let r=1,d=1;l>1?r=1/l:d=l,n.offset.set(.5-r/2,.5-d/2),n.repeat.set(r,d)}for(const[n,l]of Oo.entries()){const r=new Promise(d=>{e.load(l,i=>{a(i),o[n+1]=i,d(i)})});s.push(r)}return await Promise.all(s),o},le=new WeakSet,Ke=function(){const{textureBoards:e,galleryBoards:o}=this;for(const s in e){const a=o[`gallery${s}_board`],n=a.material;n.map=e[s],a.userData={name:a.name,title:he[s].title,author:he[s].author,describe:he[s].describe,index:s,src:e[s].image.src,show_boards:!0},[4,5,6,7,9].includes(+s)&&(a.rotation.y=-Math.PI/2),+s==8&&(a.rotation.y=Math.PI)}},ie=new WeakSet,He=function(){const e=new Ht(new Ee(100,100),{textureWidth:k.width*window.devicePixelRatio,textureHeight:k.height*window.devicePixelRatio,color:16777215});e.material instanceof Bt&&(e.material.transparent=!0,e.material.fragmentShader=e.material.fragmentShader.replace("gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 )","gl_FragColor = vec4( blendOverlay( base.rgb, color ), 0.1 )")),e.rotation.x=-Math.PI/2,this.scene.add(e)};const Xe=C();var ce,Fe,de,qe,ue,Ze;class Vo{constructor(e){D(this,ce);D(this,de);D(this,ue);u(this,"cssScene");u(this,"scene");u(this,"cssRenderer");u(this,"update",e=>{this.cssRenderer.render(this.cssScene,e)});u(this,"dispose",()=>{this.cssScene.traverse(e=>{e.material&&e.material.dispose(),e.geometry&&e.geometry.dispose(),e.dispose&&e.dispose(),e=null}),this.cssScene.clear()});this.cssScene=new Ie,this.scene=e,this.cssRenderer=new Xt,j(this,ce,Fe).call(this),j(this,de,qe).call(this),j(this,ue,Ze).call(this)}}ce=new WeakSet,Fe=function(){const{cssRenderer:e}=this;e.setSize(k.width,k.height),e.domElement.style.position="absolute",e.domElement.style.top="0px",document.body.appendChild(e.domElement)},de=new WeakSet,qe=function(){H("resize",()=>{this.cssRenderer.setSize(k.width,k.height)})},ue=new WeakSet,Ze=function(){const e=new Ee(1.5,1.3),o=new Ot({color:0,side:It,transparent:!0,opacity:0,blending:Vt}),s=new q(e,o);s.position.set(-15.55,5.5,36.33),s.rotation.set(0,Math.PI/2,0),this.scene.add(s);const a=document.createElement("iframe");a.src="https://www.bilibili.com/",a.style.width="730px",a.style.height="500px",a.style.boxSizing="border-box",a.style.opacity="1";const n=new Ft(a);n.position.copy(s.position),n.rotation.copy(s.rotation),n.scale.set(.002,.002,.002),Xe.value=s,this.cssScene.add(n)};const Je=C(!1);class $o{constructor(e){u(this,"camera");u(this,"hoverPoint",new me(0,0));u(this,"tooltipRaycaster",new ye);u(this,"raycastObjects",[]);u(this,"bindClickRayCastObj",(e=[],o)=>{let s=0,a=0;H("mousedown",r=>{s=r.screenX,a=r.screenY}),this.raycastObjects=e;const n=new ye;n.far=18,H("mouseup",r=>{const d=Math.abs(r.screenX-s),i=Math.abs(r.screenY-a);if(d>1||i>1)return;const m=new me(r.clientX/k.width*2-1,1-r.clientY/k.height*2);n.setFromCamera(m,this.camera);const g=n.intersectObjects(e);g.length&&o(g[0].object)});const l=new ye;l.near=0,l.far=18,H("mousemove",r=>{const d=new me(r.clientX/k.width*2-1,1-r.clientY/k.height*2);l.setFromCamera(d,this.camera);const i=l.intersectObjects([Xe.value]);Je.value=!!i.length})});this.camera=e,this.tooltipRaycaster.far=15}updateTooltipRayCast(e,o){if(this.raycastObjects.length){this.tooltipRaycaster.setFromCamera(this.hoverPoint,this.camera);const s=this.tooltipRaycaster.intersectObjects(this.raycastObjects);s.length&&s[0].object.userData.title?e(s[0].object):o()}}}const Po={class:"tracking-wider select-none",text:"white"},jo={class:"fixed bottom-190px left-1/2 -translate-x-1/2 leading-40px z-11 px-20px rounded bg-black/40"},zo=L("footer",{class:"fixed bottom-20px left-1/2 -translate-x-1/2 leading-40px z-11 rounded bg-black/40 w-50vw text-center"},"Tips：点击此画可查看详情",-1),No=W({__name:"Tip",props:{title:{}},setup(t){return(e,o)=>(V(),G("div",Po,[L("header",jo,X(e.title),1),zo]))}}),Yo={class:"flex justify-between gap-x-40px tracking-wider leading-32px",text:"16px white"},Wo={class:"font-bold",text:"20px"},Uo=["innerHTML"],Go=["src"],Ko=W({__name:"Detail",props:{data:{}},setup(t){return(e,o)=>(V(),G("div",Yo,[L("aside",null,[L("header",Wo,X(e.data.title),1),L("p",null,"作者："+X(e.data.author),1),L("footer",{class:"text-justify leading-40px",innerHTML:e.data.describe},null,8,Uo)]),L("img",{src:e.data.src,alt:"",class:"w-670px h-500px"},null,8,Go)]))}});var pe;class Ho{constructor(e,o){u(this,"scene");u(this,"camera");u(this,"sound");D(this,pe,()=>{const e=new $t;this.camera.add(e);const o=new Pt(e);this.sound=o,new jt().load("虔心悲切遥呼上师祈请文.mp3",n=>{o.setBuffer(n),o.setRefDistance(20),o.setDirectionalCone(180,230,.5),o.setLoop(!0)});const a=new q(new Ee(1,1),new Ve({color:16711680}));a.position.set(-15.9,4.49,36.42),a.visible=!1,this.scene.add(a),a.add(o)});u(this,"play",()=>{this.sound.play()});u(this,"pause",()=>{this.sound.pause()});this.scene=e,this.camera=o,J(this,pe).call(this)}}pe=new WeakMap;const Xo={class:"fixed left-20px top-20px z-11"},Fo={key:0,class:"loading-text fixed z-11 inset-0 grid place-items-center",text:"120px"},qo=W({__name:"Index",setup(t){const e=new Ie;e.background=new zt(15658734);const o=new Nt(55,k.width/k.height,.1,1e3);o.position.set(0,0,3);const s=new Yt({antialias:!0,logarithmicDepthBuffer:!0});s.setSize(k.width,k.height),s.setPixelRatio(window.devicePixelRatio),s.shadowMap.enabled=!0,s.outputColorSpace=Oe,s.toneMapping=Wt;const a=St();_e(()=>{a.value.appendChild(s.domElement)});const n=new Vo(e),l=new xt(o,s.domElement);l.minDistance=1e-4,l.maxDistance=1e-4;const r=new Io(e),d=new $o(o);ee(r.loaded,y=>{y&&d.bindClickRayCastObj(r.raycastObjects,R)});const i=new q(new Tt(.5,2.5,.5,10,1),new Ve({color:255}));i.geometry.translate(0,-.25,0),e.add(i);const m=new Bo(i,l,o);m.reset();const g=new Ho(e,o),b=C(!1);function f(){b.value=!b.value,b.value?g.play():g.pause()}const h=new Ut;s.setAnimationLoop(()=>{s.render(e,o),l.update();const y=Math.min(h.getDelta(),.05);we.value&&m.updatePlayer(y,we.value),m.isMoving&&d.updateTooltipRayCast(E,B),n.update(o)});const S=C();function E(y){S.value=y.userData.title}function B(){S.value=null}const v=Y(()=>r.loadingState.progress.value<1),x=C(!1),_=C();function R(y){_.value=y.userData,x.value=!x.value}return Ct(()=>{Gt(e,s),n.dispose()}),(y,O)=>{const w=nt,T=Do;return V(),G(_t,null,[L("div",{id:"webgl",ref_key:"containerRef",ref:a,class:z(["relative z-1",{"pointer-events-none":c(Je)}])},null,2),L("div",Xo,[P(w,{type:"primary",onClick:f},{default:I(()=>[Et(X(c(b)?"暂停音乐":"播放音乐"),1)]),_:1})]),P(ge,{appear:"",name:"fade"},{default:I(()=>[c(v)?(V(),G("div",Fo,X(Math.floor(c(r).loadingState.progress.value*100))+"% ",1)):F("",!0)]),_:1}),P(ge,{appear:"",name:"fade"},{default:I(()=>[c(S)?(V(),te(No,{key:0,title:c(S)},null,8,["title"])):F("",!0)]),_:1}),P(T,{modelValue:c(x),"onUpdate:modelValue":O[0]||(O[0]=p=>De(x)?x.value=p:null),width:"70vw",class:"!bg-black !rounded-20px"},{default:I(()=>[P(Ko,{data:c(_)},null,8,["data"])]),_:1},8,["modelValue"])],64)}}});const hs=co(qo,[["__scopeId","data-v-c75df4f3"]]);export{hs as default};
