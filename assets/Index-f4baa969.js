var tt=Object.defineProperty;var ot=(t,e,o)=>e in t?tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var y=(t,e,o)=>(ot(t,typeof e!="symbol"?e+"":e,o),o),_e=(t,e,o)=>{if(!e.has(t))throw TypeError("Cannot "+o)};var Q=(t,e,o)=>(_e(t,e,"read from private field"),o?o.call(t):e.get(t)),O=(t,e,o)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,o)};var N=(t,e,o)=>(_e(t,e,"access private method"),o);import{a as we,b as Se,d as he,j as st,g as nt}from"./base-4609b706.js";import{i as at,C as lt,u as Me,E as rt}from"./el-button-68d1bb13.js";import{l as Ce,a3 as it,a4 as ct,E as $e,a5 as dt,M as te,Z as ut,X as me,d as G,q as P,P as U,y as pt,L as Ae,f as j,o as $,c as K,h as T,Q as z,a as f,t as F,w as I,i as oe,R as ft,S as X,H as Ve,k as D,B as mt,K as yt,N as ht,V as vt,z as gt,U as bt,a6 as wt,A as St,T as ve,a7 as Ct,s as xt,p as Et,F as _t,j as Mt}from"./index-5b6e1bef.js";import{O as At}from"./OrbitControls-44e46930.js";import{S as Dt,M as kt,R as Rt}from"./StaticGeometryGenerator-3f224977.js";import{V as Y,y as Tt,M as xe,aU as De,T as Lt,aV as Ot,b as q,f as Ee,$ as Bt,g as We,K as ke,J as Re,O as It,a3 as $t,S as Pe,a9 as Vt,D as Wt,Y as Pt,aW as Nt,aX as Ut,aY as zt,a as Ne,h as Yt,P as jt,W as Gt,a6 as Ht,E as Kt}from"./three.module-a9580ee8.js";import{d as Ft}from"./index-1a26f821.js";import{u as Z}from"./index-a1777b42.js";import{G as Xt}from"./GLTFLoader-f79a8b9f.js";import{R as qt}from"./Reflector-54c26062.js";import{E as Zt}from"./index-ab9de631.js";import{_ as Ue,d as Te,w as Jt}from"./use-form-item-6eab0d64.js";import{b as Qt,c as eo,a as to}from"./use-global-config-18cb7f08.js";import{g as oo,F as so,c as no,E as ao}from"./focus-trap-8593cdaf.js";import{b as ge,i as ze,h as Le,g as lo,a as ro,r as io,u as Oe}from"./style-cb188b3c.js";import{t as co,U as Ye}from"./event-e06a23af.js";import{_ as uo}from"./_plugin-vue_export-helper-c27b6911.js";var ee=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(ee||{});const po=(t,e,o)=>{let n={offsetX:0,offsetY:0};const a=c=>{const u=c.clientX,r=c.clientY,{offsetX:m,offsetY:d}=n,S=t.value.getBoundingClientRect(),v=S.left,w=S.top,p=S.width,s=S.height,C=document.documentElement.clientWidth,E=document.documentElement.clientHeight,x=-v+m,b=-w+d,M=C-v-p+m,h=E-w-s+d,k=R=>{const g=Math.min(Math.max(m+R.clientX-u,x),M),A=Math.min(Math.max(d+R.clientY-r,b),h);n={offsetX:g,offsetY:A},t.value.style.transform=`translate(${ge(g)}, ${ge(A)})`},_=()=>{document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",_)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",_)},l=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",a)},i=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",a)};Ce(()=>{it(()=>{o.value?l():i()})}),ct(()=>{i()})},fo=(t,e={})=>{$e(t)||co("[useLockscreen]","You need to pass a ref param to this function");const o=e.ns||we("popup"),n=dt(()=>o.bm("parent","hidden"));if(!ze||Le(document.body,n.value))return;let a=0,l=!1,i="0";const c=()=>{setTimeout(()=>{io(document==null?void 0:document.body,n.value),l&&document&&(document.body.style.width=i)},200)};te(t,u=>{if(!u){c();return}l=!Le(document.body,n.value),l&&(i=document.body.style.width),a=oo(o.namespace.value);const r=document.documentElement.clientHeight<document.body.scrollHeight,m=lo(document.body,"overflowY");a>0&&(r||m==="scroll")&&l&&(document.body.style.width=`calc(100% - ${a}px)`),ro(document.body,n.value)}),ut(()=>c())},je=t=>{if(!t)return{onClick:me,onMousedown:me,onMouseup:me};let e=!1,o=!1;return{onClick:i=>{e&&o&&t(i),e=o=!1},onMousedown:i=>{e=i.target===i.currentTarget},onMouseup:i=>{o=i.target===i.currentTarget}}},mo=Se({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:he([String,Array,Object])},zIndex:{type:he([String,Number])}}),yo={click:t=>t instanceof MouseEvent},ho="overlay";var vo=G({name:"ElOverlay",props:mo,emits:yo,setup(t,{slots:e,emit:o}){const n=we(ho),a=u=>{o("click",u)},{onClick:l,onMousedown:i,onMouseup:c}=je(t.customMaskEvent?void 0:a);return()=>t.mask?P("div",{class:[n.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:l,onMousedown:i,onMouseup:c},[U(e,"default")],ee.STYLE|ee.CLASS|ee.PROPS,["onClick","onMouseup","onMousedown"]):pt("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[U(e,"default")])}});const go=vo,Ge=Symbol("dialogInjectionKey"),He=Se({center:Boolean,alignCenter:Boolean,closeIcon:{type:at},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),bo={close:()=>!0},wo=["aria-level"],So=["aria-label"],Co=["id"],xo=G({name:"ElDialogContent"}),Eo=G({...xo,props:He,emits:bo,setup(t){const e=t,{t:o}=Qt(),{Close:n}=lt,{dialogRef:a,headerRef:l,bodyId:i,ns:c,style:u}=Ae(Ge),{focusTrapRef:r}=Ae(so),m=j(()=>[c.b(),c.is("fullscreen",e.fullscreen),c.is("draggable",e.draggable),c.is("align-center",e.alignCenter),{[c.m("center")]:e.center},e.customClass]),d=no(r,a),S=j(()=>e.draggable);return po(a,l,S),(v,w)=>($(),K("div",{ref:f(d),class:z(f(m)),style:Ve(f(u)),tabindex:"-1"},[T("header",{ref_key:"headerRef",ref:l,class:z(f(c).e("header"))},[U(v.$slots,"header",{},()=>[T("span",{role:"heading","aria-level":v.ariaLevel,class:z(f(c).e("title"))},F(v.title),11,wo)]),v.showClose?($(),K("button",{key:0,"aria-label":f(o)("el.dialog.close"),class:z(f(c).e("headerbtn")),type:"button",onClick:w[0]||(w[0]=p=>v.$emit("close"))},[P(f(Zt),{class:z(f(c).e("close"))},{default:I(()=>[($(),oe(ft(v.closeIcon||f(n))))]),_:1},8,["class"])],10,So)):X("v-if",!0)],2),T("div",{id:f(i),class:z(f(c).e("body"))},[U(v.$slots,"default")],10,Co),v.$slots.footer?($(),K("footer",{key:0,class:z(f(c).e("footer"))},[U(v.$slots,"footer")],2)):X("v-if",!0)],6))}});var _o=Ue(Eo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Mo=Se({...He,appendToBody:Boolean,beforeClose:{type:he(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),Ao={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Ye]:t=>st(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Do=(t,e)=>{const n=yt().emit,{nextZIndex:a}=eo();let l="";const i=Te(),c=Te(),u=D(!1),r=D(!1),m=D(!1),d=D(t.zIndex||a());let S,v;const w=to("namespace",nt),p=j(()=>{const L={},H=`--${w.value}-dialog`;return t.fullscreen||(t.top&&(L[`${H}-margin-top`]=t.top),t.width&&(L[`${H}-width`]=ge(t.width))),L}),s=j(()=>t.alignCenter?{display:"flex"}:{});function C(){n("opened")}function E(){n("closed"),n(Ye,!1),t.destroyOnClose&&(m.value=!1)}function x(){n("close")}function b(){v==null||v(),S==null||S(),t.openDelay&&t.openDelay>0?{stop:S}=Oe(()=>_(),t.openDelay):_()}function M(){S==null||S(),v==null||v(),t.closeDelay&&t.closeDelay>0?{stop:v}=Oe(()=>R(),t.closeDelay):R()}function h(){function L(H){H||(r.value=!0,u.value=!1)}t.beforeClose?t.beforeClose(L):M()}function k(){t.closeOnClickModal&&h()}function _(){ze&&(u.value=!0)}function R(){u.value=!1}function g(){n("openAutoFocus")}function A(){n("closeAutoFocus")}function V(L){var H;((H=L.detail)==null?void 0:H.focusReason)==="pointer"&&L.preventDefault()}t.lockScroll&&fo(u);function J(){t.closeOnPressEscape&&h()}return te(()=>t.modelValue,L=>{L?(r.value=!1,b(),m.value=!0,d.value=t.zIndex?d.value++:a(),mt(()=>{n("open"),e.value&&(e.value.scrollTop=0)})):u.value&&M()}),te(()=>t.fullscreen,L=>{e.value&&(L?(l=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=l)}),Ce(()=>{t.modelValue&&(u.value=!0,m.value=!0,b())}),{afterEnter:C,afterLeave:E,beforeLeave:x,handleClose:h,onModalClick:k,close:M,doClose:R,onOpenAutoFocus:g,onCloseAutoFocus:A,onCloseRequested:J,onFocusoutPrevented:V,titleId:i,bodyId:c,closed:r,style:p,overlayDialogStyle:s,rendered:m,visible:u,zIndex:d}},ko=["aria-label","aria-labelledby","aria-describedby"],Ro=G({name:"ElDialog",inheritAttrs:!1}),To=G({...Ro,props:Mo,emits:Ao,setup(t,{expose:e}){const o=t,n=ht();Me({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},j(()=>!!n.title)),Me({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},j(()=>!!o.customClass));const a=we("dialog"),l=D(),i=D(),c=D(),{visible:u,titleId:r,bodyId:m,style:d,overlayDialogStyle:S,rendered:v,zIndex:w,afterEnter:p,afterLeave:s,beforeLeave:C,handleClose:E,onModalClick:x,onOpenAutoFocus:b,onCloseAutoFocus:M,onCloseRequested:h,onFocusoutPrevented:k}=Do(o,l);vt(Ge,{dialogRef:l,headerRef:i,bodyId:m,ns:a,rendered:v,style:d});const _=je(x),R=j(()=>o.draggable&&!o.fullscreen);return e({visible:u,dialogContentRef:c}),(g,A)=>($(),oe(Ct,{to:"body",disabled:!g.appendToBody},[P(ve,{name:"dialog-fade",onAfterEnter:f(p),onAfterLeave:f(s),onBeforeLeave:f(C),persisted:""},{default:I(()=>[gt(P(f(go),{"custom-mask-event":"",mask:g.modal,"overlay-class":g.modalClass,"z-index":f(w)},{default:I(()=>[T("div",{role:"dialog","aria-modal":"true","aria-label":g.title||void 0,"aria-labelledby":g.title?void 0:f(r),"aria-describedby":f(m),class:z(`${f(a).namespace.value}-overlay-dialog`),style:Ve(f(S)),onClick:A[0]||(A[0]=(...V)=>f(_).onClick&&f(_).onClick(...V)),onMousedown:A[1]||(A[1]=(...V)=>f(_).onMousedown&&f(_).onMousedown(...V)),onMouseup:A[2]||(A[2]=(...V)=>f(_).onMouseup&&f(_).onMouseup(...V))},[P(f(ao),{loop:"",trapped:f(u),"focus-start-el":"container",onFocusAfterTrapped:f(b),onFocusAfterReleased:f(M),onFocusoutPrevented:f(k),onReleaseRequested:f(h)},{default:I(()=>[f(v)?($(),oe(_o,bt({key:0,ref_key:"dialogContentRef",ref:c},g.$attrs,{"custom-class":g.customClass,center:g.center,"align-center":g.alignCenter,"close-icon":g.closeIcon,draggable:f(R),fullscreen:g.fullscreen,"show-close":g.showClose,title:g.title,"aria-level":g.headerAriaLevel,onClose:f(E)}),wt({header:I(()=>[g.$slots.title?U(g.$slots,"title",{key:1}):U(g.$slots,"header",{key:0,close:f(E),titleId:f(r),titleClass:f(a).e("title")})]),default:I(()=>[U(g.$slots,"default")]),_:2},[g.$slots.footer?{name:"footer",fn:I(()=>[U(g.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):X("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,ko)]),_:3},8,["mask","overlay-class","z-index"]),[[St,f(u)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Lo=Ue(To,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Oo=Jt(Lo);var se,ne;class Bo{constructor(e,o,n){y(this,"moveState",{forward:!1,backward:!1,left:!1,right:!1,playerIsOnGround:!0});y(this,"playerVelocity",new Y);y(this,"player");y(this,"temp",{upVector:new Y(0,1,0),tempVector:new Y,tempVector2:new Y,tempBox:new Tt,tempMat:new xe,tempSegment:new De});y(this,"params",{playerSpeed:12,gravity:-50});y(this,"controls");y(this,"camera");y(this,"capsuleInfo",{radius:1,segment:new De(new Y,new Y(0,-5,0))});O(this,se,e=>{const{moveState:o}=this;switch(e.code){case"KeyW":case"ArrowUp":o.forward=!0;break;case"KeyS":case"ArrowDown":o.backward=!0;break;case"KeyA":case"ArrowLeft":o.left=!0;break;case"KeyD":case"ArrowRight":o.right=!0;break;case"Space":o.playerIsOnGround&&(this.playerVelocity.y=20,o.playerIsOnGround=!1)}});O(this,ne,e=>{const{moveState:o}=this;switch(e.code){case"KeyW":case"ArrowUp":o.forward=!1;break;case"KeyS":case"ArrowDown":o.backward=!1;break;case"KeyA":case"ArrowLeft":o.left=!1;break;case"KeyD":case"ArrowRight":o.right=!1;break}});y(this,"reset",()=>{const{playerVelocity:e,player:o,camera:n,controls:a}=this;e.set(0,0,0),o.position.set(0,5,0),n.position.sub(a.target),a.target.copy(o.position),n.position.add(o.position),a.update()});Z("keydown",Q(this,se)),Z("keyup",Q(this,ne)),this.player=e,this.controls=o,this.camera=n}updatePlayer(e,o){const{playerVelocity:n,player:a,params:l,controls:i,camera:c}=this,{playerIsOnGround:u,forward:r,backward:m,right:d,left:S}=this.moveState,{upVector:v,tempVector:w}=this.temp;u?n.y=e*l.gravity:n.y+=e*l.gravity,a.position.addScaledVector(n,e);const p=i.getAzimuthalAngle();r&&(w.set(0,0,-1).applyAxisAngle(v,p),a.position.addScaledVector(w,l.playerSpeed*e)),m&&(w.set(0,0,1).applyAxisAngle(v,p),a.position.addScaledVector(w,l.playerSpeed*e)),S&&(w.set(-1,0,0).applyAxisAngle(v,p),a.position.addScaledVector(w,l.playerSpeed*e)),d&&(w.set(1,0,0).applyAxisAngle(v,p),a.position.addScaledVector(w,l.playerSpeed*e)),a.updateMatrixWorld();const{tempBox:s,tempMat:C,tempSegment:E,tempVector2:x}=this.temp,b=this.capsuleInfo;s.makeEmpty(),C.copy(o.matrixWorld).invert(),E.copy(b.segment),E.start.applyMatrix4(a.matrixWorld).applyMatrix4(C),E.end.applyMatrix4(a.matrixWorld).applyMatrix4(C),s.expandByPoint(E.start),s.expandByPoint(E.end),s.min.addScalar(-b.radius),s.max.addScalar(b.radius),o.geometry.boundsTree.shapecast({intersectsBounds:_=>_.intersectsBox(s),intersectsTriangle:_=>{const R=w,g=x,A=_.closestPointToSegment(E,R,g);if(A<b.radius){const V=b.radius-A,J=g.sub(R).normalize();E.start.addScaledVector(J,V),E.end.addScaledVector(J,V)}}});const M=w;M.copy(E.start).applyMatrix4(o.matrixWorld);const h=x;h.subVectors(M,a.position),this.moveState.playerIsOnGround=h.y>Math.abs(e*n.y*.25);const k=Math.max(0,h.length()-1e-5);h.normalize().multiplyScalar(k),a.position.add(h),u?n.set(0,0,0):(h.normalize(),n.addScaledVector(h,-h.dot(n))),c.position.sub(i.target),i.target.copy(a.position),c.position.add(a.position),a.position.y<-25&&this.reset()}get isMoving(){const{forward:e,backward:o,left:n,right:a,playerIsOnGround:l}=this.moveState;return e||o||n||a||!l}}se=new WeakMap,ne=new WeakMap;const Io=[new URL("/WebglStudy/assets/1-91d1fd28.png",self.location).href,new URL("/WebglStudy/assets/2-577e2981.png",self.location).href,new URL("/WebglStudy/assets/3-e96f4416.jpg",self.location).href,new URL("/WebglStudy/assets/4-2c59a331.jpg",self.location).href,new URL("/WebglStudy/assets/5-c8aed110.png",self.location).href,new URL("/WebglStudy/assets/6-9d09d2dc.png",self.location).href,new URL("/WebglStudy/assets/7-68ca4bc6.png",self.location).href,new URL("/WebglStudy/assets/8-74f5f15e.jpg",self.location).href,new URL("/WebglStudy/assets/9-44142f78.jpg",self.location).href,new URL("/WebglStudy/assets/10-1cde4a43.png",self.location).href],ye={1:{title:"《小橘贝》",author:"小雅",describe:`
		它站在画面中央，静静地凝视着观众，柔和的橘色将它的柔软毛发和灵动眼眸妩媚地勾勒出来。<br>
		小猫的小耳朵微微竖起，似乎在倾听着什么，身体略微前倾，展现出它对周围世界的好奇和敏感。<br>
		画面的背景色以淡蓝色为主，这种色彩营造了温馨轻柔的氛围，让人仿佛置身于阳光明媚的午后时光中。<br>
		整个画作细致精致、色彩明亮而温暖，带给人们一种温馨、亲切的感受。
		`},2:{title:"《微光》",author:"小雅",describe:`
		微小的星光和银河组成了一个神秘的宇宙世界，让人感到无限的遐想和想象。<br>
		当你凝视着这幅画时，你会感受到无边无际的深邃和宁静。<br>
		你仿佛置身于一个没有噪音、没有烦扰的夜空中。在这个宁静的空间里，你可以看到银河中微光闪烁的样子。<br>
		这些微光似乎是夜空中唯一的生命体，它们微弱却坚定地发出光芒，点亮着整个银河系。<br>
		这些微光是如此的纤细而又强大，仿佛在无边的黑暗中，只有它们才能给人带来希望和力量。
		`},3:{title:"《天鹅》",author:"小雅",describe:`
		湖面静谧如镜，微风拂过，泛起一圈圈细微的涟漪，仿佛为优雅的白色天鹅们铺上了一层晶莹剔透的纱帐。<br>
		其中一只白羽如雪的天鹅在水中自由自在地舞动着优美的姿态，如同一位华丽的舞者在水上翩翩起舞。<br>
		纯白色羽毛在阳光的照射下，闪烁着淡淡的光晕，如同珍珠一般璀璨夺目。
		`},4:{title:"《山中小屋》",author:"小雅",describe:`
		宁静而恬淡，远山隐现于云雾中，仿佛是一幅梦幻般的画卷。<br>
		小屋在山脚下宁静地伫立，墙体洁白，屋顶泛着淡淡的阳光，使得小屋与周围的环境相互映衬。<br>
		流露出一种自然的和谐之美。
		`},5:{title:"《太空人》",author:"小雅",describe:`
		太空人身披着黑夜在星罗棋布的宇宙中漫游。<br>
		虽说现在已经是太空时代，人类早就可以坐太空飞船去月球，<br>
		但却永远无法探索别人内心的宇宙。
		`},6:{title:"《粉色海洋》",author:"小雅",describe:`
		粉色云朵蓬松如棉花糖展开眼前，弯月微笑在缝隙间，月光柔和，清雅动人。<br>
		紫色天空如梦，星辉闪烁，默默倾听，轻轻地，微风拂面，悄悄地，生命在流动。
		`},7:{title:"《风平浪静》",author:"小雅",describe:`
		撑一条船，离开岸边一百米，风平浪静，彩霞慢慢淡下去。<br>
		撑一条船，离开岸边两百米，风平浪静，夜晚轻轻呼唤你。<br>
		撑一条船，离开岸边三百米，风平浪静，大鱼笑我傻兮兮。<br>
		撑一条船 离开岸边四百米，风平浪静，星儿闪闪笑眯眯。<br>
		撑一条船 离开岸边五百米，风平浪静，海龟向我挥手臂。
		`},8:{title:"《向日葵》",author:"小雅",describe:`
		阳光照耀，金黄的花盘。<br>
		宛如一盏明灯，指引前行。<br>
		向日葵，你是信仰，你是力量，你是光辉，你是坚毅，你是忠诚，你是爱慕，你是美丽。
		`},9:{title:"《花·虎·蝶》",author:"小雅",describe:`
		一段奇妙的相遇，是自由和勇气的结合，是一份神秘而又动人的韵味。<br>
		在这片色彩斑斓的花海之中，一只带着蝴蝶翅膀的老虎，骑着踏板车，<br>
		它像是一道闪电，划破了这片美好的天地。<br>
		翅膀轻轻地振动，仿佛随时可以飞离这片美好的天地，飞向更广阔的天空。
		`},10:{title:"《豚》",author:"小雅",describe:`
		所有的转折隐藏在密集的鸟群中，天空与海洋都无法察觉，怀着美梦却可以看见。<br>
		摸索颠倒的一瞬间，所有的怀念隐藏在相似的日子里，心里的蜘蛛模仿人类张灯结彩
		`}},B={width:window.innerWidth,height:window.innerHeight},be=D();var ae,Ke,le,Fe,re,Xe,ie,qe,ce,Ze;class $o{constructor(e){O(this,ae);O(this,le);O(this,re);O(this,ie);O(this,ce);y(this,"loader",new Xt);y(this,"textureLoader",new Lt);y(this,"collisionScene");y(this,"textureBoards",{});y(this,"galleryBoards",{});y(this,"raycastObjects",[]);y(this,"loaded",D(!1));y(this,"scene");y(this,"loadingState",{loaded:[],total:[],progress:D(0)});this.scene=e,N(this,ce,Ze).call(this),N(this,le,Fe).call(this);const o=[N(this,ae,Ke).call(this),N(this,re,Xe).call(this)];Promise.all(o).then(()=>{N(this,ie,qe).call(this),this.loaded.value=!0})}}ae=new WeakSet,Ke=function(){const{loader:e,scene:o}=this;return new Promise((n,a)=>{e.load("model/scene_collision.glb",l=>{const i=l.scene;i.updateMatrixWorld(!0),this.collisionScene=i,i.traverse(r=>{(r.name==="home001"||r.name==="PointLight")&&(r.castShadow=!0),r.name.includes("PointLight")&&r instanceof Ot&&(r.intensity*=2e3),r.name==="home002"&&(r.castShadow=!0,r.receiveShadow=!0),r instanceof q&&/gallery.*_board/.test(r.name)&&(this.galleryBoards[r.name]=r,this.raycastObjects.push(r))});const c=new Dt(this.collisionScene);c.attributes=["position"];const u=c.generate();u.boundsTree=new kt(u),be.value=new q(u),o.add(i),n(l)},l=>{const{loaded:i,total:c,progress:u}=this.loadingState;i[0]=l.loaded,c[0]=l.total,u.value=i.reduce((r,m)=>r+m,0)/c.reduce((r,m)=>r+m,0)})})},le=new WeakSet,Fe=function(){const{loader:e,scene:o}=this;return new Promise(n=>{e.load("model/scene_desk_obj.glb",a=>{const l=a.scene;o.add(l),n(a)},a=>{const{loaded:l,total:i,progress:c}=this.loadingState;l[1]=a.loaded,i[1]=a.total,c.value=l.reduce((u,r)=>u+r,0)/i.reduce((u,r)=>u+r,0)})})},re=new WeakSet,Xe=async function(){const{textureLoader:e,textureBoards:o}=this,n=[];function a(l){l.colorSpace=We;const i=l.image.width/l.image.height;let c=1,u=1;i>1?c=1/i:u=i,l.offset.set(.5-c/2,.5-u/2),l.repeat.set(c,u)}for(const[l,i]of Io.entries()){const c=new Promise(u=>{e.load(i,r=>{a(r),o[l+1]=r,u(r)})});n.push(c)}return await Promise.all(n),o},ie=new WeakSet,qe=function(){const{textureBoards:e,galleryBoards:o}=this;for(const n in e){const a=o[`gallery${n}_board`],l=a.material;l.map=e[n],a.userData={name:a.name,title:ye[n].title,author:ye[n].author,describe:ye[n].describe,index:n,src:e[n].image.src,show_boards:!0},[4,5,6,7,9].includes(+n)&&(a.rotation.y=-Math.PI/2),+n==8&&(a.rotation.y=Math.PI)}},ce=new WeakSet,Ze=function(){const e=new qt(new Ee(100,100),{textureWidth:B.width*window.devicePixelRatio,textureHeight:B.height*window.devicePixelRatio,color:16777215});e.material instanceof Bt&&(e.material.transparent=!0,e.material.fragmentShader=e.material.fragmentShader.replace("gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 )","gl_FragColor = vec4( blendOverlay( base.rgb, color ), 0.1 )")),e.rotation.x=-Math.PI/2,this.scene.add(e)};class Vo{constructor(e){y(this,"camera");y(this,"hoverPoint",new ke(0,0));y(this,"tooltipRaycaster",new Re);y(this,"raycastObjects",[]);y(this,"bindClickRayCastObj",(e=[],o)=>{let n=0,a=0;Z("mousedown",l=>{n=l.screenX,a=l.screenY}),this.raycastObjects=e,Z("mouseup",l=>{const i=Math.abs(l.screenX-n),c=Math.abs(l.screenY-a);if(i>1||c>1)return;const u=new ke(l.clientX/B.width*2-1,1-l.clientY/B.height*2),r=new Re;r.far=18,r.setFromCamera(u,this.camera);const m=r.intersectObjects(e);m.length&&o(m[0].object)})});this.camera=e,this.tooltipRaycaster.far=15}updateTooltipRayCast(e,o){if(this.raycastObjects.length){this.tooltipRaycaster.setFromCamera(this.hoverPoint,this.camera);const n=this.tooltipRaycaster.intersectObjects(this.raycastObjects);n.length&&n[0].object.userData.title?e(n[0].object):o()}}}const Wo={class:"tracking-wider select-none",text:"white"},Po={class:"fixed bottom-190px left-1/2 -translate-x-1/2 leading-40px px-20px rounded bg-black/40"},No=T("footer",{class:"fixed bottom-20px left-1/2 -translate-x-1/2 leading-40px rounded bg-black/40 w-50vw text-center"},"Tips：点击此画可查看详情",-1),Uo=G({__name:"Tip",props:{title:{}},setup(t){return(e,o)=>($(),K("div",Wo,[T("header",Po,F(e.title),1),No]))}}),zo={class:"flex justify-between gap-x-40px tracking-wider leading-32px",text:"16px white"},Yo={class:"font-bold",text:"20px"},jo=["innerHTML"],Go=["src"],Ho=G({__name:"Detail",props:{data:{}},setup(t){return(e,o)=>($(),K("div",zo,[T("aside",null,[T("header",Yo,F(e.data.title),1),T("p",null,"作者："+F(e.data.author),1),T("footer",{class:"text-justify leading-40px",innerHTML:e.data.describe},null,8,jo)]),T("img",{src:e.data.src,alt:"",class:"w-670px h-500px"},null,8,Go)]))}}),Be=new Y,Ko=new $t,Ie=new Y;class Fo extends It{constructor(e=document.createElement("div")){super(),this.isCSS3DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(o){o.element instanceof Element&&o.element.parentNode!==null&&o.element.parentNode.removeChild(o.element)})})}copy(e,o){return super.copy(e,o),this.element=e.element.cloneNode(!0),this}}const W=new xe,Xo=new xe;class qo{constructor(e={}){const o=this;let n,a,l,i;const c={camera:{fov:0,style:""},objects:new WeakMap},u=e.element!==void 0?e.element:document.createElement("div");u.style.overflow="hidden",this.domElement=u;const r=document.createElement("div");r.style.transformOrigin="0 0",r.style.pointerEvents="none",u.appendChild(r);const m=document.createElement("div");m.style.transformStyle="preserve-3d",r.appendChild(m),this.getSize=function(){return{width:n,height:a}},this.render=function(p,s){const C=s.projectionMatrix.elements[5]*i;c.camera.fov!==C&&(r.style.perspective=s.isPerspectiveCamera?C+"px":"",c.camera.fov=C),s.view&&s.view.enabled?(r.style.transform=`translate( ${-s.view.offsetX*(n/s.view.width)}px, ${-s.view.offsetY*(a/s.view.height)}px )`,r.style.transform+=`scale( ${s.view.fullWidth/s.view.width}, ${s.view.fullHeight/s.view.height} )`):r.style.transform="",p.matrixWorldAutoUpdate===!0&&p.updateMatrixWorld(),s.parent===null&&s.matrixWorldAutoUpdate===!0&&s.updateMatrixWorld();let E,x;s.isOrthographicCamera&&(E=-(s.right+s.left)/2,x=(s.top+s.bottom)/2);const b=s.view&&s.view.enabled?s.view.height/s.view.fullHeight:1,h=(s.isOrthographicCamera?`scale( ${b} )scale(`+C+")translate("+d(E)+"px,"+d(x)+"px)"+S(s.matrixWorldInverse):`scale( ${b} )translateZ(`+C+"px)"+S(s.matrixWorldInverse))+"translate("+l+"px,"+i+"px)";c.camera.style!==h&&(m.style.transform=h,c.camera.style=h),w(p,p,s)},this.setSize=function(p,s){n=p,a=s,l=n/2,i=a/2,u.style.width=p+"px",u.style.height=s+"px",r.style.width=p+"px",r.style.height=s+"px",m.style.width=p+"px",m.style.height=s+"px"};function d(p){return Math.abs(p)<1e-10?0:p}function S(p){const s=p.elements;return"matrix3d("+d(s[0])+","+d(-s[1])+","+d(s[2])+","+d(s[3])+","+d(s[4])+","+d(-s[5])+","+d(s[6])+","+d(s[7])+","+d(s[8])+","+d(-s[9])+","+d(s[10])+","+d(s[11])+","+d(s[12])+","+d(-s[13])+","+d(s[14])+","+d(s[15])+")"}function v(p){const s=p.elements;return"translate(-50%,-50%)"+("matrix3d("+d(s[0])+","+d(s[1])+","+d(s[2])+","+d(s[3])+","+d(-s[4])+","+d(-s[5])+","+d(-s[6])+","+d(-s[7])+","+d(s[8])+","+d(s[9])+","+d(s[10])+","+d(s[11])+","+d(s[12])+","+d(s[13])+","+d(s[14])+","+d(s[15])+")")}function w(p,s,C,E){if(p.isCSS3DObject){const x=p.visible===!0&&p.layers.test(C.layers)===!0;if(p.element.style.display=x===!0?"":"none",x===!0){p.onBeforeRender(o,s,C);let b;p.isCSS3DSprite?(W.copy(C.matrixWorldInverse),W.transpose(),p.rotation2D!==0&&W.multiply(Xo.makeRotationZ(p.rotation2D)),p.matrixWorld.decompose(Be,Ko,Ie),W.setPosition(Be),W.scale(Ie),W.elements[3]=0,W.elements[7]=0,W.elements[11]=0,W.elements[15]=1,b=v(W)):b=v(p.matrixWorld);const M=p.element,h=c.objects.get(p);if(h===void 0||h.style!==b){M.style.transform=b;const k={style:b};c.objects.set(p,k)}M.parentNode!==m&&m.appendChild(M),p.onAfterRender(o,s,C)}}for(let x=0,b=p.children.length;x<b;x++)w(p.children[x],s,C)}}}var de,Je,ue,Qe,pe,et;class Zo{constructor(e){O(this,de);O(this,ue);O(this,pe);y(this,"cssScene");y(this,"scene");y(this,"cssRenderer");y(this,"update",e=>{this.cssRenderer.render(this.cssScene,e)});y(this,"dispose",()=>{this.cssScene.traverse(e=>{e.material&&e.material.dispose(),e.geometry&&e.geometry.dispose(),e.dispose&&e.dispose(),e=null}),this.cssScene.clear()});this.cssScene=new Pe,this.scene=e,this.cssRenderer=new qo,N(this,de,Je).call(this),N(this,ue,Qe).call(this),N(this,pe,et).call(this)}}de=new WeakSet,Je=function(){const{cssRenderer:e}=this;e.setSize(B.width,B.height),e.domElement.style.position="absolute",e.domElement.style.top="0px",e.domElement.style.zIndex="-1",document.body.appendChild(e.domElement)},ue=new WeakSet,Qe=function(){Z("resize",()=>{this.cssRenderer.setSize(B.width,B.height)})},pe=new WeakSet,et=function(){const e=new Ee(1.5,1.3),o=new Vt({color:0,side:Wt,transparent:!0,opacity:0,blending:Pt}),n=new q(e,o);n.position.set(-15.55,5.5,36.33),n.rotation.set(0,Math.PI/2,0),this.scene.add(n);const a=document.createElement("iframe");a.src="/universe/index.html",a.style.width="1200px",a.style.height="900px",a.style.boxSizing="border-box",a.style.opacity="1";const l=new Fo(a);l.position.copy(n.position),l.rotation.copy(n.rotation),l.scale.set(.002,.002,.002),this.cssScene.add(l)};var fe;class Jo{constructor(e,o){y(this,"scene");y(this,"camera");y(this,"sound");O(this,fe,()=>{const e=new Nt;this.camera.add(e);const o=new Ut(e);this.sound=o,new zt().load("https://ws.stream.qqmusic.qq.com/C400002b58Uc1ujQre.m4a?guid=637115780&vkey=F118885DF2C776D7264A09A3DC8DE223CE1C6EBA576444DF495A7B1122AB746DD97A7A8F8B9AF11434631F0606D24DD2D0AA2D1738D8A813&uin=&fromtag=120032",l=>{o.setBuffer(l),o.setRefDistance(20),o.setDirectionalCone(180,230,.5),o.setLoop(!0)});const a=new q(new Ee(1,1),new Ne({color:16711680}));a.position.set(-15.9,4.49,36.42),a.visible=!1,this.scene.add(a),a.add(o)});y(this,"play",()=>{this.sound.play()});y(this,"pause",()=>{this.sound.pause()});this.scene=e,this.camera=o,Q(this,fe).call(this)}}fe=new WeakMap;const Qo={class:"fixed left-20px top-20px"},es={key:0,class:"loading-text fixed z-9 inset-0 grid place-items-center",text:"120px"},ts=G({__name:"Index",setup(t){const e=new Pe;e.background=new Yt(15658734);const o=new jt(55,B.width/B.height,.1,1e3);o.position.set(0,0,3);const n=new Gt({antialias:!0});n.setSize(B.width,B.height),n.setPixelRatio(window.devicePixelRatio),n.shadowMap.enabled=!0,n.outputColorSpace=We,n.toneMapping=Ht;const a=xt();Ce(()=>{a.value.appendChild(n.domElement)});const l=new At(o,n.domElement);l.minDistance=1e-4,l.maxDistance=1e-4;const i=new $o(e),c=new Vo(o);te(i.loaded,h=>{h&&c.bindClickRayCastObj(i.raycastObjects,M)});const u=new q(new Rt(.5,2.5,.5,10,1),new Ne({color:255}));u.geometry.translate(0,-.25,0),e.add(u);const r=new Zo(e),m=new Bo(u,l,o);m.reset();const d=new Jo(e,o),S=D(!1);function v(){S.value=!S.value,S.value?d.play():d.pause()}const w=new Kt;n.setAnimationLoop(()=>{n.render(e,o),l.update();const h=Math.min(w.getDelta(),.05);be.value&&m.updatePlayer(h,be.value),m.isMoving&&c.updateTooltipRayCast(s,C),r.update(o)});const p=D();function s(h){p.value=h.userData.title}function C(){p.value=null}const E=j(()=>(i.loadingState.progress.value,i.loadingState.progress.value<1,i.loadingState.progress.value<1)),x=D(!1),b=D();function M(h){b.value=h.userData,x.value=!x.value}return Et(()=>{Ft(e,n),r.dispose()}),(h,k)=>{const _=rt,R=Oo;return $(),K(_t,null,[T("div",{ref_key:"containerRef",ref:a},null,512),T("div",Qo,[P(_,{type:"primary",onClick:v},{default:I(()=>[Mt(F(f(S)?"暂停音乐":"播放音乐"),1)]),_:1})]),P(ve,{appear:"",name:"fade"},{default:I(()=>[f(E)?($(),K("div",es,F(Math.floor(f(i).loadingState.progress.value*100))+"% ",1)):X("",!0)]),_:1}),P(ve,{appear:"",name:"fade"},{default:I(()=>[f(p)?($(),oe(Uo,{key:0,title:f(p)},null,8,["title"])):X("",!0)]),_:1}),P(R,{modelValue:f(x),"onUpdate:modelValue":k[0]||(k[0]=g=>$e(x)?x.value=g:null),width:"70vw",class:"!bg-black !rounded-20px"},{default:I(()=>[P(Ho,{data:f(b)},null,8,["data"])]),_:1},8,["modelValue"])],64)}}});const ws=uo(ts,[["__scopeId","data-v-a174de79"]]);export{ws as default};
