var ot=Object.defineProperty;var st=(o,e,t)=>e in o?ot(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var y=(o,e,t)=>(st(o,typeof e!="symbol"?e+"":e,t),t),Ae=(o,e,t)=>{if(!e.has(o))throw TypeError("Cannot "+t)};var Q=(o,e,t)=>(Ae(o,e,"read from private field"),t?t.call(o):e.get(o)),B=(o,e,t)=>{if(e.has(o))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(o):e.set(o,t)};var P=(o,e,t)=>(Ae(o,e,"access private method"),t);import{a as Se,b as Ce,d as ve,j as nt,g as at}from"./base-69a98eb3.js";import{i as lt,C as rt,u as De,E as it}from"./el-button-f6e25217.js";import{l as xe,a3 as ct,a4 as dt,E as Ve,a5 as ut,M as oe,Z as pt,X as ye,d as G,q as N,P as U,y as ft,L as ke,f as j,o as $,c as K,h as R,Q as z,a as f,t as F,w as I,i as se,R as mt,S as X,H as Ne,k as D,B as yt,K as ht,N as vt,V as gt,z as bt,U as wt,a6 as St,A as Ct,T as ge,a7 as xt,s as Et,p as _t,F as Mt,j as At}from"./index-781b760a.js";import{O as Dt}from"./OrbitControls-5d4ea699.js";import{S as kt,M as Tt,R as Rt}from"./StaticGeometryGenerator-cbf8fa7f.js";import{V as Y,y as Lt,M as Ee,aT as Te,T as Bt,aU as Ot,b as q,f as _e,$ as It,g as Pe,K as Re,J as Le,O as $t,a2 as Wt,S as Ue,a8 as Vt,D as Nt,Y as Pt,aV as Ut,aW as zt,aX as Yt,a as ze,P as jt,W as Gt,a5 as Ht,E as Kt}from"./three.module-d7a93e67.js";import{d as Ft}from"./index-1a26f821.js";import{u as Z}from"./index-fd6213c7.js";import{G as Xt}from"./GLTFLoader-06287125.js";import{R as qt}from"./Reflector-108fc290.js";import{E as Zt}from"./index-2485ab19.js";import{_ as Ye,d as Be,w as Jt}from"./use-form-item-8d7e105e.js";import{b as Qt,c as eo,a as to}from"./use-global-config-78398b89.js";import{F as oo,c as so,E as no}from"./focus-trap-b27c242f.js";import{i as Me,b as be,h as Oe,g as ao,a as lo,r as ro,u as Ie}from"./style-fc5b023b.js";import{t as io,U as je}from"./event-e06a23af.js";import{_ as co}from"./_plugin-vue_export-helper-c27b6911.js";let ee;const uo=o=>{var e;if(!Me)return 0;if(ee!==void 0)return ee;const t=document.createElement("div");t.className=`${o}-scrollbar__wrap`,t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const s=t.offsetWidth;t.style.overflow="scroll";const a=document.createElement("div");a.style.width="100%",t.appendChild(a);const l=a.offsetWidth;return(e=t.parentNode)==null||e.removeChild(t),ee=s-l,ee};var te=(o=>(o[o.TEXT=1]="TEXT",o[o.CLASS=2]="CLASS",o[o.STYLE=4]="STYLE",o[o.PROPS=8]="PROPS",o[o.FULL_PROPS=16]="FULL_PROPS",o[o.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",o[o.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",o[o.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",o[o.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",o[o.NEED_PATCH=512]="NEED_PATCH",o[o.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",o[o.HOISTED=-1]="HOISTED",o[o.BAIL=-2]="BAIL",o))(te||{});const po=(o,e,t)=>{let s={offsetX:0,offsetY:0};const a=c=>{const u=c.clientX,r=c.clientY,{offsetX:m,offsetY:d}=s,S=o.value.getBoundingClientRect(),v=S.left,w=S.top,p=S.width,n=S.height,C=document.documentElement.clientWidth,E=document.documentElement.clientHeight,x=-v+m,b=-w+d,M=C-v-p+m,h=E-w-n+d,k=T=>{const g=Math.min(Math.max(m+T.clientX-u,x),M),A=Math.min(Math.max(d+T.clientY-r,b),h);s={offsetX:g,offsetY:A},o.value.style.transform=`translate(${be(g)}, ${be(A)})`},_=()=>{document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",_)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",_)},l=()=>{e.value&&o.value&&e.value.addEventListener("mousedown",a)},i=()=>{e.value&&o.value&&e.value.removeEventListener("mousedown",a)};xe(()=>{ct(()=>{t.value?l():i()})}),dt(()=>{i()})},fo=(o,e={})=>{Ve(o)||io("[useLockscreen]","You need to pass a ref param to this function");const t=e.ns||Se("popup"),s=ut(()=>t.bm("parent","hidden"));if(!Me||Oe(document.body,s.value))return;let a=0,l=!1,i="0";const c=()=>{setTimeout(()=>{ro(document==null?void 0:document.body,s.value),l&&document&&(document.body.style.width=i)},200)};oe(o,u=>{if(!u){c();return}l=!Oe(document.body,s.value),l&&(i=document.body.style.width),a=uo(t.namespace.value);const r=document.documentElement.clientHeight<document.body.scrollHeight,m=ao(document.body,"overflowY");a>0&&(r||m==="scroll")&&l&&(document.body.style.width=`calc(100% - ${a}px)`),lo(document.body,s.value)}),pt(()=>c())},Ge=o=>{if(!o)return{onClick:ye,onMousedown:ye,onMouseup:ye};let e=!1,t=!1;return{onClick:i=>{e&&t&&o(i),e=t=!1},onMousedown:i=>{e=i.target===i.currentTarget},onMouseup:i=>{t=i.target===i.currentTarget}}},mo=Ce({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:ve([String,Array,Object])},zIndex:{type:ve([String,Number])}}),yo={click:o=>o instanceof MouseEvent},ho="overlay";var vo=G({name:"ElOverlay",props:mo,emits:yo,setup(o,{slots:e,emit:t}){const s=Se(ho),a=u=>{t("click",u)},{onClick:l,onMousedown:i,onMouseup:c}=Ge(o.customMaskEvent?void 0:a);return()=>o.mask?N("div",{class:[s.b(),o.overlayClass],style:{zIndex:o.zIndex},onClick:l,onMousedown:i,onMouseup:c},[U(e,"default")],te.STYLE|te.CLASS|te.PROPS,["onClick","onMouseup","onMousedown"]):ft("div",{class:o.overlayClass,style:{zIndex:o.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[U(e,"default")])}});const go=vo,He=Symbol("dialogInjectionKey"),Ke=Ce({center:Boolean,alignCenter:Boolean,closeIcon:{type:lt},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),bo={close:()=>!0},wo=["aria-level"],So=["aria-label"],Co=["id"],xo=G({name:"ElDialogContent"}),Eo=G({...xo,props:Ke,emits:bo,setup(o){const e=o,{t}=Qt(),{Close:s}=rt,{dialogRef:a,headerRef:l,bodyId:i,ns:c,style:u}=ke(He),{focusTrapRef:r}=ke(oo),m=j(()=>[c.b(),c.is("fullscreen",e.fullscreen),c.is("draggable",e.draggable),c.is("align-center",e.alignCenter),{[c.m("center")]:e.center},e.customClass]),d=so(r,a),S=j(()=>e.draggable);return po(a,l,S),(v,w)=>($(),K("div",{ref:f(d),class:z(f(m)),style:Ne(f(u)),tabindex:"-1"},[R("header",{ref_key:"headerRef",ref:l,class:z(f(c).e("header"))},[U(v.$slots,"header",{},()=>[R("span",{role:"heading","aria-level":v.ariaLevel,class:z(f(c).e("title"))},F(v.title),11,wo)]),v.showClose?($(),K("button",{key:0,"aria-label":f(t)("el.dialog.close"),class:z(f(c).e("headerbtn")),type:"button",onClick:w[0]||(w[0]=p=>v.$emit("close"))},[N(f(Zt),{class:z(f(c).e("close"))},{default:I(()=>[($(),se(mt(v.closeIcon||f(s))))]),_:1},8,["class"])],10,So)):X("v-if",!0)],2),R("div",{id:f(i),class:z(f(c).e("body"))},[U(v.$slots,"default")],10,Co),v.$slots.footer?($(),K("footer",{key:0,class:z(f(c).e("footer"))},[U(v.$slots,"footer")],2)):X("v-if",!0)],6))}});var _o=Ye(Eo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Mo=Ce({...Ke,appendToBody:Boolean,beforeClose:{type:ve(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),Ao={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[je]:o=>nt(o),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Do=(o,e)=>{const s=ht().emit,{nextZIndex:a}=eo();let l="";const i=Be(),c=Be(),u=D(!1),r=D(!1),m=D(!1),d=D(o.zIndex||a());let S,v;const w=to("namespace",at),p=j(()=>{const L={},H=`--${w.value}-dialog`;return o.fullscreen||(o.top&&(L[`${H}-margin-top`]=o.top),o.width&&(L[`${H}-width`]=be(o.width))),L}),n=j(()=>o.alignCenter?{display:"flex"}:{});function C(){s("opened")}function E(){s("closed"),s(je,!1),o.destroyOnClose&&(m.value=!1)}function x(){s("close")}function b(){v==null||v(),S==null||S(),o.openDelay&&o.openDelay>0?{stop:S}=Ie(()=>_(),o.openDelay):_()}function M(){S==null||S(),v==null||v(),o.closeDelay&&o.closeDelay>0?{stop:v}=Ie(()=>T(),o.closeDelay):T()}function h(){function L(H){H||(r.value=!0,u.value=!1)}o.beforeClose?o.beforeClose(L):M()}function k(){o.closeOnClickModal&&h()}function _(){Me&&(u.value=!0)}function T(){u.value=!1}function g(){s("openAutoFocus")}function A(){s("closeAutoFocus")}function W(L){var H;((H=L.detail)==null?void 0:H.focusReason)==="pointer"&&L.preventDefault()}o.lockScroll&&fo(u);function J(){o.closeOnPressEscape&&h()}return oe(()=>o.modelValue,L=>{L?(r.value=!1,b(),m.value=!0,d.value=o.zIndex?d.value++:a(),yt(()=>{s("open"),e.value&&(e.value.scrollTop=0)})):u.value&&M()}),oe(()=>o.fullscreen,L=>{e.value&&(L?(l=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=l)}),xe(()=>{o.modelValue&&(u.value=!0,m.value=!0,b())}),{afterEnter:C,afterLeave:E,beforeLeave:x,handleClose:h,onModalClick:k,close:M,doClose:T,onOpenAutoFocus:g,onCloseAutoFocus:A,onCloseRequested:J,onFocusoutPrevented:W,titleId:i,bodyId:c,closed:r,style:p,overlayDialogStyle:n,rendered:m,visible:u,zIndex:d}},ko=["aria-label","aria-labelledby","aria-describedby"],To=G({name:"ElDialog",inheritAttrs:!1}),Ro=G({...To,props:Mo,emits:Ao,setup(o,{expose:e}){const t=o,s=vt();De({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},j(()=>!!s.title)),De({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},j(()=>!!t.customClass));const a=Se("dialog"),l=D(),i=D(),c=D(),{visible:u,titleId:r,bodyId:m,style:d,overlayDialogStyle:S,rendered:v,zIndex:w,afterEnter:p,afterLeave:n,beforeLeave:C,handleClose:E,onModalClick:x,onOpenAutoFocus:b,onCloseAutoFocus:M,onCloseRequested:h,onFocusoutPrevented:k}=Do(t,l);gt(He,{dialogRef:l,headerRef:i,bodyId:m,ns:a,rendered:v,style:d});const _=Ge(x),T=j(()=>t.draggable&&!t.fullscreen);return e({visible:u,dialogContentRef:c}),(g,A)=>($(),se(xt,{to:"body",disabled:!g.appendToBody},[N(ge,{name:"dialog-fade",onAfterEnter:f(p),onAfterLeave:f(n),onBeforeLeave:f(C),persisted:""},{default:I(()=>[bt(N(f(go),{"custom-mask-event":"",mask:g.modal,"overlay-class":g.modalClass,"z-index":f(w)},{default:I(()=>[R("div",{role:"dialog","aria-modal":"true","aria-label":g.title||void 0,"aria-labelledby":g.title?void 0:f(r),"aria-describedby":f(m),class:z(`${f(a).namespace.value}-overlay-dialog`),style:Ne(f(S)),onClick:A[0]||(A[0]=(...W)=>f(_).onClick&&f(_).onClick(...W)),onMousedown:A[1]||(A[1]=(...W)=>f(_).onMousedown&&f(_).onMousedown(...W)),onMouseup:A[2]||(A[2]=(...W)=>f(_).onMouseup&&f(_).onMouseup(...W))},[N(f(no),{loop:"",trapped:f(u),"focus-start-el":"container",onFocusAfterTrapped:f(b),onFocusAfterReleased:f(M),onFocusoutPrevented:f(k),onReleaseRequested:f(h)},{default:I(()=>[f(v)?($(),se(_o,wt({key:0,ref_key:"dialogContentRef",ref:c},g.$attrs,{"custom-class":g.customClass,center:g.center,"align-center":g.alignCenter,"close-icon":g.closeIcon,draggable:f(T),fullscreen:g.fullscreen,"show-close":g.showClose,title:g.title,"aria-level":g.headerAriaLevel,onClose:f(E)}),St({header:I(()=>[g.$slots.title?U(g.$slots,"title",{key:1}):U(g.$slots,"header",{key:0,close:f(E),titleId:f(r),titleClass:f(a).e("title")})]),default:I(()=>[U(g.$slots,"default")]),_:2},[g.$slots.footer?{name:"footer",fn:I(()=>[U(g.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):X("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,ko)]),_:3},8,["mask","overlay-class","z-index"]),[[Ct,f(u)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Lo=Ye(Ro,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Bo=Jt(Lo);var ne,ae;class Oo{constructor(e,t,s){y(this,"moveState",{forward:!1,backward:!1,left:!1,right:!1,playerIsOnGround:!0});y(this,"playerVelocity",new Y);y(this,"player");y(this,"temp",{upVector:new Y(0,1,0),tempVector:new Y,tempVector2:new Y,tempBox:new Lt,tempMat:new Ee,tempSegment:new Te});y(this,"params",{playerSpeed:12,gravity:-50});y(this,"controls");y(this,"camera");y(this,"capsuleInfo",{radius:1,segment:new Te(new Y,new Y(0,-5,0))});B(this,ne,e=>{const{moveState:t}=this;switch(e.code){case"KeyW":case"ArrowUp":t.forward=!0;break;case"KeyS":case"ArrowDown":t.backward=!0;break;case"KeyA":case"ArrowLeft":t.left=!0;break;case"KeyD":case"ArrowRight":t.right=!0;break;case"Space":t.playerIsOnGround&&(this.playerVelocity.y=20,t.playerIsOnGround=!1)}});B(this,ae,e=>{const{moveState:t}=this;switch(e.code){case"KeyW":case"ArrowUp":t.forward=!1;break;case"KeyS":case"ArrowDown":t.backward=!1;break;case"KeyA":case"ArrowLeft":t.left=!1;break;case"KeyD":case"ArrowRight":t.right=!1;break}});y(this,"reset",()=>{const{playerVelocity:e,player:t,camera:s,controls:a}=this;e.set(0,0,0),t.position.set(0,5,0),s.position.sub(a.target),a.target.copy(t.position),s.position.add(t.position),a.update()});Z("keydown",Q(this,ne)),Z("keyup",Q(this,ae)),this.player=e,this.controls=t,this.camera=s}updatePlayer(e,t){const{playerVelocity:s,player:a,params:l,controls:i,camera:c}=this,{playerIsOnGround:u,forward:r,backward:m,right:d,left:S}=this.moveState,{upVector:v,tempVector:w}=this.temp;u?s.y=e*l.gravity:s.y+=e*l.gravity,a.position.addScaledVector(s,e);const p=i.getAzimuthalAngle();r&&(w.set(0,0,-1).applyAxisAngle(v,p),a.position.addScaledVector(w,l.playerSpeed*e)),m&&(w.set(0,0,1).applyAxisAngle(v,p),a.position.addScaledVector(w,l.playerSpeed*e)),S&&(w.set(-1,0,0).applyAxisAngle(v,p),a.position.addScaledVector(w,l.playerSpeed*e)),d&&(w.set(1,0,0).applyAxisAngle(v,p),a.position.addScaledVector(w,l.playerSpeed*e)),a.updateMatrixWorld();const{tempBox:n,tempMat:C,tempSegment:E,tempVector2:x}=this.temp,b=this.capsuleInfo;n.makeEmpty(),C.copy(t.matrixWorld).invert(),E.copy(b.segment),E.start.applyMatrix4(a.matrixWorld).applyMatrix4(C),E.end.applyMatrix4(a.matrixWorld).applyMatrix4(C),n.expandByPoint(E.start),n.expandByPoint(E.end),n.min.addScalar(-b.radius),n.max.addScalar(b.radius),t.geometry.boundsTree.shapecast({intersectsBounds:_=>_.intersectsBox(n),intersectsTriangle:_=>{const T=w,g=x,A=_.closestPointToSegment(E,T,g);if(A<b.radius){const W=b.radius-A,J=g.sub(T).normalize();E.start.addScaledVector(J,W),E.end.addScaledVector(J,W)}}});const M=w;M.copy(E.start).applyMatrix4(t.matrixWorld);const h=x;h.subVectors(M,a.position),this.moveState.playerIsOnGround=h.y>Math.abs(e*s.y*.25);const k=Math.max(0,h.length()-1e-5);h.normalize().multiplyScalar(k),a.position.add(h),u?s.set(0,0,0):(h.normalize(),s.addScaledVector(h,-h.dot(s))),c.position.sub(i.target),i.target.copy(a.position),c.position.add(a.position),a.position.y<-25&&this.reset()}get isMoving(){const{forward:e,backward:t,left:s,right:a,playerIsOnGround:l}=this.moveState;return e||t||s||a||!l}}ne=new WeakMap,ae=new WeakMap;const Io=[new URL("/WebglStudy/assets/1-91d1fd28.png",self.location).href,new URL("/WebglStudy/assets/2-577e2981.png",self.location).href,new URL("/WebglStudy/assets/3-e96f4416.jpg",self.location).href,new URL("/WebglStudy/assets/4-2c59a331.jpg",self.location).href,new URL("/WebglStudy/assets/5-c8aed110.png",self.location).href,new URL("/WebglStudy/assets/6-9d09d2dc.png",self.location).href,new URL("/WebglStudy/assets/7-68ca4bc6.png",self.location).href,new URL("/WebglStudy/assets/8-74f5f15e.jpg",self.location).href,new URL("/WebglStudy/assets/9-44142f78.jpg",self.location).href,new URL("/WebglStudy/assets/10-1cde4a43.png",self.location).href],he={1:{title:"《小橘贝》",author:"小雅",describe:`
		它站在画面中央，静静地凝视着观众，柔和的橘色将它的柔软毛发和灵动眼眸妩媚地勾勒出来。<br>
		小猫的小耳朵微微竖起，似乎在倾听着什么，身体略微前倾，展现出它对周围世界的好奇和敏感。<br>
		画面的背景色以淡蓝色为主，这种色彩营造了温馨轻柔的氛围，让人仿佛置身于阳光明媚的午后时光中。<br>
		整个画作细致精致、色彩明亮而温暖，带给人们一种温馨、亲切的感受。
		`},2:{title:"《微光》",author:"小雅",describe:`
		微小的星光和银河组成了一个神秘的宇宙世界，让人感到无限的遐想和想象。<br>
		当你凝视着这幅画时，你会感受到无边无际的深邃和宁静。<br>
		你仿佛置身于一个没有噪音、没有烦扰的夜空中。在这个宁静的空间里，你可以看到银河中微光闪烁的样子。<br>
		这些微光似乎是夜空中唯一的生命体，它们微弱却坚定地发出光芒，点亮着整个银河系。<br>
		这些微光是如此的纤细而又强大，仿佛在无边的黑暗中，只有它们才能给人带来希望和力量。
		`},3:{title:"《天鹅》",author:"小雅",describe:`
		湖面静谧如镜，微风拂过，泛起一圈圈细微的涟漪，仿佛为优雅的白色天鹅们铺上了一层晶莹剔透的纱帐。<br>
		其中一只白羽如雪的天鹅在水中自由自在地舞动着优美的姿态，如同一位华丽的舞者在水上翩翩起舞。<br>
		纯白色羽毛在阳光的照射下，闪烁着淡淡的光晕，如同珍珠一般璀璨夺目。
		`},4:{title:"《山中小屋》",author:"小雅",describe:`
		宁静而恬淡，远山隐现于云雾中，仿佛是一幅梦幻般的画卷。<br>
		小屋在山脚下宁静地伫立，墙体洁白，屋顶泛着淡淡的阳光，使得小屋与周围的环境相互映衬。<br>
		流露出一种自然的和谐之美。
		`},5:{title:"《太空人》",author:"小雅",describe:`
		太空人身披着黑夜在星罗棋布的宇宙中漫游。<br>
		虽说现在已经是太空时代，人类早就可以坐太空飞船去月球，<br>
		但却永远无法探索别人内心的宇宙。
		`},6:{title:"《粉色海洋》",author:"小雅",describe:`
		粉色云朵蓬松如棉花糖展开眼前，弯月微笑在缝隙间，月光柔和，清雅动人。<br>
		紫色天空如梦，星辉闪烁，默默倾听，轻轻地，微风拂面，悄悄地，生命在流动。
		`},7:{title:"《风平浪静》",author:"小雅",describe:`
		撑一条船，离开岸边一百米，风平浪静，彩霞慢慢淡下去。<br>
		撑一条船，离开岸边两百米，风平浪静，夜晚轻轻呼唤你。<br>
		撑一条船，离开岸边三百米，风平浪静，大鱼笑我傻兮兮。<br>
		撑一条船 离开岸边四百米，风平浪静，星儿闪闪笑眯眯。<br>
		撑一条船 离开岸边五百米，风平浪静，海龟向我挥手臂。
		`},8:{title:"《向日葵》",author:"小雅",describe:`
		阳光照耀，金黄的花盘。<br>
		宛如一盏明灯，指引前行。<br>
		向日葵，你是信仰，你是力量，你是光辉，你是坚毅，你是忠诚，你是爱慕，你是美丽。
		`},9:{title:"《花·虎·蝶》",author:"小雅",describe:`
		一段奇妙的相遇，是自由和勇气的结合，是一份神秘而又动人的韵味。<br>
		在这片色彩斑斓的花海之中，一只带着蝴蝶翅膀的老虎，骑着踏板车，<br>
		它像是一道闪电，划破了这片美好的天地。<br>
		翅膀轻轻地振动，仿佛随时可以飞离这片美好的天地，飞向更广阔的天空。
		`},10:{title:"《豚》",author:"小雅",describe:`
		所有的转折隐藏在密集的鸟群中，天空与海洋都无法察觉，怀着美梦却可以看见。<br>
		摸索颠倒的一瞬间，所有的怀念隐藏在相似的日子里，心里的蜘蛛模仿人类张灯结彩
		`}},O={width:window.innerWidth,height:window.innerHeight},we=D();var le,Fe,re,Xe,ie,qe,ce,Ze,de,Je;class $o{constructor(e){B(this,le);B(this,re);B(this,ie);B(this,ce);B(this,de);y(this,"loader",new Xt);y(this,"textureLoader",new Bt);y(this,"collisionScene");y(this,"textureBoards",{});y(this,"galleryBoards",{});y(this,"raycastObjects",[]);y(this,"loaded",D(!1));y(this,"scene");y(this,"loadingState",{loaded:[],total:[],progress:D(0)});this.scene=e,P(this,de,Je).call(this),P(this,re,Xe).call(this);const t=[P(this,le,Fe).call(this),P(this,ie,qe).call(this)];Promise.all(t).then(()=>{P(this,ce,Ze).call(this),this.loaded.value=!0})}}le=new WeakSet,Fe=function(){const{loader:e,scene:t}=this;return new Promise((s,a)=>{e.load("model/scene_collision.glb",l=>{const i=l.scene;i.updateMatrixWorld(!0),this.collisionScene=i,i.traverse(r=>{(r.name==="home001"||r.name==="PointLight")&&(r.castShadow=!0),r.name.includes("PointLight")&&r instanceof Ot&&(r.intensity*=2e3),r.name==="home002"&&(r.castShadow=!0,r.receiveShadow=!0),r instanceof q&&/gallery.*_board/.test(r.name)&&(this.galleryBoards[r.name]=r,this.raycastObjects.push(r))});const c=new kt(this.collisionScene);c.attributes=["position"];const u=c.generate();u.boundsTree=new Tt(u),we.value=new q(u),t.add(i),s(l)},l=>{const{loaded:i,total:c,progress:u}=this.loadingState;i[0]=l.loaded,c[0]=l.total,u.value=i.reduce((r,m)=>r+m,0)/c.reduce((r,m)=>r+m,0)})})},re=new WeakSet,Xe=function(){const{loader:e,scene:t}=this;return new Promise(s=>{e.load("model/scene_desk_obj.glb",a=>{const l=a.scene;t.add(l),s(a)},a=>{const{loaded:l,total:i,progress:c}=this.loadingState;l[1]=a.loaded,i[1]=a.total,c.value=l.reduce((u,r)=>u+r,0)/i.reduce((u,r)=>u+r,0)})})},ie=new WeakSet,qe=async function(){const{textureLoader:e,textureBoards:t}=this,s=[];function a(l){l.colorSpace=Pe;const i=l.image.width/l.image.height;let c=1,u=1;i>1?c=1/i:u=i,l.offset.set(.5-c/2,.5-u/2),l.repeat.set(c,u)}for(const[l,i]of Io.entries()){const c=new Promise(u=>{e.load(i,r=>{a(r),t[l+1]=r,u(r)})});s.push(c)}return await Promise.all(s),t},ce=new WeakSet,Ze=function(){const{textureBoards:e,galleryBoards:t}=this;for(const s in e){const a=t[`gallery${s}_board`],l=a.material;l.map=e[s],a.userData={name:a.name,title:he[s].title,author:he[s].author,describe:he[s].describe,index:s,src:e[s].image.src,show_boards:!0},[4,5,6,7,9].includes(+s)&&(a.rotation.y=-Math.PI/2),+s==8&&(a.rotation.y=Math.PI)}},de=new WeakSet,Je=function(){const e=new qt(new _e(100,100),{textureWidth:O.width*window.devicePixelRatio,textureHeight:O.height*window.devicePixelRatio,color:16777215});e.material instanceof It&&(e.material.transparent=!0,e.material.fragmentShader=e.material.fragmentShader.replace("gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 )","gl_FragColor = vec4( blendOverlay( base.rgb, color ), 0.1 )")),e.rotation.x=-Math.PI/2,this.scene.add(e)};class Wo{constructor(e){y(this,"camera");y(this,"hoverPoint",new Re(0,0));y(this,"tooltipRaycaster",new Le);y(this,"raycastObjects",[]);y(this,"bindClickRayCastObj",(e=[],t)=>{let s=0,a=0;Z("mousedown",l=>{s=l.screenX,a=l.screenY}),this.raycastObjects=e,Z("mouseup",l=>{const i=Math.abs(l.screenX-s),c=Math.abs(l.screenY-a);if(i>1||c>1)return;const u=new Re(l.clientX/O.width*2-1,1-l.clientY/O.height*2),r=new Le;r.far=18,r.setFromCamera(u,this.camera);const m=r.intersectObjects(e);m.length&&t(m[0].object)})});this.camera=e,this.tooltipRaycaster.far=15}updateTooltipRayCast(e,t){if(this.raycastObjects.length){this.tooltipRaycaster.setFromCamera(this.hoverPoint,this.camera);const s=this.tooltipRaycaster.intersectObjects(this.raycastObjects);s.length&&s[0].object.userData.title?e(s[0].object):t()}}}const Vo={class:"tracking-wider select-none",text:"white"},No={class:"fixed bottom-190px left-1/2 -translate-x-1/2 leading-40px px-20px rounded bg-black/40"},Po=R("footer",{class:"fixed bottom-20px left-1/2 -translate-x-1/2 leading-40px rounded bg-black/40 w-50vw text-center"},"Tips：点击此画可查看详情",-1),Uo=G({__name:"Tip",props:{title:{}},setup(o){return(e,t)=>($(),K("div",Vo,[R("header",No,F(e.title),1),Po]))}}),zo={class:"flex justify-between gap-x-40px tracking-wider leading-32px",text:"16px white"},Yo={class:"font-bold",text:"20px"},jo=["innerHTML"],Go=["src"],Ho=G({__name:"Detail",props:{data:{}},setup(o){return(e,t)=>($(),K("div",zo,[R("aside",null,[R("header",Yo,F(e.data.title),1),R("p",null,"作者："+F(e.data.author),1),R("footer",{class:"text-justify leading-40px",innerHTML:e.data.describe},null,8,jo)]),R("img",{src:e.data.src,alt:"",class:"w-670px h-500px"},null,8,Go)]))}}),$e=new Y,Ko=new Wt,We=new Y;class Fo extends $t{constructor(e=document.createElement("div")){super(),this.isCSS3DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(t){t.element instanceof Element&&t.element.parentNode!==null&&t.element.parentNode.removeChild(t.element)})})}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this}}const V=new Ee,Xo=new Ee;class qo{constructor(e={}){const t=this;let s,a,l,i;const c={camera:{fov:0,style:""},objects:new WeakMap},u=e.element!==void 0?e.element:document.createElement("div");u.style.overflow="hidden",this.domElement=u;const r=document.createElement("div");r.style.transformOrigin="0 0",r.style.pointerEvents="none",u.appendChild(r);const m=document.createElement("div");m.style.transformStyle="preserve-3d",r.appendChild(m),this.getSize=function(){return{width:s,height:a}},this.render=function(p,n){const C=n.projectionMatrix.elements[5]*i;c.camera.fov!==C&&(r.style.perspective=n.isPerspectiveCamera?C+"px":"",c.camera.fov=C),n.view&&n.view.enabled?(r.style.transform=`translate( ${-n.view.offsetX*(s/n.view.width)}px, ${-n.view.offsetY*(a/n.view.height)}px )`,r.style.transform+=`scale( ${n.view.fullWidth/n.view.width}, ${n.view.fullHeight/n.view.height} )`):r.style.transform="",p.matrixWorldAutoUpdate===!0&&p.updateMatrixWorld(),n.parent===null&&n.matrixWorldAutoUpdate===!0&&n.updateMatrixWorld();let E,x;n.isOrthographicCamera&&(E=-(n.right+n.left)/2,x=(n.top+n.bottom)/2);const b=n.view&&n.view.enabled?n.view.height/n.view.fullHeight:1,h=(n.isOrthographicCamera?`scale( ${b} )scale(`+C+")translate("+d(E)+"px,"+d(x)+"px)"+S(n.matrixWorldInverse):`scale( ${b} )translateZ(`+C+"px)"+S(n.matrixWorldInverse))+"translate("+l+"px,"+i+"px)";c.camera.style!==h&&(m.style.transform=h,c.camera.style=h),w(p,p,n)},this.setSize=function(p,n){s=p,a=n,l=s/2,i=a/2,u.style.width=p+"px",u.style.height=n+"px",r.style.width=p+"px",r.style.height=n+"px",m.style.width=p+"px",m.style.height=n+"px"};function d(p){return Math.abs(p)<1e-10?0:p}function S(p){const n=p.elements;return"matrix3d("+d(n[0])+","+d(-n[1])+","+d(n[2])+","+d(n[3])+","+d(n[4])+","+d(-n[5])+","+d(n[6])+","+d(n[7])+","+d(n[8])+","+d(-n[9])+","+d(n[10])+","+d(n[11])+","+d(n[12])+","+d(-n[13])+","+d(n[14])+","+d(n[15])+")"}function v(p){const n=p.elements;return"translate(-50%,-50%)"+("matrix3d("+d(n[0])+","+d(n[1])+","+d(n[2])+","+d(n[3])+","+d(-n[4])+","+d(-n[5])+","+d(-n[6])+","+d(-n[7])+","+d(n[8])+","+d(n[9])+","+d(n[10])+","+d(n[11])+","+d(n[12])+","+d(n[13])+","+d(n[14])+","+d(n[15])+")")}function w(p,n,C,E){if(p.isCSS3DObject){const x=p.visible===!0&&p.layers.test(C.layers)===!0;if(p.element.style.display=x===!0?"":"none",x===!0){p.onBeforeRender(t,n,C);let b;p.isCSS3DSprite?(V.copy(C.matrixWorldInverse),V.transpose(),p.rotation2D!==0&&V.multiply(Xo.makeRotationZ(p.rotation2D)),p.matrixWorld.decompose($e,Ko,We),V.setPosition($e),V.scale(We),V.elements[3]=0,V.elements[7]=0,V.elements[11]=0,V.elements[15]=1,b=v(V)):b=v(p.matrixWorld);const M=p.element,h=c.objects.get(p);if(h===void 0||h.style!==b){M.style.transform=b;const k={style:b};c.objects.set(p,k)}M.parentNode!==m&&m.appendChild(M),p.onAfterRender(t,n,C)}}for(let x=0,b=p.children.length;x<b;x++)w(p.children[x],n,C)}}}var ue,Qe,pe,et,fe,tt;class Zo{constructor(e){B(this,ue);B(this,pe);B(this,fe);y(this,"cssScene");y(this,"scene");y(this,"cssRenderer");y(this,"update",e=>{this.cssRenderer.render(this.cssScene,e)});y(this,"dispose",()=>{this.cssScene.traverse(e=>{e.material&&e.material.dispose(),e.geometry&&e.geometry.dispose(),e.dispose&&e.dispose(),e=null}),this.cssScene.clear()});this.cssScene=new Ue,this.scene=e,this.cssRenderer=new qo,P(this,ue,Qe).call(this),P(this,pe,et).call(this),P(this,fe,tt).call(this)}}ue=new WeakSet,Qe=function(){const{cssRenderer:e}=this;e.setSize(O.width,O.height),e.domElement.style.position="absolute",e.domElement.style.top="0px",e.domElement.style.zIndex="-1",document.body.appendChild(e.domElement)},pe=new WeakSet,et=function(){Z("resize",()=>{this.cssRenderer.setSize(O.width,O.height)})},fe=new WeakSet,tt=function(){const e=new _e(1.5,1.3),t=new Vt({color:0,side:Nt,transparent:!0,opacity:0,blending:Pt}),s=new q(e,t);s.position.set(-15.55,5.5,36.33),s.rotation.set(0,Math.PI/2,0),this.scene.add(s);const a=document.createElement("iframe");a.src="/universe/index.html",a.style.width="1200px",a.style.height="900px",a.style.boxSizing="border-box",a.style.opacity="1";const l=new Fo(a);l.position.copy(s.position),l.rotation.copy(s.rotation),l.scale.set(.002,.002,.002),this.cssScene.add(l)};var me;class Jo{constructor(e,t){y(this,"scene");y(this,"camera");y(this,"sound");B(this,me,()=>{const e=new Ut;this.camera.add(e);const t=new zt(e);this.sound=t,new Yt().load("https://ws.stream.qqmusic.qq.com/C400002b58Uc1ujQre.m4a?guid=637115780&vkey=F118885DF2C776D7264A09A3DC8DE223CE1C6EBA576444DF495A7B1122AB746DD97A7A8F8B9AF11434631F0606D24DD2D0AA2D1738D8A813&uin=&fromtag=120032",l=>{t.setBuffer(l),t.setRefDistance(20),t.setDirectionalCone(180,230,.5),t.setLoop(!0)});const a=new q(new _e(1,1),new ze({color:16711680}));a.position.set(-15.9,4.49,36.42),a.visible=!1,this.scene.add(a),a.add(t)});y(this,"play",()=>{this.sound.play()});y(this,"pause",()=>{this.sound.pause()});this.scene=e,this.camera=t,Q(this,me).call(this)}}me=new WeakMap;const Qo={class:"fixed left-20px top-20px"},es={key:0,class:"loading-text fixed inset-0 grid place-items-center",text:"120px"},ts=G({__name:"Index",setup(o){const e=new Ue,t=new jt(55,O.width/O.height,.1,1e3);t.position.set(0,0,3);const s=new Gt({antialias:!0});s.setSize(O.width,O.height),s.setPixelRatio(window.devicePixelRatio),s.shadowMap.enabled=!0,s.outputColorSpace=Pe,s.toneMapping=Ht;const a=Et();xe(()=>{a.value.appendChild(s.domElement)});const l=new Dt(t,s.domElement);l.minDistance=1e-4,l.maxDistance=1e-4;const i=new $o(e),c=new Wo(t);oe(i.loaded,h=>{h&&c.bindClickRayCastObj(i.raycastObjects,M)});const u=new q(new Rt(.5,2.5,.5,10,1),new ze({color:255}));u.geometry.translate(0,-.25,0),e.add(u);const r=new Zo(e),m=new Oo(u,l,t);m.reset();const d=new Jo(e,t),S=D(!1);function v(){S.value=!S.value,S.value?d.play():d.pause()}const w=new Kt;s.setAnimationLoop(()=>{s.render(e,t),l.update();const h=Math.min(w.getDelta(),.05);we.value&&m.updatePlayer(h,we.value),m.isMoving&&c.updateTooltipRayCast(n,C),r.update(t)});const p=D();function n(h){p.value=h.userData.title}function C(){p.value=null}const E=j(()=>i.loadingState.progress.value<1),x=D(!1),b=D();function M(h){b.value=h.userData,x.value=!x.value}return _t(()=>{Ft(e,s),r.dispose()}),(h,k)=>{const _=it,T=Bo;return $(),K(Mt,null,[R("div",{ref_key:"containerRef",ref:a},null,512),R("div",Qo,[N(_,{type:"primary",onClick:v},{default:I(()=>[At(F(f(S)?"暂停音乐":"播放音乐"),1)]),_:1})]),N(ge,{appear:"",name:"fade"},{default:I(()=>[f(E)?($(),K("div",es,F(Math.floor(f(i).loadingState.progress.value*100))+"% ",1)):X("",!0)]),_:1}),N(ge,{appear:"",name:"fade"},{default:I(()=>[f(p)?($(),se(Uo,{key:0,title:f(p)},null,8,["title"])):X("",!0)]),_:1}),N(T,{modelValue:f(x),"onUpdate:modelValue":k[0]||(k[0]=g=>Ve(x)?x.value=g:null),width:"70vw",class:"!bg-black !rounded-20px"},{default:I(()=>[N(Ho,{data:f(b)},null,8,["data"])]),_:1},8,["modelValue"])],64)}}});const ws=co(ts,[["__scopeId","data-v-5713154c"]]);export{ws as default};
